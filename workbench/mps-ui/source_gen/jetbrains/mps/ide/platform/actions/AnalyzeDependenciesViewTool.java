package jetbrains.mps.ide.platform.actions;

/*Generated by MPS */

import jetbrains.mps.ide.tools.BaseProjectTool;
import jetbrains.mps.ide.platform.dependencyViewer.DependenciesPanel;
import com.intellij.openapi.project.Project;
import com.intellij.icons.AllIcons;
import com.intellij.openapi.wm.ToolWindowAnchor;
import jetbrains.mps.ide.platform.dependencyViewer.DependencyViewerScope;
import jetbrains.mps.ide.project.ProjectHelper;
import javax.swing.JComponent;

public class AnalyzeDependenciesViewTool extends BaseProjectTool {

  private DependenciesPanel myDependenciesPanel;

  public AnalyzeDependenciesViewTool(Project project) {
    super(project, "Dependencies Viewer", -1, AllIcons.Toolwindows.ToolWindowInspection, ToolWindowAnchor.BOTTOM, false);
  }

  @Override
  protected void createTool() {
    myDependenciesPanel = new DependenciesPanel(this, getProject());
  }

  public void setContent(DependencyViewerScope scope) {
    myDependenciesPanel.resetContent(scope, ProjectHelper.toMPSProject(getProject()), false);
    myDependenciesPanel.revalidate();
  }

  @Override
  public JComponent getComponent() {
    return myDependenciesPanel;
  }
}
