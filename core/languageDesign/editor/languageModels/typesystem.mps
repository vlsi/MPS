<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c8959029a(jetbrains.mps.lang.editor.typesystem)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="3a13115c-633c-4c5c-bbcc-75c4219e9555(jetbrains.mps.lang.quotation)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="12" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="3" modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <import index="6" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <import index="10" modelUID="f:java_stub#jetbrains.mps.nodeEditor(jetbrains.mps.nodeEditor@java_stub)" version="-1" />
  <import index="11" modelUID="r:00000000-0000-4000-0000-011c8959028b(jetbrains.mps.lang.structure.behavior)" version="-1" />
  <import index="12" modelUID="r:00000000-0000-4000-0000-011c89590297(jetbrains.mps.lang.editor.behavior)" version="-1" />
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1179766709016">
    <property name="name" value="typeof_CellKeyMap_FunctionParm_selectedNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179766709017">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179766709018">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179766709004">
          <property name="name" value="applicableConcept" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179766709019">
            <link role="concept" targetNodeId="1.1071489090640" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227919295">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227929606">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179766709022">
                <link role="applicableNode" targetNodeId="1179766709003" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179766709023">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179766709024">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492639">
                    <link role="conceptDeclaration" targetNodeId="3.1081293058843" resolveInfo="CellKeyMapDeclaration" />
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179766709025">
              <link role="link" targetNodeId="3.1139445935125" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086188">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086191">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086193">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179767203743">
              <link role="applicableNode" targetNodeId="1179766709003" resolveInfo="node" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086195">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439750">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439751">
              <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1196869439754">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196869439755">
                  <link role="variableDeclaration" targetNodeId="1179766709004" resolveInfo="applicableConcept" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179766709003">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1137189922873" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1179766709059">
    <property name="name" value="typeof_CellActionMap_FunctionParm_selectedNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179766709060">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179766709061">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179766709006">
          <property name="name" value="applicableConcept" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179766709062">
            <link role="concept" targetNodeId="1.1169125787135" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227820510">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227932317">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179766709065">
                <link role="applicableNode" targetNodeId="1179766709005" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179766709066">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179766709067">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492611">
                    <link role="conceptDeclaration" targetNodeId="3.1139535219966" resolveInfo="CellActionMapDeclaration" />
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179766709068">
              <link role="link" targetNodeId="3.1139535219968" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179767137918">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179767137919">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1179767165786">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1179767167326">
              <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179767165787">
                <link role="variableDeclaration" targetNodeId="1179766709006" resolveInfo="applicableConcept" />
              </node>
              <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227846524">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227900376">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179767174642">
                    <link role="applicableNode" targetNodeId="1179766709005" resolveInfo="node" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179767174643">
                    <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179767174644">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492615">
                        <link role="conceptDeclaration" targetNodeId="3.1080736578640" resolveInfo="BaseEditorComponent" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179767174645">
                  <link role="link" targetNodeId="3.1166049300910" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1179767162012">
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179767162010">
            <link role="variableDeclaration" targetNodeId="1179766709006" resolveInfo="applicableConcept" />
          </node>
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179767162011" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086197">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086200">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086202">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179767185672">
              <link role="applicableNode" targetNodeId="1179766709005" resolveInfo="node" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086204">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439772">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439773">
              <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1196869439776">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196869439777">
                  <link role="variableDeclaration" targetNodeId="1179766709006" resolveInfo="applicableConcept" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179766709005">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1139535439112" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1179766709108">
    <property name="name" value="typeof_ConceptFunctionParameter_node" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179766709109">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179766709110">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179766709009">
          <property name="name" value="applicableConcept" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179766709111">
            <link role="concept" targetNodeId="1.1169125787135" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227907466">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227914460">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179766709114">
                <link role="applicableNode" targetNodeId="1179766709008" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179766709115">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179766709116">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492612">
                    <link role="conceptDeclaration" targetNodeId="3.1080736578640" resolveInfo="BaseEditorComponent" />
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179766709117">
              <link role="link" targetNodeId="3.1166049300910" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086114">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086117">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086119">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179766966426">
              <link role="applicableNode" targetNodeId="1179766709008" resolveInfo="node" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086121">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439778">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439779">
              <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1196869439782">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196869439783">
                  <link role="variableDeclaration" targetNodeId="1179766709009" resolveInfo="applicableConcept" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179766709008">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1142886811589" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1179766709135">
    <property name="name" value="typeof_CellMenuPart_ReplaceChild_currentChild" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179766709136">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179782130616">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179782130617">
          <property name="name" value="hostMenuPart" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179782130618">
            <link role="concept" targetNodeId="3.1164824854750" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227835986">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179782100220">
              <link role="applicableNode" targetNodeId="1179766709010" resolveInfo="node" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179782105902">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179782115828">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492641">
                  <link role="conceptDeclaration" targetNodeId="3.1164824854750" resolveInfo="CellMenuPart_Abstract" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179782247109">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179782247110">
          <property name="name" value="editedFeature" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179782256771" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1220342603482">
            <link role="baseMethodDeclaration" targetNodeId="12.1220342512429" resolveInfo="getEditedFeature" />
            <link role="classConcept" targetNodeId="12.1220342505672" resolveInfo="CellMenuUtil" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1220342604264">
              <link role="variableDeclaration" targetNodeId="1179782130617" resolveInfo="hostMenuPart" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179782268970">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179782268971">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179782332047">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179782332048">
              <property name="name" value="conceptOfChild" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179782332049">
                <link role="concept" targetNodeId="1.1169125787135" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227943722">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1179782303947">
                  <link role="concept" targetNodeId="1.1071489288298" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179782302114">
                    <link role="variableDeclaration" targetNodeId="1179782247110" resolveInfo="editedFeature" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179782327118">
                  <link role="link" targetNodeId="1.1071599976176" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086163">
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086166">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086168">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179782407012">
                  <link role="applicableNode" targetNodeId="1179766709010" resolveInfo="node" />
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086170">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439800">
                <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439801">
                  <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1196869439804">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196869439805">
                      <link role="variableDeclaration" targetNodeId="1179782332048" resolveInfo="conceptOfChild" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179782412173" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227889941">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179782271431">
            <link role="variableDeclaration" targetNodeId="1179782247110" resolveInfo="editedFeature" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1179782275445">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1179782278357">
              <link role="conceptDeclaration" targetNodeId="1.1071489288298" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1179782438058">
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1179782439814">
          <property name="value" value="couldn't define concept of child node" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179782451146">
          <link role="applicableNode" targetNodeId="1179766709010" resolveInfo="node" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086246">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086249">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086251">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179766709142">
              <link role="applicableNode" targetNodeId="1179766709010" resolveInfo="node" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086253">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439806">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439807" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179766709010">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1162497113192" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1179766709143">
    <property name="name" value="typeof_CellMenuPart_Abstract_editedNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179766709144">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179768059970">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179768059971">
          <property name="name" value="hostComponent" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179768059972">
            <link role="concept" targetNodeId="3.1166049232041" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227939103">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179768027949">
              <link role="applicableNode" targetNodeId="1179766709011" resolveInfo="node" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179768034162">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179768038135">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492635">
                  <link role="conceptDeclaration" targetNodeId="3.1166049232041" resolveInfo="AbstractComponent" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179768094607">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179768094608">
          <property name="name" value="editedConcept" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179768094609">
            <link role="concept" targetNodeId="1.1169125787135" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227943168">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179768073044">
              <link role="variableDeclaration" targetNodeId="1179768059971" resolveInfo="hostComponent" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179768085257">
              <link role="link" targetNodeId="3.1166049300910" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086221">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086224">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086226">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179766709150">
              <link role="applicableNode" targetNodeId="1179766709011" resolveInfo="node" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086228">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439808">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439809">
              <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1196869439812">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196869439813">
                  <link role="variableDeclaration" targetNodeId="1179768094608" resolveInfo="editedConcept" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179766709011">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1163613822479" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1179766709151">
    <property name="name" value="typeof_CellMenuPart_AbstractGroup_parameterObject" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179766709152">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179767863275">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179767863276">
          <property name="name" value="ancestor" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179767863277">
            <link role="concept" targetNodeId="3.1165253627126" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227912542">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179767824957">
              <link role="applicableNode" targetNodeId="1179766709012" resolveInfo="node" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1179767832451">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1179767836783">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492607">
                  <link role="conceptDeclaration" targetNodeId="3.1165253627126" resolveInfo="CellMenuPart_AbstractGroup" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179767884896">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179767884897">
          <property name="name" value="parameterObjectType" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179767884898">
            <link role="concept" targetNodeId="6.1068431790189" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227919647">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179767878177">
              <link role="variableDeclaration" targetNodeId="1179767863276" resolveInfo="ancestor" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179767882453">
              <link role="link" targetNodeId="3.1165253890469" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086138">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086141">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086143">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1179767932169">
              <link role="applicableNode" targetNodeId="1179766709012" resolveInfo="node" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086145">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179767928104">
            <link role="variableDeclaration" targetNodeId="1179767884897" resolveInfo="parameterObjectType" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179766709012">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1163613549566" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1180280189216">
    <property name="name" value="check_CellModel_RefCell" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180280189217">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1180280232711">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1214515077258">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227918833">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180280236143">
              <link role="applicableNode" targetNodeId="1180280195807" resolveInfo="refCell" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1180280283330">
              <link role="link" targetNodeId="3.1088013239202" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1214515083964">
            <link role="baseMethodDeclaration" targetNodeId="11.1213877254557" resolveInfo="isSingular" />
          </node>
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180280328660">
          <property name="value" value="multiple cardinality link is not applicable" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180280346108">
          <link role="applicableNode" targetNodeId="1180280195807" resolveInfo="refCell" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1180280195807">
      <property name="name" value="refCell" />
      <link role="concept" targetNodeId="3.1088013125922" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1180280630650">
    <property name="name" value="check_CellModel_RefNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180280630651">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1180280684076">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1180280684077">
          <property name="name" value="lnk" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1180280684078">
            <link role="concept" targetNodeId="1.1071489288298" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227959248">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180280673283">
              <link role="applicableNode" targetNodeId="1180280637063" resolveInfo="refNode" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1180280676470">
              <link role="link" targetNodeId="3.1073389882824" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1180280667546">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227822767">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227884411">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1180280692501">
              <link role="variableDeclaration" targetNodeId="1180280684077" resolveInfo="lnk" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1180280697104">
              <link role="property" targetNodeId="1.1071599937831" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1180280702162">
            <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1180280702163">
              <link role="enumMember" targetNodeId="1.1084199179705" />
            </node>
          </node>
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180280712596">
          <property name="value" value="aggregation link expected" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180280731978">
          <link role="applicableNode" targetNodeId="1180280637063" resolveInfo="refNode" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1180280735244">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1180280851173">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227922362">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227842636">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1180280853578">
                <link role="variableDeclaration" targetNodeId="1180280684077" resolveInfo="lnk" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1180280856401">
                <link role="property" targetNodeId="1.1071599893252" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1180280860830">
              <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1180280860831">
                <link role="enumMember" targetNodeId="1.1084197782724" />
              </node>
            </node>
          </node>
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227931298">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227841798">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1180280737107">
                <link role="variableDeclaration" targetNodeId="1180280684077" resolveInfo="lnk" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1180280834943">
                <link role="property" targetNodeId="1.1071599893252" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1180280839103">
              <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1180280839104">
                <link role="enumMember" targetNodeId="1.1084197782723" />
              </node>
            </node>
          </node>
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180280869229">
          <property name="value" value="single cardinality expected" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180280906211">
          <link role="applicableNode" targetNodeId="1180280637063" resolveInfo="refNode" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1180280637063">
      <property name="name" value="refNode" />
      <link role="concept" targetNodeId="3.1073389882823" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1180295398625">
    <property name="name" value="check_CellModel_RefNodeList" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180295398626">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1180295464573">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1180295464574">
          <property name="name" value="lnk" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1180295464575">
            <link role="concept" targetNodeId="1.1071489288298" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227957658">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180295464578">
              <link role="applicableNode" targetNodeId="1180295403881" resolveInfo="refNodeList" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1180295468971">
              <link role="link" targetNodeId="3.1073390211987" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1180295464579">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227892262">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227886260">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1180295464585">
              <link role="variableDeclaration" targetNodeId="1180295464574" resolveInfo="lnk" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1180295473432">
              <link role="property" targetNodeId="1.1071599937831" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1180295464581">
            <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1180295490889">
              <link role="enumMember" targetNodeId="1.1084199179705" />
            </node>
          </node>
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180295464586">
          <property name="value" value="aggregation link expected" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180295464587">
          <link role="applicableNode" targetNodeId="1180295403881" resolveInfo="refNodeList" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1180295464588">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1180295464589">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227851294">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227878735">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1180295464595">
                <link role="variableDeclaration" targetNodeId="1180295464574" resolveInfo="lnk" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1180295553898">
                <link role="property" targetNodeId="1.1071599893252" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1180295464591">
              <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1180295559005">
                <link role="enumMember" targetNodeId="1.1084197782726" />
              </node>
            </node>
          </node>
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945971">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227883298">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1180295464601">
                <link role="variableDeclaration" targetNodeId="1180295464574" resolveInfo="lnk" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1180295536322">
                <link role="property" targetNodeId="1.1071599893252" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1180295464597">
              <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1180295549146">
                <link role="enumMember" targetNodeId="1.1084197782725" />
              </node>
            </node>
          </node>
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180295464602">
          <property name="value" value="multiple cardinality expected" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1180295464603">
          <link role="applicableNode" targetNodeId="1180295403881" resolveInfo="refNodeList" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1180295403881">
      <property name="name" value="refNodeList" />
      <link role="concept" targetNodeId="3.1073390211982" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1182235413427">
    <property name="name" value="typeof_ConceptFunctionParameter_childNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1182235413428">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1182235438215">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1182235438216">
          <property name="name" value="refNodeList" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1182235438217">
            <link role="concept" targetNodeId="3.1073390211982" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227888367">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1182235457145">
              <link role="applicableNode" targetNodeId="1182235425323" resolveInfo="node" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1182235462745">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1182235465576">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492614">
                  <link role="conceptDeclaration" targetNodeId="3.1073390211982" resolveInfo="CellModel_RefNodeList" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1182235598518">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1182235598519">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982086270">
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086273">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982086275">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1182235608639">
                  <link role="applicableNode" targetNodeId="1182235425323" resolveInfo="node" />
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982086277">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439829">
                <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1196869439830">
                  <link role="concept" targetNodeId="3.1166049232041" resolveInfo="AbstractComponent" />
                  <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1196869439837">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227833045">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227941900">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196869439840">
                          <link role="variableDeclaration" targetNodeId="1182235438216" resolveInfo="refNodeList" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1196869439841">
                          <link role="link" targetNodeId="3.1073390211987" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1196869439842">
                        <link role="link" targetNodeId="1.1071599976176" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1182235604609">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1182235605284" />
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227923843">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1182235600116">
              <link role="variableDeclaration" targetNodeId="1182235438216" resolveInfo="refNodeList" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1182235603575">
              <link role="link" targetNodeId="3.1073390211987" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1182235425323">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="3.1182233249301" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1189583357788">
    <property name="name" value="typeof_CellKeyMap_FunctionParm_selectedNodes" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1189583357789">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1189583402141">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1189583405230">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196869439874">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1196869439875" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1189583402143">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1189583398422">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1189583400273">
              <link role="applicableNode" targetNodeId="1189583365237" resolveInfo="selectedNodes" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1189583365237">
      <property name="name" value="selectedNodes" />
      <link role="concept" targetNodeId="3.1189582551384" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1201270044264">
    <property name="name" value="typeof_SelectLaterOperation" />
    <property name="package" value="SNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1201270044265">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1201270048564">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201270098249">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201270098250">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227906102">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201270099283">
                <link role="applicableNode" targetNodeId="1201270044266" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1201270101194">
                <link role="link" targetNodeId="3.1201266028598" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201270051161">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1201270051162">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1201270095700">
              <link role="classifier" targetNodeId="10.~EditorContext" resolveInfo="EditorContext" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1201270044266">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="3.1201265905111" resolveInfo="SelectLaterOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1201271578955">
    <property name="name" value="typeof_CaretPositionParameter" />
    <property name="package" value="SNode" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1201271578956">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1201271589564">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201271592444">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1201271592445">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1201271594198" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201271589567">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201271583415">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882486">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201271584792">
                <link role="applicableNode" targetNodeId="1201271578957" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1201271587735">
                <link role="link" targetNodeId="3.1201270907764" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1201271578957">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="3.1201270864927" resolveInfo="CaretPositionParameter" />
    </node>
  </node>
</model>

