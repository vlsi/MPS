<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c895902e9(jetbrains.mps.lang.generator.generator.baseLanguage.template.main@generator)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="b401a680-8325-4110-8fd3-84331ff25bef(jetbrains.mps.lang.generator)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="13744753-c81f-424a-9c1b-cf8943bf4e86(jetbrains.mps.lang.sharedConcepts)" />
  <language namespace="df345b11-b8c7-4213-ac66-48d2a9b75d88(jetbrains.mps.baseLanguageInternal)" />
  <language namespace="d7706f63-9be2-479c-a3da-ae92af1e64d5(jetbrains.mps.lang.generator.generationContext)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e2(jetbrains.mps.lang.generator.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903ac(jetbrains.mps.baseLanguageInternal.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902f3(jetbrains.mps.lang.generator.generationContext.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="27" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <import index="2" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="3" modelUID="f:java_stub#jetbrains.mps.generator.template(jetbrains.mps.generator.template@java_stub)" version="-1" />
  <import index="4" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.lang.generator.generator.baseLanguage.template(jetbrains.mps.lang.generator.generator.baseLanguage.template@java_stub)" version="-1" />
  <import index="7" modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <import index="8" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <import index="22" modelUID="r:00000000-0000-4000-0000-011c895902cc(jetbrains.mps.baseLanguage.generator.java.conceptFunctionDefaults@generator)" version="-1" />
  <import index="23" modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <import index="24" modelUID="r:00000000-0000-4000-0000-011c895903ac(jetbrains.mps.baseLanguageInternal.structure)" version="1" />
  <import index="26" modelUID="r:00000000-0000-4000-0000-011c895902f3(jetbrains.mps.lang.generator.generationContext.structure)" version="0" />
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1167163214015">
    <property name="name" value="weave_CreateRootRule_Condition" />
    <link role="applicableConcept" targetNodeId="7.1167087518662" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167163214016">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1167163214017">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1167163214018" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167163214019">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1167163214020">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025917226">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025917227">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025917228">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227930671">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025917231" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025917232">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167163214021">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1167163214022" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1167163214023" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1167163214024">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1167762379110">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167762379111">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167762384474">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1167762427619">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.createRootRule_Condition(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="createRootRule_Condition" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1167762452247" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1167163214031">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1167163214032">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199958198992">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975884236">
            <link role="classifier" targetNodeId="3.~CreateRootRuleContext" resolveInfo="CreateRootRuleContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546096789" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081372" />
    </node>
  </node>
  <node type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167163229003">
    <property name="name" value="QueriesGenerated" />
    <node role="rootTemplateAnnotation$attribute" type="jetbrains.mps.lang.generator.structure.RootTemplateAnnotation" id="1168625173334" />
    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550080911" />
  </node>
  <node type="jetbrains.mps.lang.generator.structure.MappingConfiguration" id="1167163238171">
    <property name="name" value="TLB_main" />
    <property name="topPriorityGroup" value="true" />
    <node role="mappingLabel" type="jetbrains.mps.lang.generator.structure.MappingLabelDeclaration" id="1200923491526">
      <property name="name" value="queriesGenerated" />
      <link role="targetConcept" targetNodeId="1.1068390468198" resolveInfo="ClassConcept" />
    </node>
    <node role="reductionMappingRule" type="jetbrains.mps.lang.generator.structure.Reduction_MappingRule" id="1199969783330">
      <link role="applicableConcept" targetNodeId="23.1161622753914" resolveInfo="ConceptFunctionParameter_operationContext" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence" id="1199969797457">
        <node role="templateNode" type="jetbrains.mps.baseLanguageInternal.structure.InternalVariableReference" id="1199969803162">
          <property name="name" value="operationContext" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199969810946">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
      </node>
    </node>
    <node role="reductionMappingRule" type="jetbrains.mps.lang.generator.structure.Reduction_MappingRule" id="1217272831781">
      <link role="applicableConcept" targetNodeId="26.1216860049635" resolveInfo="TemplateFunctionParameter_generationContext" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.InlineTemplate_RuleConsequence" id="1217272831782">
        <node role="templateNode" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1217272831783">
          <node role="referenceMacro$link_attribute$variableDeclaration" type="jetbrains.mps.lang.generator.structure.ReferenceMacro" id="1217272831784">
            <node role="referentFunction" type="jetbrains.mps.lang.generator.structure.ReferenceMacro_GetReferent" id="1217272831785">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217272831786">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217272831787">
                  <property name="value" value="method parameter" />
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217272831788">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1217272831789">
                    <property name="value" value="_context" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="reductionMappingRule" type="jetbrains.mps.lang.generator.structure.Reduction_MappingRule" id="1199969485510">
      <property name="applyToConceptInheritors" value="true" />
      <link role="applicableConcept" targetNodeId="1.1107135704075" resolveInfo="ConceptFunctionParameter" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1199969485511">
        <link role="template" targetNodeId="22.1143148725345" resolveInfo="reduce_ConceptFunctionParm_to_MethodParameterReference_by_Alias" />
      </node>
    </node>
    <node role="reductionMappingRule" type="jetbrains.mps.lang.generator.structure.Reduction_MappingRule" id="1216944068102">
      <link role="applicableConcept" targetNodeId="23.1161622878565" resolveInfo="ConceptFunctionParameter_scope" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1216944103859">
        <link role="template" targetNodeId="1216944103857" resolveInfo="reduce_ScopeToGetScope" />
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1167172435386">
      <link role="applicableConcept" targetNodeId="7.1167087518662" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940578">
        <link role="template" targetNodeId="1167163214015" resolveInfo="weave_CreateRootRule_Condition" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619599466">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619599467">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216765820729">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216765822668">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671857" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671514">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1219959119596">
      <link role="applicableConcept" targetNodeId="7.1219952151850" resolveInfo="DropRootRule_Condition" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1219959145107">
        <link role="template" targetNodeId="1219959145090" resolveInfo="weave_DropRootRule_Condition" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1219959119598">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219959119599">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219959171218">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219959171219">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1219959171220" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1219959171221">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1167242824290">
      <link role="applicableConcept" targetNodeId="7.1167168920554" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940595">
        <link role="template" targetNodeId="1167172794967" resolveInfo="weave_BaseMappingRule_Condition" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619796790">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619796791">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924635232">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183256">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671791" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671579">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1167763374695">
      <link role="applicableConcept" targetNodeId="7.1167756080639" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940596">
        <link role="template" targetNodeId="1167763406918" resolveInfo="weave_PropertyMacro_GetPropertyValue" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619844945">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619844946">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924639126">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183118">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671840" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671628">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1167770870082">
      <link role="applicableConcept" targetNodeId="7.1167770111131" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940597">
        <link role="template" targetNodeId="1167770891041" resolveInfo="weave_ReferenceMacro_GetReferent" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619847603">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619847604">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924641379">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183138">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671742" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671562">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1167946723764">
      <link role="applicableConcept" targetNodeId="7.1167945743726" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940598">
        <link role="template" targetNodeId="1167946761267" resolveInfo="weave_IfMacro_Condition" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619852561">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619852562">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924643366">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183157">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671677" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671546">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1168025514913">
      <link role="applicableConcept" targetNodeId="7.1168024337012" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940600">
        <link role="template" targetNodeId="1168025033008" resolveInfo="weave_SourceSubstituteMacro_SourceNodeQuery" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619868267">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619868268">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924647166">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183197">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671726" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671480">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1167952903372">
      <link role="applicableConcept" targetNodeId="7.1167951910403" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1169670940599">
        <link role="template" targetNodeId="1167952935363" resolveInfo="weave_SourceSubstituteMacro_SourceNodesQuery" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619865210">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619865211">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924649622">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183099">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671937" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671611">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1170727017822">
      <link role="applicableConcept" targetNodeId="7.1170725621272" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1170727108355">
        <link role="template" targetNodeId="1170727064412" resolveInfo="weave_MapSrcMacro_MapperFunction" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619877062">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619877063">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924651469">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183216">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671759" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671645">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1225233669266">
      <link role="applicableConcept" targetNodeId="7.1225228973247" resolveInfo="MapSrcMacro_PostMapperFunction" />
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1225233669268">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225233669269">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225233669270">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225233669271">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1225233669272" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1225233669273">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1225233944559">
        <link role="template" targetNodeId="1225233707631" resolveInfo="weave_MapSrcMacro_PostMapperFunction" />
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1184374763942">
      <link role="applicableConcept" targetNodeId="7.1184373935793" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1184374883297">
        <link role="template" targetNodeId="1184374857687" resolveInfo="weave_TemplateFragment_ContextNodeQuery" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619879860">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619879861">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924653160">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183177">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671808" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671497">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1184617580528">
      <link role="applicableConcept" targetNodeId="7.1184616041890" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1184617582994">
        <link role="template" targetNodeId="1184617630748" resolveInfo="weave_Weaving_MappingRule_ContextNodeQuery" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1184619882833">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184619882834">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924655272">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183079">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671905" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671431">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="weavingMappingRule" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule" id="1195503404234">
      <link role="applicableConcept" targetNodeId="7.1195500722856" resolveInfo="MappingScript_CodeBlock" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="1195505083725">
        <link role="template" targetNodeId="1195504684801" resolveInfo="weave_MappingScript_CodeBlock" />
      </node>
      <node role="contextNodeQuery" type="jetbrains.mps.lang.generator.structure.Weaving_MappingRule_ContextNodeQuery" id="1195503404236">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1195503404237">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200924657150">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216770183236">
              <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1216865671693" />
              <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabel" id="1216865671448">
                <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="createRootRule" type="jetbrains.mps.lang.generator.structure.CreateRootRule" id="1167163238172">
      <link role="templateNode" targetNodeId="1167163229003" resolveInfo="QueriesGenerated" />
      <link role="label" targetNodeId="1200923491526" resolveInfo="queriesGenerated" />
    </node>
    <node role="preMappingScript" type="jetbrains.mps.lang.generator.structure.MappingScriptReference" id="1199966079627">
      <link role="mappingScript" targetNodeId="1199965771119" resolveInfo="AddTypeHints" />
    </node>
    <node role="preMappingScript" type="jetbrains.mps.lang.generator.structure.MappingScriptReference" id="1217272574110">
      <link role="mappingScript" targetNodeId="1217270660170" resolveInfo="ReduceLabelReferenceToText" />
    </node>
    <node role="dropRootRule" type="jetbrains.mps.lang.generator.structure.DropRootRule" id="1219962513785">
      <link role="applicableConcept" targetNodeId="8.1133920641626" resolveInfo="BaseConcept" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1167172794967">
    <property name="name" value="weave_BaseMappingRule_Condition" />
    <link role="applicableConcept" targetNodeId="7.1167168920554" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167172794968">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1167172794969">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1167172794970" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167172794971">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1167172794972">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025905128">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025905129">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025905130">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227930357">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025905133" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025905134">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167172794973">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1167172794974" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1167172794975" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1167172794976">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1167765482559">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167765482560">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167765482561">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1167765482562">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.baseMappingRule_Condition(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="baseMappingRule_Condition" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1167765482564" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1167172794983">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1167172794984">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199958821249">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975906268">
            <link role="classifier" targetNodeId="3.~BaseMappingRuleContext" resolveInfo="BaseMappingRuleContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546097036" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081373" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1167763406918">
    <property name="name" value="weave_PropertyMacro_GetPropertyValue" />
    <link role="applicableConcept" targetNodeId="7.1167756080639" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167763406919">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1167763406920">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1182453509234">
          <link role="classifier" targetNodeId="2.~Object" resolveInfo="Object" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167763406922">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1167763406923">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025932423">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025932424">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025932425">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227878588">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025932428" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025932429">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167763406924">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1167763641848" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1167763406926" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1167763406927">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1167764877550">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167764877551">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1182458345072">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1167764895668">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.propertyMacro_GetPropertyValue(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="propertyMacro_GetPropertyValue" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1167765056630" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1167763406937">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1167763406938">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199959856204">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975920613">
            <link role="classifier" targetNodeId="3.~PropertyMacroContext" resolveInfo="PropertyMacroContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546096813" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081446" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1167770891041">
    <property name="name" value="weave_ReferenceMacro_GetReferent" />
    <link role="applicableConcept" targetNodeId="7.1167770111131" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167770891042">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1167770891043">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1198272537371">
          <link role="classifier" targetNodeId="2.~Object" resolveInfo="Object" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167770891045">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1167770891046">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025938897">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025938898">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025938899">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227893659">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025938902" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025938903">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167770891047">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1184690639914" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1167770891049" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1167770891050">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1167770891051">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167770891052">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167770891053">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1167770891054">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.referenceMacro_GetReferent(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="referenceMacro_GetReferent" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1167770891056" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546096936" />
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199961264301">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199961264302">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199961267209">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975932864">
            <link role="classifier" targetNodeId="3.~ReferenceMacroContext" resolveInfo="ReferenceMacroContext" />
          </node>
        </node>
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081517" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1167946761267">
    <property name="name" value="weave_IfMacro_Condition" />
    <link role="applicableConcept" targetNodeId="7.1167945743726" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167946761268">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1167946761269">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1167946761270" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167946761271">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1167946761272">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025925887">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025925888">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025925889">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897683">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025925892" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025925893">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167946761273">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1167946761274" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1167946761275" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1167946761276">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1167946761277">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167946761278">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167946761279">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1167946761280">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.ifMacro_Condition(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="ifMacro_Condition" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1167946761282" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1167946761302">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1167946761303">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199962360624">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975943069">
            <link role="classifier" targetNodeId="3.~IfMacroContext" resolveInfo="IfMacroContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546097137" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081466" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1167952935363">
    <property name="name" value="weave_SourceSubstituteMacro_SourceNodesQuery" />
    <link role="applicableConcept" targetNodeId="7.1167951910403" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1167952935364">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1167952935365">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1167953013863">
          <link role="classifier" targetNodeId="2.~Iterable" resolveInfo="Iterable" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167952935367">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1167952935368">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025947268">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025947269">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025947270">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227936748">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025947273" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025947274">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167952935369">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1167953020192" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1167952935371" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1167952935372">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1167952935373">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167952935374">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1167952935375">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1167952935376">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.sourceSubstituteMacro_SourceNodesQuery(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="sourceSubstituteMacro_SourceNodesQuery" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1167952935378" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1167952935392">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1167952935393">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199970366358">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975969040">
            <link role="classifier" targetNodeId="3.~SourceSubstituteMacroNodesContext" resolveInfo="SourceSubstituteMacroNodesContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546096717" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081070" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1168025033008">
    <property name="name" value="weave_SourceSubstituteMacro_SourceNodeQuery" />
    <link role="applicableConcept" targetNodeId="7.1168024337012" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1168025033009">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1168025033010">
        <property name="name" value="_query_method_" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025033012">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1168025033013">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1168025330833">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025330834">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025332772">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227937111">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025343196" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1168025372965">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025033014">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1168025033015" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1168025033016" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1168025033017">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1168025033018">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168025033019">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168025033020">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1168025033021">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.sourceSubstituteMacro_SourceNodeQuery(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="sourceSubstituteMacro_SourceNodeQuery" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1168025033023" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1168025033033">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1168025033034">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199967237670">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975957461">
            <link role="classifier" targetNodeId="3.~SourceSubstituteMacroNodeContext" resolveInfo="SourceSubstituteMacroNodeContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546097107" />
        <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239575274438" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550080915" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1170727064412">
    <property name="name" value="weave_MapSrcMacro_MapperFunction" />
    <link role="applicableConcept" targetNodeId="7.1170725621272" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1170727064413">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1170727064414">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1170730968822" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1170727064416">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1170727064417">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1170727064418">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1170727064419">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1170727064420">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227923330">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1170727064423" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1170727064424">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1170727064425">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1170727064426" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1170727064427" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1170727064428">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1170727064429">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1170727064430">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225233877709">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1170727064432">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.mapSrcMacro_MapperFunction(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="mapSrcMacro_MapperFunction" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1170727064434" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178546097183" />
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199971992477">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199971992478">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199971995760">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975978900">
            <link role="classifier" targetNodeId="3.~MapSrcMacroContext" resolveInfo="MapSrcMacroContext" />
          </node>
        </node>
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178550081000" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1184374857687">
    <property name="name" value="weave_TemplateFragment_ContextNodeQuery" />
    <link role="applicableConcept" targetNodeId="7.1184373935793" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1184374857688">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1184374857689">
        <property name="name" value="_query_method_" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184374857691">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1184374857692">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1184374857693">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184374857694">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184375164648">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227931294">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1184374857697" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184374857698">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1184374857699">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1184374857700" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1184374857701" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1184374857702">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1184374857703">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184374857704">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1184374857705">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184374857706">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.templateFragment_ContextNodeQuery(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="templateFragment_ContextNodeQuery" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1184374857707" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184374857726" />
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199972761471">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199972761472">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199972764348">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975989808">
            <link role="classifier" targetNodeId="3.~TemplateFragmentContext" resolveInfo="TemplateFragmentContext" />
          </node>
        </node>
        <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239575276767" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184374857727" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1184617630748">
    <property name="name" value="weave_Weaving_MappingRule_ContextNodeQuery" />
    <link role="applicableConcept" targetNodeId="7.1184616041890" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1184617630749">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1184617630750">
        <property name="name" value="_query_method_" />
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199973137943">
          <property name="name" value="opereationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199973153754">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199973156552">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199975999606">
            <link role="classifier" targetNodeId="3.~WeavingMappingRuleContext" resolveInfo="WeavingMappingRuleContext" />
          </node>
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184617630752">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1184617630753">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1184617630754">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184617630755">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184617630756">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227895562">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1184617630758" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184617630759">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1184617630760">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1184617630761" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1184617630762" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1184617630763">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1184617630764">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184617630765">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1184617630766">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184617630767">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.weaving_MappingRule_ContextNodeQuery(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="weaving_MappingRule_ContextNodeQuery" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1184617630768" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184617630783" />
        <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239575278471" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184617630784" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1195504684801">
    <property name="name" value="weave_MappingScript_CodeBlock" />
    <link role="applicableConcept" targetNodeId="7.1195500722856" resolveInfo="MappingScript_CodeBlock" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1195504684802">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1195504684803">
        <property name="name" value="_query_method_" />
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199973512261">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199973525895">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1199973528677">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1199976009826">
            <link role="classifier" targetNodeId="3.~MappingScriptContext" resolveInfo="MappingScriptContext" />
          </node>
        </node>
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1195505024394" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1195504684805">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1195504684806">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1195504684807">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1195504684808">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1195504684809">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227866045">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1195504684811" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1195504684812">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1195505048535">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1195505048536" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1195504684815" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1195504684816">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1195504684817">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1195504684818">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1195504684819">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1195504684820">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.mappingScript_CodeBlock(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="mappingScript_CodeBlock" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1195504684821" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1195504684838" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1195504684839" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.MappingScript" id="1199965771119">
    <property name="name" value="AddTypeHints" />
    <property name="scriptKind" value="pre_processing" />
    <property name="modifiesModel" value="true" />
    <node role="codeBlock" type="jetbrains.mps.lang.generator.structure.MappingScript_CodeBlock" id="1199965771120">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199965771121">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199965817933">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199965817934">
            <property name="name" value="nodes" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1199965817935">
              <link role="elementConcept" targetNodeId="7.1167169188348" resolveInfo="TemplateFunctionParameter_sourceNode" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227906392">
              <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1199965817937" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_NodesOperation" id="1199965817938">
                <link role="concept" targetNodeId="7.1167169188348" resolveInfo="TemplateFunctionParameter_sourceNode" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1199965804910">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199965804911">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199965830071">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199965830072">
                <property name="name" value="replacement" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199965830073">
                  <link role="concept" targetNodeId="24.1199964756070" resolveInfo="TypeHintExpression" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1199965834153">
                  <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1199965834154">
                    <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199965834155">
                      <link role="concept" targetNodeId="24.1199964756070" resolveInfo="TypeHintExpression" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1199965836611">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227896551">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227905486">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965836612">
                    <link role="variableDeclaration" targetNodeId="1199965830072" resolveInfo="replacement" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199965843995">
                    <link role="link" targetNodeId="24.1199964767385" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1199965845889">
                  <node role="linkTarget" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1199965937847">
                    <link role="concept" targetNodeId="1.1068431790189" resolveInfo="Type" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227935052">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227925874">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965848251">
                          <link role="variableDeclaration" targetNodeId="1199965804914" resolveInfo="node" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.typesystem.structure.Node_TypeOperation" id="1199965849927" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1199968981285" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1199965822971">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227906098">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965822972">
                  <link role="variableDeclaration" targetNodeId="1199965804914" resolveInfo="node" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1199965871990">
                  <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965873555">
                    <link role="variableDeclaration" targetNodeId="1199965830072" resolveInfo="replacement" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1199965877667">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227942294">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227926334">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965877668">
                    <link role="variableDeclaration" targetNodeId="1199965830072" resolveInfo="replacement" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199965879360">
                    <link role="link" targetNodeId="24.1199964762556" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1199965881005">
                  <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965882475">
                    <link role="variableDeclaration" targetNodeId="1199965804914" resolveInfo="node" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199965821095">
            <link role="variableDeclaration" targetNodeId="1199965817934" resolveInfo="nodes" />
          </node>
          <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199965804914">
            <property name="name" value="node" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199965806338">
              <link role="concept" targetNodeId="7.1167169188348" resolveInfo="TemplateFunctionParameter_sourceNode" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1216944103857">
    <property name="name" value="reduce_ScopeToGetScope" />
    <link role="applicableConcept" targetNodeId="23.1161622878565" resolveInfo="ConceptFunctionParameter_scope" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216944127910">
      <property name="name" value="_context_" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1216944127911" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216944127912" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216944127913">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216944800984">
          <property name="value" value="'scope' has been removed from function parameters but we still have to support its generation" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216944166416">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216944167699">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216944166417">
              <link role="variableDeclaration" targetNodeId="1216944151539" resolveInfo="_context" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216944171436">
              <link role="baseMethodDeclaration" targetNodeId="3.~TemplateQueryContext.getScope():jetbrains.mps.smodel.IScope" resolveInfo="getScope" />
            </node>
            <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1216944180297" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216944151539">
        <property name="name" value="_context" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1216944151540">
          <link role="classifier" targetNodeId="3.~TemplateQueryContext" resolveInfo="TemplateQueryContext" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.MappingScript" id="1217270660170">
    <property name="name" value="ReduceLabelReferenceToText" />
    <property name="scriptKind" value="pre_processing" />
    <property name="modifiesModel" value="true" />
    <node role="codeBlock" type="jetbrains.mps.lang.generator.structure.MappingScript_CodeBlock" id="1217270660171">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217270660172">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217270762463">
          <property name="value" value="references on mapping label will be lost because" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217270789715">
          <property name="value" value="TLBase generator executes first and doesn't copy" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217270822498">
          <property name="value" value="mapping configs (where labels are declared) to output model" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217270914960" />
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1217272368341">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217272368342">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217270918259">
              <property name="value" value="references in 'get by label'" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1217270954479">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217270954480">
                <property name="name" value="ops" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1217270954481">
                  <link role="elementConcept" targetNodeId="26.1216860049622" resolveInfo="GenerationContextOp_GetOutputByLabel" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217270954482">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1217270954483" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_NodesOperation" id="1217270954484">
                    <link role="concept" targetNodeId="26.1216860049622" resolveInfo="GenerationContextOp_GetOutputByLabel" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1217271249778">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217271249779">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1217271603339">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217271603340">
                    <property name="name" value="label" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1217271603341">
                      <link role="concept" targetNodeId="7.1200911316486" resolveInfo="MappingLabelDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217271603342">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271603343">
                        <link role="variableDeclaration" targetNodeId="1217271249784" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1217271603344">
                        <link role="link" targetNodeId="26.1216860049623" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1217271606491">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217271606492">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217271616932">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217973249257">
                        <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1217973249259" />
                        <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_ShowErrorMessage" id="1217973249260">
                          <node role="referenceNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271640725">
                            <link role="variableDeclaration" targetNodeId="1217271249784" resolveInfo="op" />
                          </node>
                          <node role="messageText" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1217271645372">
                            <property name="value" value="reference on mapping label is broken" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ContinueStatement" id="1217271674690" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1217271610205">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1217271612194" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271608936">
                      <link role="variableDeclaration" targetNodeId="1217271603340" resolveInfo="label" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217272058605">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1217272067162">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217272071139">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217272070620">
                        <link role="variableDeclaration" targetNodeId="1217271603340" resolveInfo="label" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1217272073237">
                        <link role="property" targetNodeId="8.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217272058669">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217272058606">
                        <link role="variableDeclaration" targetNodeId="1217271249784" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1217272063096">
                        <link role="property" targetNodeId="26.1217271982808" resolveInfo="labelName_intern" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217272290038">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1217272294360">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1217272296146" />
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217272290102">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217272290039">
                        <link role="variableDeclaration" targetNodeId="1217271249784" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1217272291560">
                        <link role="link" targetNodeId="26.1216860049623" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271256304">
                <link role="variableDeclaration" targetNodeId="1217270954480" resolveInfo="ops" />
              </node>
              <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217271249784">
                <property name="name" value="op" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1217271263494">
                  <link role="concept" targetNodeId="26.1216860049622" resolveInfo="GenerationContextOp_GetOutputByLabel" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1217272380611">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217272380612">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217271687149">
              <property name="value" value="references in 'get by label and node'" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1217271687150">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217271687151">
                <property name="name" value="ops" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1217271687152">
                  <link role="elementConcept" targetNodeId="26.1216860049627" resolveInfo="GenerationContextOp_GetOutputByLabelAndInput" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217271687153">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1217271687154" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_NodesOperation" id="1217271687155">
                    <link role="concept" targetNodeId="26.1216860049627" resolveInfo="GenerationContextOp_GetOutputByLabelAndInput" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1217271687156">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217271687157">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1217271687158">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217271687159">
                    <property name="name" value="label" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1217271687160">
                      <link role="concept" targetNodeId="7.1200911316486" resolveInfo="MappingLabelDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217271687161">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271687162">
                        <link role="variableDeclaration" targetNodeId="1217271687177" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1217271721027">
                        <link role="link" targetNodeId="26.1216860049628" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1217271687164">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217271687165">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217271687166">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217973249233">
                        <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1217973249235" />
                        <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_ShowErrorMessage" id="1217973249236">
                          <node role="referenceNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271687170">
                            <link role="variableDeclaration" targetNodeId="1217271687177" resolveInfo="op" />
                          </node>
                          <node role="messageText" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1217271687171">
                            <property name="value" value="reference on mapping label is broken" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ContinueStatement" id="1217271687172" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1217271687173">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1217271687174" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271687175">
                      <link role="variableDeclaration" targetNodeId="1217271687159" resolveInfo="label" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217272080025">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1217272080026">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217272080027">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217272080028">
                        <link role="variableDeclaration" targetNodeId="1217271687159" resolveInfo="label" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1217272084709">
                        <link role="property" targetNodeId="8.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217272080030">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217272080031">
                        <link role="variableDeclaration" targetNodeId="1217271687177" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1217272088259">
                        <link role="property" targetNodeId="26.1217272005596" resolveInfo="labelName_intern" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217272300884">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1217272300885">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1217272300886" />
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217272300887">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217272300888">
                        <link role="variableDeclaration" targetNodeId="1217271687177" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1217272303845">
                        <link role="link" targetNodeId="26.1216860049628" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217271687176">
                <link role="variableDeclaration" targetNodeId="1217271687151" resolveInfo="ops" />
              </node>
              <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217271687177">
                <property name="name" value="op" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1217271687178">
                  <link role="concept" targetNodeId="26.1216860049627" resolveInfo="GenerationContextOp_GetOutputByLabelAndInput" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1221219837885">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221219837886">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1221219837887">
              <property name="value" value="references in 'get by label and node and ref.scope'" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221219837888">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221219837889">
                <property name="name" value="ops" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1221219837890">
                  <link role="elementConcept" targetNodeId="26.1221218985173" resolveInfo="GenerationContextOp_GetOutputByLabelAndInputAndReferenceScope" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221219837891">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1221219837892" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_NodesOperation" id="1221219837893">
                    <link role="concept" targetNodeId="26.1221218985173" resolveInfo="GenerationContextOp_GetOutputByLabelAndInputAndReferenceScope" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1221219837894">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221219837895">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221219837896">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221219837897">
                    <property name="name" value="label" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221219837898">
                      <link role="concept" targetNodeId="7.1200911316486" resolveInfo="MappingLabelDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221219837899">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837900">
                        <link role="variableDeclaration" targetNodeId="1221219837929" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1221219938755">
                        <link role="link" targetNodeId="26.1221219379823" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221219837902">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221219837903">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221219837904">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221219837905">
                        <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1221219837906" />
                        <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_ShowErrorMessage" id="1221219837907">
                          <node role="referenceNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837908">
                            <link role="variableDeclaration" targetNodeId="1221219837929" resolveInfo="op" />
                          </node>
                          <node role="messageText" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1221219837909">
                            <property name="value" value="reference on mapping label is broken" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ContinueStatement" id="1221219837910" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1221219837911">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221219837912" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837913">
                      <link role="variableDeclaration" targetNodeId="1221219837897" resolveInfo="label" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221219837914">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1221219837915">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221219837916">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837917">
                        <link role="variableDeclaration" targetNodeId="1221219837897" resolveInfo="label" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1221219837918">
                        <link role="property" targetNodeId="8.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221219837919">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837920">
                        <link role="variableDeclaration" targetNodeId="1221219837929" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1221219943819">
                        <link role="property" targetNodeId="26.1221219363547" resolveInfo="labelName_intern" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221219837922">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1221219837923">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221219837924" />
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221219837925">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837926">
                        <link role="variableDeclaration" targetNodeId="1221219837929" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1221219947420">
                        <link role="link" targetNodeId="26.1221219379823" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221219837928">
                <link role="variableDeclaration" targetNodeId="1221219837889" resolveInfo="ops" />
              </node>
              <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221219837929">
                <property name="name" value="op" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221219837930">
                  <link role="concept" targetNodeId="26.1221218985173" resolveInfo="GenerationContextOp_GetOutputByLabelAndInputAndReferenceScope" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1221158464677">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221158464678">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1221158464679">
              <property name="value" value="references in 'get all by label and node'" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221158464680">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221158464681">
                <property name="name" value="ops" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1221158464682">
                  <link role="elementConcept" targetNodeId="26.1221156564099" resolveInfo="GenerationContextOp_GetOutputListByLabelAndInput" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221158464683">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1221158464684" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_NodesOperation" id="1221158464685">
                    <link role="concept" targetNodeId="26.1221156564099" resolveInfo="GenerationContextOp_GetOutputListByLabelAndInput" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1221158464686">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221158464687">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221158464688">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221158464689">
                    <property name="name" value="label" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221158464690">
                      <link role="concept" targetNodeId="7.1200911316486" resolveInfo="MappingLabelDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221158464691">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464692">
                        <link role="variableDeclaration" targetNodeId="1221158464721" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1221158508825">
                        <link role="link" targetNodeId="26.1221156564101" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221158464694">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221158464695">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221158464696">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221158464697">
                        <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1221158464698" />
                        <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_ShowErrorMessage" id="1221158464699">
                          <node role="referenceNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464700">
                            <link role="variableDeclaration" targetNodeId="1221158464721" resolveInfo="op" />
                          </node>
                          <node role="messageText" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1221158464701">
                            <property name="value" value="reference on mapping label is broken" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ContinueStatement" id="1221158464702" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1221158464703">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221158464704" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464705">
                      <link role="variableDeclaration" targetNodeId="1221158464689" resolveInfo="label" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221158464706">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1221158464707">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221158464708">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464709">
                        <link role="variableDeclaration" targetNodeId="1221158464689" resolveInfo="label" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1221158464710">
                        <link role="property" targetNodeId="8.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221158464711">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464712">
                        <link role="variableDeclaration" targetNodeId="1221158464721" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1221158516169">
                        <link role="property" targetNodeId="26.1221156564100" resolveInfo="labelName_intern" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221158464714">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1221158464715">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221158464716" />
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221158464717">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464718">
                        <link role="variableDeclaration" targetNodeId="1221158464721" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1221158521405">
                        <link role="link" targetNodeId="26.1221156564101" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221158464720">
                <link role="variableDeclaration" targetNodeId="1221158464681" resolveInfo="ops" />
              </node>
              <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221158464721">
                <property name="name" value="op" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221158464722">
                  <link role="concept" targetNodeId="26.1221156564099" resolveInfo="GenerationContextOp_GetOutputListByLabelAndInput" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1217882410834">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217882410835">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1217882410836">
              <property name="value" value="references in 'get prev input by label'" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1217882410837">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217882410838">
                <property name="name" value="ops" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1217882410839">
                  <link role="elementConcept" targetNodeId="26.1217881979074" resolveInfo="GenerationContextOp_GetPrevInputByLabel" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217882410840">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1217882410841" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_NodesOperation" id="1217882410842">
                    <link role="concept" targetNodeId="26.1217881979074" resolveInfo="GenerationContextOp_GetPrevInputByLabel" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1217882410843">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217882410844">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1217882410845">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217882410846">
                    <property name="name" value="label" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1217882410847">
                      <link role="concept" targetNodeId="7.1200911316486" resolveInfo="MappingLabelDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217882410848">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410849">
                        <link role="variableDeclaration" targetNodeId="1217882410878" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1217882450466">
                        <link role="link" targetNodeId="26.1217881979075" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1217882410851">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1217882410852">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217882410853">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217973249269">
                        <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="1217973249271" />
                        <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_ShowErrorMessage" id="1217973249272">
                          <node role="referenceNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410857">
                            <link role="variableDeclaration" targetNodeId="1217882410878" resolveInfo="op" />
                          </node>
                          <node role="messageText" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1217882410858">
                            <property name="value" value="reference on mapping label is broken" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ContinueStatement" id="1217882410859" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1217882410860">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1217882410861" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410862">
                      <link role="variableDeclaration" targetNodeId="1217882410846" resolveInfo="label" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217882410863">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1217882410864">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217882410865">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410866">
                        <link role="variableDeclaration" targetNodeId="1217882410846" resolveInfo="label" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1217882410867">
                        <link role="property" targetNodeId="8.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217882410868">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410869">
                        <link role="variableDeclaration" targetNodeId="1217882410878" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1217882460842">
                        <link role="property" targetNodeId="26.1217881979079" resolveInfo="labelName_intern" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1217882410871">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1217882410872">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1217882410873" />
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217882410874">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410875">
                        <link role="variableDeclaration" targetNodeId="1217882410878" resolveInfo="op" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1217882465156">
                        <link role="link" targetNodeId="26.1217881979075" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1217882410877">
                <link role="variableDeclaration" targetNodeId="1217882410838" resolveInfo="ops" />
              </node>
              <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1217882410878">
                <property name="name" value="op" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1217882410879">
                  <link role="concept" targetNodeId="26.1217881979074" resolveInfo="GenerationContextOp_GetPrevInputByLabel" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1219959145090">
    <property name="name" value="weave_DropRootRule_Condition" />
    <link role="applicableConcept" targetNodeId="7.1219952151850" resolveInfo="DropRootRule_Condition" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1219959436935">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1219959436936">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1219959436937" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219959436938">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1219959436939">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1219959436940">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219959436941">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1219959436942">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219959436943">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1219959436944" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1219959436945">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1219959436946">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1219959436947" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1219959436948" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1219959436949">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1219959436950">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219959436951">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219959467107">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1219959436953">
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.dropRootRule_Condition(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="dropRootRule_Condition" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1219959436954" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1219959436955">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1219959436956">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1219959436957">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1219959436958">
            <link role="classifier" targetNodeId="3.~DropRootRuleContext" resolveInfo="DropRootRuleContext" />
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1219959436959" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1219959436960" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="1225233707631">
    <property name="name" value="weave_MapSrcMacro_PostMapperFunction" />
    <link role="applicableConcept" targetNodeId="7.1225228973247" resolveInfo="MapSrcMacro_PostMapperFunction" />
    <node role="contentNode" type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1225233707632">
      <property name="name" value="_class_" />
      <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1225233707633">
        <property name="name" value="_query_method_" />
        <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1225236285195" />
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225233707635">
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="1225233707636">
            <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="1225233707637">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225233707638">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225233900150">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225233707640">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1225233707641" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225233707642">
                      <link role="link" targetNodeId="1.1137022507850" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225236288024">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1225233707644" />
          </node>
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="1225233707645" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="1225233707646">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="1225233707647">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225233707648">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225233874410">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225233733986">
                  <link role="baseMethodDeclaration" targetNodeId="6.~TemplateFunctionMethodName.mapSrcMacro_PostMapperFunction(jetbrains.mps.smodel.SNode):java.lang.String" resolveInfo="mapSrcMacro_PostMapperFunction" />
                  <link role="classConcept" targetNodeId="6.~TemplateFunctionMethodName" resolveInfo="TemplateFunctionMethodName" />
                  <node role="actualArgument" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="1225233871393" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1225233707652" />
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225233707653">
          <property name="name" value="operationContext" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1225233707654">
            <link role="classifier" targetNodeId="4.~IOperationContext" resolveInfo="IOperationContext" />
          </node>
        </node>
        <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225233707655">
          <property name="name" value="_context" />
          <property name="isFinal" value="true" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1225233893540">
            <link role="classifier" targetNodeId="3.~MapSrcMacroPostProcContext" resolveInfo="MapSrcMacroPostProcContext" />
          </node>
        </node>
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1225233707657" />
    </node>
  </node>
</model>

