<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c895902e5(jetbrains.mps.lang.generator.intentions)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="d7a92d38-f7db-40d0-8431-763b0c3c9f20(jetbrains.mps.lang.intentions)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="13744753-c81f-424a-9c1b-cf8943bf4e86(jetbrains.mps.lang.sharedConcepts)" />
  <language namespace="18bc6592-03a6-4e29-a83a-7ff23bde13ba(jetbrains.mps.lang.editor)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <language namespace="fd392034-7849-419d-9071-12563d152375(jetbrains.mps.baseLanguage.closures)" />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="28f9e497-3b42-4291-aeba-0a1039153ab1(jetbrains.mps.lang.plugin)" />
  <language namespace="ceab5195-25ea-4f22-9b92-103b95ca8c0c(jetbrains.mps.lang.core)" />
  <language namespace="c72da2b9-7cce-4447-8389-f407dc1158b7(jetbrains.mps.lang.structure)" />
  <language namespace="d4615e3b-d671-4ba9-af01-2b78369b0ba7(jetbrains.mps.lang.pattern)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034f(jetbrains.mps.lang.intentions.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e2(jetbrains.mps.lang.generator.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590353(jetbrains.mps.lang.intentions.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902f3(jetbrains.mps.lang.generator.generationContext.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590368(jetbrains.mps.lang.plugin.structure)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590361(jetbrains.mps.lang.plugin.constraints)" version="19" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959036e(jetbrains.mps.baseLanguage.classifiers.constraints)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590373(jetbrains.mps.baseLanguage.classifiers.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <devkit namespace="2677cb18-f558-4e33-bc38-a5139cee06dc(jetbrains.mps.devkit.language-design)" />
  <maxImportIndex value="39" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <import index="2" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <import index="5" modelUID="f:java_stub#jetbrains.mps.nodeEditor(jetbrains.mps.nodeEditor@java_stub)" version="-1" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="8" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <import index="15" modelUID="f:java_stub#javax.swing(javax.swing@java_stub)" version="-1" />
  <import index="16" modelUID="r:00000000-0000-4000-0000-011c895902e3(jetbrains.mps.lang.generator.editor)" version="-1" />
  <import index="17" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="19" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="21" modelUID="f:java_stub#jetbrains.mps.util(jetbrains.mps.util@java_stub)" version="-1" />
  <import index="22" modelUID="f:java_stub#jetbrains.mps.workbench.editors(jetbrains.mps.workbench.editors@java_stub)" version="-1" />
  <import index="23" modelUID="r:00000000-0000-4000-0000-011c89590282(jetbrains.mps.lang.core.behavior)" version="-1" />
  <import index="26" modelUID="f:java_stub#javax.swing.text(javax.swing.text@java_stub)" version="-1" />
  <import index="27" modelUID="f:java_stub#jetbrains.mps.ide.dialogs(jetbrains.mps.ide.dialogs@java_stub)" version="-1" />
  <import index="28" modelUID="f:java_stub#java.awt(java.awt@java_stub)" version="-1" />
  <import index="29" modelUID="f:java_stub#java.awt.event(java.awt.event@java_stub)" version="-1" />
  <import index="32" modelUID="f:java_stub#jetbrains.mps.project(jetbrains.mps.project@java_stub)" version="-1" />
  <import index="34" modelUID="r:00000000-0000-4000-0000-011c8959028b(jetbrains.mps.lang.structure.behavior)" version="-1" />
  <import index="35" modelUID="r:00000000-0000-4000-0000-011c895902e4(jetbrains.mps.lang.generator.typesystem)" version="-1" />
  <import index="36" modelUID="f:java_stub#jetbrains.mps.nodeEditor.cells(jetbrains.mps.nodeEditor.cells@java_stub)" version="-1" />
  <import index="37" modelUID="f:java_stub#jetbrains.mps.lang.smodel.generator.smodelAdapter(jetbrains.mps.lang.smodel.generator.smodelAdapter@java_stub)" version="-1" />
  <import index="38" modelUID="f:java_stub#jetbrains.mps.lang.structure.structure(jetbrains.mps.lang.structure.structure@java_stub)" version="-1" />
  <import index="39" modelUID="f:java_stub#jetbrains.mps.workbench.tools(jetbrains.mps.workbench.tools@java_stub)" version="-1" />
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1203775431223">
    <property name="name" value="ConvertInlineTemplateToTemplateFragment" />
    <property name="package" value="migrations" />
    <link role="forConcept" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1203775431224">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203775431225">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203775470228">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1203775470229">
            <property name="value" value="Convert Inline Template to Template Fragment" />
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1203775431226">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203775431227">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203776371855">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203776371856">
            <property name="name" value="ruleNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203776371857">
              <link role="concept" targetNodeId="1.1167169308231" resolveInfo="BaseMappingRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227914432">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1203776371861" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1203776371859">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1203776371860">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648292">
                    <link role="conceptDeclaration" targetNodeId="1.1167169308231" resolveInfo="BaseMappingRule" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1203776375910">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203776375911">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1203776444320">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1203776447775">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1203776395279">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1203776412146">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1203776433827">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776434565">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776434566">
                    <link role="variableDeclaration" targetNodeId="1203776371856" resolveInfo="ruleNode" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1203776434567">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1203776439663">
                      <link role="conceptDeclaration" targetNodeId="1.1167327847730" resolveInfo="Reduction_MappingRule" />
                    </node>
                  </node>
                </node>
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776418994">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776417883">
                    <link role="variableDeclaration" targetNodeId="1203776371856" resolveInfo="ruleNode" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1203776420527">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1203776426935">
                      <link role="conceptDeclaration" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776396359">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776396360">
                  <link role="variableDeclaration" targetNodeId="1203776371856" resolveInfo="ruleNode" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1203776396361">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1203776407989">
                    <link role="conceptDeclaration" targetNodeId="1.1167514355419" resolveInfo="Root_MappingRule" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1203776450387">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1203776451654">
            <property name="value" value="true" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1203775431228">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203775431229">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203775487326">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203775487327">
            <property name="name" value="templateNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203775487328">
              <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227955915">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227911840">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1203775487333" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1203775487332" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewRootNodeOperation" id="1203775487330">
                <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203776055299">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203776055300">
            <property name="name" value="ruleNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203776055301">
              <link role="concept" targetNodeId="1.1167169308231" resolveInfo="BaseMappingRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227902700">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1203776071743" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1203776071741">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1203776071742">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648315">
                    <link role="conceptDeclaration" targetNodeId="1.1167169308231" resolveInfo="BaseMappingRule" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203775487334">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227942610">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227926055">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203775487345">
                <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203775487344">
                <link role="link" targetNodeId="1.1168285871518" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1203775487336">
              <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945046">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776079744">
                  <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203775487338">
                  <link role="link" targetNodeId="1.1167169349424" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203775780052">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203775803328">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203775781663">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203775780053">
                <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1203775783759">
                <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1203775805268">
              <node role="value" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1203775807567">
                <property name="value" value="template1" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203775686764">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203775811755">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203775688188">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203775686765">
                <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203775776581">
                <link role="link" targetNodeId="1.1092060348987" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1203775825508">
              <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203775841527">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1203775828698" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203775844794">
                  <link role="link" targetNodeId="1.1177093586806" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1203776481016">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203776481017">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203776501309">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776528114">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776509720">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1203776502467">
                    <link role="concept" targetNodeId="1.1167514355419" resolveInfo="Root_MappingRule" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776501310">
                      <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776526144">
                    <link role="link" targetNodeId="1.1167514355421" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1203776531569">
                  <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776543946">
                    <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776484881">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776483708">
              <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1203776490306">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1203776496542">
                <link role="conceptDeclaration" targetNodeId="1.1167514355419" resolveInfo="Root_MappingRule" />
              </node>
            </node>
          </node>
          <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1203776558750">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203776558751">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203776825305">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203776825306">
                  <property name="name" value="templateRefNode" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203776825307">
                    <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776840700">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776840701">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1203776840702">
                        <link role="concept" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776840703">
                          <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776840704">
                        <link role="link" targetNodeId="1.1169570368028" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1203776840705">
                      <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203776847754">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776871400">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776849053">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776847755">
                      <link role="variableDeclaration" targetNodeId="1203776825306" resolveInfo="templateRefNoded" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776869868">
                      <link role="link" targetNodeId="1.1168559393589" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1203776873246">
                    <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776877123">
                      <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1203777005542">
                <property name="value" value="context function creation" />
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203776965491">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203776965492">
                  <property name="name" value="contextFunction" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203776965493">
                    <link role="concept" targetNodeId="1.1184616041890" resolveInfo="Weaving_MappingRule_ContextNodeQuery" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776987604">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776987605">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1203776987606">
                        <link role="concept" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776987607">
                          <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776987608">
                        <link role="link" targetNodeId="1.1184616230853" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1203776987609" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203776992846">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776999851">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776993973">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776992847">
                      <link role="variableDeclaration" targetNodeId="1203776965492" resolveInfo="contextFunction" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776998615">
                      <link role="link" targetNodeId="8.1137022507850" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1203777002509" />
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203777147659">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203777147660">
                  <property name="name" value="exprStmt" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203777147661">
                    <link role="concept" targetNodeId="8.1068580123155" resolveInfo="ExpressionStatement" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203777159804">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203777159805">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203777159806">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203777159807">
                          <link role="variableDeclaration" targetNodeId="1203776965492" resolveInfo="contextFunction" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203777159808">
                          <link role="link" targetNodeId="8.1137022507850" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1203777159809">
                        <link role="link" targetNodeId="8.1068581517665" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddNewChildOperation" id="1203777159810">
                      <link role="concept" targetNodeId="8.1068580123155" resolveInfo="ExpressionStatement" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203777163623">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203777268309">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203777165219">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203777163624">
                      <link role="variableDeclaration" targetNodeId="1203777147660" resolveInfo="exprStmt" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203777176221">
                      <link role="link" targetNodeId="8.1068580123156" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1203777270030">
                    <link role="concept" targetNodeId="1.1167169188348" resolveInfo="TemplateFunctionParameter_sourceNode" />
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776563537">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776562067">
                <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1203776566898">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1203776571744">
                  <link role="conceptDeclaration" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                </node>
              </node>
            </node>
            <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1203776745135">
              <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203776745136">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203776882938">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203776882939">
                    <property name="name" value="templateRefNode" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203776882940">
                      <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776882941">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776882942">
                        <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1203776882943">
                          <link role="concept" targetNodeId="1.1167327847730" resolveInfo="Reduction_MappingRule" />
                          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776882944">
                            <link role="variableDeclaration" targetNodeId="1203776055300" resolveInfo="ruleNode" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776903470">
                          <link role="link" targetNodeId="1.1169672767469" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1203776882946">
                        <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203776882947">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776882948">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776882949">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776914440">
                        <link role="variableDeclaration" targetNodeId="1203776882939" resolveInfo="templateRefNode" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203776918847">
                        <link role="link" targetNodeId="1.1168559393589" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1203776882952">
                      <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776882953">
                        <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203776131734">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1203776132736">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203776131735">
              <link role="variableDeclaration" targetNodeId="1203775487327" resolveInfo="templateNode" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.editor.structure.SelectOperation" id="1203776134097">
              <node role="editorContext" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1203776151537" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1205436780371">
    <property name="name" value="ConvertTemplateDeclRefToInlineTemplate" />
    <property name="package" value="migrations" />
    <link role="forConcept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1205436780372">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205436780373">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205436827532">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1205436827533">
            <property name="value" value="Convert to Inline Template" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1205436780374">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205436780375">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205437054638">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205437054639">
            <property name="name" value="TFs" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1205437054640" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437054641">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetDescendantsOperation" id="1205437054642">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1205437054643" />
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1205437054644">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648296">
                    <link role="conceptDeclaration" targetNodeId="1.1095672379244" resolveInfo="TemplateFragment" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437054645">
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205437054646">
                  <link role="link" targetNodeId="1.1092060348987" />
                </node>
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437054647">
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205437054648">
                    <link role="link" targetNodeId="1.1168559393589" />
                  </node>
                  <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1205437054649" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205437065526">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205437065527">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205437192440">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1205437250751">
                <link role="baseMethodDeclaration" targetNodeId="15.~JOptionPane.showMessageDialog(java.awt.Component,java.lang.Object):void" resolveInfo="showMessageDialog" />
                <link role="classConcept" targetNodeId="15.~JOptionPane" resolveInfo="JOptionPane" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205437252736" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1205437266082">
                  <property name="value" value="No fragments found" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205437293412" />
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205437093417">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205437096937">
              <property name="value" value="0" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437070109">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205437068546">
                <link role="variableDeclaration" targetNodeId="1205437054639" resolveInfo="TFs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205437073908" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205437296804">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205437296805">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205437296806">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1205437296807">
                <link role="baseMethodDeclaration" targetNodeId="15.~JOptionPane.showMessageDialog(java.awt.Component,java.lang.Object):void" resolveInfo="showMessageDialog" />
                <link role="classConcept" targetNodeId="15.~JOptionPane" resolveInfo="JOptionPane" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205437296808" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1205437296809">
                  <property name="value" value="Too many fragments" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205437296810" />
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1205437310871">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437310872">
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205437310873" />
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205437310874">
                <link role="variableDeclaration" targetNodeId="1205437054639" resolveInfo="TFs" />
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205437310875">
              <property name="value" value="1" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205437349253">
          <property name="value" value="------" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205437393789">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205437393790">
            <property name="name" value="oldTemplate" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205437393791">
              <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437393792">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205437393793">
                <link role="link" targetNodeId="1.1168559393589" />
              </node>
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1205437393794" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205437576724">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205437576725">
            <property name="name" value="fragmentToSet" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205437576726" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437605300">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437602093">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437587011">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205437585838">
                    <link role="variableDeclaration" targetNodeId="1205437054639" resolveInfo="TFs" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1205437592341" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1205437603627" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1205437608349" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205438118129">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205438118130">
            <property name="name" value="TFtoDelete" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205438118131">
              <link role="concept" targetNodeId="1.1095672379244" resolveInfo="TemplateFragment" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205438118132">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1205438118133">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1205438118134">
                  <link role="annotationLink" targetNodeId="1.1149858605876" resolveInfo="templateFragment" />
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205438118135">
                <link role="variableDeclaration" targetNodeId="1205437576725" resolveInfo="fragmentToSet" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205438123996">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205438125201">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205438123997">
              <link role="variableDeclaration" targetNodeId="1205438118130" resolveInfo="TFtoDelete" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_DeleteOperation" id="1205438126469" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205437482223">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205437482224">
            <property name="name" value="inlineTemplate" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205437482225">
              <link role="concept" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437482226">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithNewOperation" id="1205437482227">
                <link role="concept" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
              </node>
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1205437482228" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205437496449">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437508438">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205437497623">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205437496450">
                <link role="variableDeclaration" targetNodeId="1205437482224" resolveInfo="inlineTemplate" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205437507187">
                <link role="link" targetNodeId="1.1177093586806" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1205437510971">
              <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205437757383">
                <link role="variableDeclaration" targetNodeId="1205437576725" resolveInfo="fragmentToSet" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205437778214">
          <property name="value" value="------" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205437833862">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205437833863">
            <property name="name" value="option" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1205437833864" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1205437833865">
              <link role="classConcept" targetNodeId="15.~JOptionPane" resolveInfo="JOptionPane" />
              <link role="baseMethodDeclaration" targetNodeId="15.~JOptionPane.showConfirmDialog(java.awt.Component,java.lang.Object,java.lang.String,int):int" resolveInfo="showConfirmDialog" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205437833866" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1205437833867">
                <property name="value" value="Delete old template?" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1205437960301">
                <property name="value" value="" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1205437987287">
                <link role="classifier" targetNodeId="15.~JOptionPane" resolveInfo="JOptionPane" />
                <link role="variableDeclaration" targetNodeId="15.~JOptionPane.YES_NO_OPTION" resolveInfo="YES_NO_OPTION" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205437839400">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205437839401">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205438040103">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205438041214">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205438040104">
                  <link role="variableDeclaration" targetNodeId="1205437393790" resolveInfo="oldTemplate" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_DeleteOperation" id="1205438042748" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205437843640">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1205437847940">
              <link role="classifier" targetNodeId="15.~JOptionPane" resolveInfo="JOptionPane" />
              <link role="variableDeclaration" targetNodeId="15.~JOptionPane.YES_OPTION" resolveInfo="YES_OPTION" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205437841404">
              <link role="variableDeclaration" targetNodeId="1205437833863" resolveInfo="option" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1205436888128">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205436888129">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205436889755">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1205436896119">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205436898529" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205436890804">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1205436889756" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205436893634">
                <link role="link" targetNodeId="1.1168559393589" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1207152859258">
    <property name="name" value="AddNodeMacro" />
    <property name="package" value="create macro" />
    <link role="forConcept" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1207152859259">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207152859260">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207153626673">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1207153626674">
            <property name="value" value="Add Node Macro" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1207152859261">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207152859262">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216159224666">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216159224667">
            <property name="name" value="nodeMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216159224668">
              <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216159224669">
              <link role="baseMethodDeclaration" targetNodeId="16.1216154163929" resolveInfo="addNodeMacro" />
              <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159224670" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1207153675101">
          <property name="value" value="set caret" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207153675102">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207153675103">
            <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1207154161286" />
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207153675105">
              <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.selectAndSetCaret(jetbrains.mps.smodel.SNode,int):void" resolveInfo="selectAndSetCaret" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207153675106">
                <link role="variableDeclaration" targetNodeId="1216159224667" resolveInfo="nodeMacro" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1207153675107">
                <property name="value" value="1" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1207153617470">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207153617471">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216159120314">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216159120315">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216159152449">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216159154733">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216159113585">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1216159113586">
              <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1216159113587">
                <link role="classifier" targetNodeId="6.~Generator" resolveInfo="Generator" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159113588">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159113589">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1216159113590">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159113591">
                      <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159113592" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1216159113593" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216159113594">
                    <link role="baseMethodDeclaration" targetNodeId="6.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216159113595">
                  <link role="baseMethodDeclaration" targetNodeId="6.~SModelDescriptor.getModule():jetbrains.mps.project.IModule" resolveInfo="getModule" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216159162281">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216159174941">
            <link role="baseMethodDeclaration" targetNodeId="16.1216153381242" resolveInfo="isNodeMacroApplicable" />
            <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
            <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159185176" />
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1207154194671">
    <property name="name" value="AddPropertyMacro" />
    <property name="package" value="create macro" />
    <link role="forConcept" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1207154194672">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154194673">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207154194674">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1207154194675">
            <property name="value" value="Add Property Macro" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1207154194676">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154194677">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1207155381388">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1207155381389">
            <property name="name" value="propertyMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1207155381390">
              <link role="concept" targetNodeId="1.1087833241328" resolveInfo="PropertyMacro" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216159312808">
              <link role="baseMethodDeclaration" targetNodeId="16.1216154358068" resolveInfo="addPropertyMacro" />
              <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159314372" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159318312">
                <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216159317171" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216159321722">
                  <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1207155381399">
          <property name="value" value="set caret" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6570692658144044831">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144044832">
            <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="6570692658144096044" />
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144044834">
              <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.selectAndSetCaret(jetbrains.mps.smodel.SNode,int):void" resolveInfo="selectAndSetCaret" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6570692658144044835">
                <link role="variableDeclaration" targetNodeId="1207155381389" resolveInfo="propertyMacro" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="6570692658144044836">
                <property name="value" value="0" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="6570692658144044837">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="6570692658144044838">
            <property name="name" value="inspector" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="6570692658144044839">
              <link role="classifier" targetNodeId="5.~InspectorTool" resolveInfo="InspectorTool" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144044840">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144044841">
                <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="6570692658144102283" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144044843">
                  <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144044844">
                <link role="baseMethodDeclaration" targetNodeId="6.~IOperationContext.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="6570692658144044845">
                  <link role="classifier" targetNodeId="5.~InspectorTool" resolveInfo="InspectorTool" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.AssertStatement" id="6570692658144044846">
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="6570692658144044847">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="6570692658144044848" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6570692658144102285">
              <link role="variableDeclaration" targetNodeId="6570692658144044838" resolveInfo="inspector" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6570692658144044850">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144044851">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6570692658144044852">
              <link role="variableDeclaration" targetNodeId="6570692658144044838" resolveInfo="inspector" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144044853">
              <link role="baseMethodDeclaration" targetNodeId="39.~BaseTool.openTool(boolean):void" resolveInfo="openTool" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="6570692658144044854">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1207154194764">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154194765">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1207154574028">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154574029">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1207154580608">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1207154584189">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1207154577829">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1207154578284">
              <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1207154578285">
                <link role="classifier" targetNodeId="6.~Generator" resolveInfo="Generator" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207154578286">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207154578287">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1216159252203">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207154578290">
                      <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1207154578291" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1207154578292" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207154578294">
                    <link role="baseMethodDeclaration" targetNodeId="6.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207154578295">
                  <link role="baseMethodDeclaration" targetNodeId="6.~SModelDescriptor.getModule():jetbrains.mps.project.IModule" resolveInfo="getModule" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1207154538610">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216159275284">
            <link role="baseMethodDeclaration" targetNodeId="16.1216153654893" resolveInfo="isPropertyMacroApplicable" />
            <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
            <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159277488" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159287319">
              <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216159280006" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216159290088">
                <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1207154220489">
    <property name="name" value="AddReferenceMacro" />
    <property name="package" value="create macro" />
    <link role="forConcept" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1207154220490">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154220491">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207154220492">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1207154220493">
            <property name="value" value="Add Reference Macro" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1207154220494">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154220495">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1207155369371">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1207155369372">
            <property name="name" value="referenceMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1207155369373">
              <link role="concept" targetNodeId="1.1088761943574" resolveInfo="ReferenceMacro" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216159389611">
              <link role="baseMethodDeclaration" targetNodeId="16.1216154498760" resolveInfo="addReferenceMacro" />
              <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159391596" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159395865">
                <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216159394161" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216159397665">
                  <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1207155369382">
          <property name="value" value="set caret" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207155369383">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207155369384">
            <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1207155395897" />
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207155369386">
              <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.selectAndSetCaret(jetbrains.mps.smodel.SNode,int):void" resolveInfo="selectAndSetCaret" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207155369387">
                <link role="variableDeclaration" targetNodeId="1207155369372" resolveInfo="referenceMacro" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="6570692658144103195">
                <property name="value" value="2" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="6570692658144103174">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="6570692658144103175">
            <property name="name" value="inspector" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="6570692658144103176">
              <link role="classifier" targetNodeId="5.~InspectorTool" resolveInfo="InspectorTool" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144103177">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144103178">
                <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="6570692658144103196" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144103180">
                  <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144103181">
                <link role="baseMethodDeclaration" targetNodeId="6.~IOperationContext.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="6570692658144103182">
                  <link role="classifier" targetNodeId="5.~InspectorTool" resolveInfo="InspectorTool" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.AssertStatement" id="6570692658144103183">
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="6570692658144103184">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="6570692658144103185" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6570692658144103186">
              <link role="variableDeclaration" targetNodeId="6570692658144103175" resolveInfo="inspector" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6570692658144103187">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6570692658144103188">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6570692658144103189">
              <link role="variableDeclaration" targetNodeId="6570692658144103175" resolveInfo="inspector" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="6570692658144103190">
              <link role="baseMethodDeclaration" targetNodeId="39.~BaseTool.openTool(boolean):void" resolveInfo="openTool" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="6570692658144103191">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1207154220582">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207154220583">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1207155315551">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207155315552">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1207155315553">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1207155315554">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1207155315555">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1207155315556">
              <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1207155315557">
                <link role="classifier" targetNodeId="6.~Generator" resolveInfo="Generator" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207155315558">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207155315559">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1216159347770">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207155315562">
                      <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1207155315563" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1207155315564" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207155315566">
                    <link role="baseMethodDeclaration" targetNodeId="6.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207155315567">
                  <link role="baseMethodDeclaration" targetNodeId="6.~SModelDescriptor.getModule():jetbrains.mps.project.IModule" resolveInfo="getModule" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1207155332979">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216159359257">
            <link role="baseMethodDeclaration" targetNodeId="16.1216154022585" resolveInfo="isReferenceMacroApplicable" />
            <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
            <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216159361399" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216159369793">
              <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216159368495" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216159373062">
                <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1212103271142">
    <property name="name" value="Remove_properyLink_fromPropMacro" />
    <property name="isErrorIntention" value="true" />
    <property name="package" value="migrations" />
    <link role="forConcept" targetNodeId="1.1087833241328" resolveInfo="PropertyMacro" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1212103271143">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212103271144">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1212103467138">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1212103467139">
            <property name="value" value="Remove Obsolete 'property' Link" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1212103271145">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212103271146">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1212103579131">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1212103579132">
            <property name="name" value="reference" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1212103579133">
              <link role="classifier" targetNodeId="6.~SReference" resolveInfo="SReference" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212103586416">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1212103586417">
                <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1212103586418" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1212103586419">
                <link role="baseMethodDeclaration" targetNodeId="6.~SNode.getReference(java.lang.String):jetbrains.mps.smodel.SReference" resolveInfo="getReference" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1212103586420">
                  <property name="value" value="property" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1212103591985">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212103597942">
            <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1212103596815">
              <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1212103591986" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1212103603867">
              <link role="baseMethodDeclaration" targetNodeId="6.~SNode.removeReference(jetbrains.mps.smodel.SReference):void" resolveInfo="removeReference" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1212103606227">
                <link role="variableDeclaration" targetNodeId="1212103579132" resolveInfo="reference" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1212103521327">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212103521328">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1212103527032">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1212103562877">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1212103565661" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212103532664">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1212103531647">
                <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1212103527033" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1212103551062">
                <link role="baseMethodDeclaration" targetNodeId="6.~SNode.getReference(java.lang.String):jetbrains.mps.smodel.SReference" resolveInfo="getReference" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1212103553813">
                  <property name="value" value="property" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1212104471752">
    <property name="name" value="Remove_linkLink_fromRefMacro" />
    <property name="isErrorIntention" value="true" />
    <property name="package" value="migrations" />
    <link role="forConcept" targetNodeId="1.1088761943574" resolveInfo="ReferenceMacro" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1212104471753">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212104471754">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1212104471755">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1212104471756">
            <property name="value" value="Remove Obsolete 'link' Link" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1212104471757">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212104471758">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1212104471759">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1212104471760">
            <property name="name" value="reference" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1212104471761">
              <link role="classifier" targetNodeId="6.~SReference" resolveInfo="SReference" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212104471762">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1212104471763">
                <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1212104471764" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1212104471765">
                <link role="baseMethodDeclaration" targetNodeId="6.~SNode.getReference(java.lang.String):jetbrains.mps.smodel.SReference" resolveInfo="getReference" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1212104471766">
                  <property name="value" value="link" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1212104471767">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212104471768">
            <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1212104471769">
              <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1212104471770" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1212104471771">
              <link role="baseMethodDeclaration" targetNodeId="6.~SNode.removeReference(jetbrains.mps.smodel.SReference):void" resolveInfo="removeReference" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1212104471772">
                <link role="variableDeclaration" targetNodeId="1212104471760" resolveInfo="reference" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1212104471773">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212104471774">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1212104471775">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1212104471776">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1212104471777" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212104471778">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1212104471779">
                <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1212104471780" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1212104471781">
                <link role="baseMethodDeclaration" targetNodeId="6.~SNode.getReference(java.lang.String):jetbrains.mps.smodel.SReference" resolveInfo="getReference" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1212104471782">
                  <property name="value" value="link" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <visible index="2" modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" />
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1216319039419">
    <property name="name" value="NewTemplateInWeaveEach" />
    <property name="package" value="create template" />
    <link role="forConcept" targetNodeId="1.1169569792945" resolveInfo="WeaveEach_RuleConsequence" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1216319039420">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216319039421">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039422">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216319039423">
            <property name="value" value="New Template" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1216319039424">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216319039425">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216319039426">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216319039427">
            <property name="name" value="applicableConcept" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216319039428">
              <link role="concept" targetNodeId="19.1169125787135" resolveInfo="AbstractConceptDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039429">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1216319039430">
                <link role="concept" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319155874">
                  <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216319039432" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1216319157799" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216319039434">
                <link role="link" targetNodeId="1.1167169349424" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216319039435">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216319039436">
            <property name="name" value="name" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191969117" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216319039438">
              <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
              <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.getText(jetbrains.mps.nodeEditor.EditorContext):java.lang.String" resolveInfo="getText" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216319039439" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216319039440">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216319039441">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039442">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216319039443">
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216319039444">
                  <property name="value" value="weave_" />
                </node>
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039445">
                  <link role="variableDeclaration" targetNodeId="1216319039436" resolveInfo="name" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216319039446">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216319039447">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039448">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.PlusAssignmentExpression" id="1216319039449">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039450">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039451">
                        <link role="variableDeclaration" targetNodeId="1216319039427" resolveInfo="applicableConcept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216319039452">
                        <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039453">
                      <link role="variableDeclaration" targetNodeId="1216319039436" resolveInfo="name" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216319039454">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216319039455" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039456">
                  <link role="variableDeclaration" targetNodeId="1216319039427" resolveInfo="applicableConcept" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1216319039457">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216319039458">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1216319039459">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039460">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039461">
                  <link role="variableDeclaration" targetNodeId="1216319039436" resolveInfo="name" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216319039462">
                  <link role="baseMethodDeclaration" targetNodeId="17.~String.length():int" resolveInfo="length" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216319039463">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039464">
                <link role="variableDeclaration" targetNodeId="1216319039436" resolveInfo="name" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216319039465" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216319039466">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216319039467">
            <property name="name" value="t" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216319039468">
              <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039469">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039470">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216319039471" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1216319039472" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewRootNodeOperation" id="1216319039473">
                <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039474">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216319039475">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039476">
              <link role="variableDeclaration" targetNodeId="1216319039436" resolveInfo="name" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039477">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039478">
                <link role="variableDeclaration" targetNodeId="1216319039467" resolveInfo="t" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216319039479">
                <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039480">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216319039481">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039482">
              <link role="variableDeclaration" targetNodeId="1216319039427" resolveInfo="applicableConcept" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039483">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039484">
                <link role="variableDeclaration" targetNodeId="1216319039467" resolveInfo="t" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216319039485">
                <link role="link" targetNodeId="1.1168285871518" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227226294142">
          <property name="value" value=" initialize 'content node'" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227226315439">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227226315440">
            <property name="name" value="ownerRule" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227226315441">
              <link role="concept" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226315442">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227226315443" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1227226315444">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1227226315445">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227226323494">
                    <link role="conceptDeclaration" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227226372560">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227226372561">
            <property name="name" value="contextNodeType" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227226372562" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226372563">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226372564">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1227226372565">
                  <link role="concept" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226372566">
                    <link role="variableDeclaration" targetNodeId="1227226315440" resolveInfo="ownerRule" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227226372567">
                  <link role="link" targetNodeId="1.1184616230853" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.typesystem.structure.Node_TypeOperation" id="1227226372568" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227226372569">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227226372570">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227226372571">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227226372572">
                <property name="name" value="contextNodeConcept" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227226372573">
                  <link role="concept" targetNodeId="19.1169125787135" resolveInfo="AbstractConceptDeclaration" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226372574">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1227226372575">
                    <link role="concept" targetNodeId="2v.1138055754698" resolveInfo="SNodeType" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226372576">
                      <link role="variableDeclaration" targetNodeId="1227226372561" resolveInfo="contextNodeType" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227226372577">
                    <link role="link" targetNodeId="2v.1138405853777" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227226411123">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227226411124">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227226411125">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227226411126">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227226411127">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227226411128">
                        <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226411129">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226411130">
                            <link role="variableDeclaration" targetNodeId="1216319039467" resolveInfo="t" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227226411131">
                            <link role="link" targetNodeId="1.1092060348987" />
                          </node>
                        </node>
                        <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226411132">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226411133">
                            <link role="variableDeclaration" targetNodeId="1227226372572" resolveInfo="contextNodeConcept" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_NewInstance" id="1227226411134" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1227226411151">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226411152">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226411153">
                        <link role="variableDeclaration" targetNodeId="1227226372572" resolveInfo="contextNodeConcept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227226411154">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227226411155">
                          <link role="conceptDeclaration" targetNodeId="19.1169125989551" resolveInfo="InterfaceConceptDeclaration" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227226411156">
                <node role="rightExpression" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1227226411157">
                  <link role="conceptDeclaration" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
                </node>
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226411158">
                  <link role="variableDeclaration" targetNodeId="1227226372572" resolveInfo="contextNodeConcept" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226372603">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226372604">
              <link role="variableDeclaration" targetNodeId="1227226372561" resolveInfo="contextNodeType" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227226372605">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227226372606">
                <link role="conceptDeclaration" targetNodeId="2v.1138055754698" resolveInfo="SNodeType" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227226285843">
          <property name="value" value=" make reference" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039493">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216319039494">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216319039495">
              <link role="variableDeclaration" targetNodeId="1216319039467" resolveInfo="t" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319039496">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216319182160" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216319216832">
                <link role="link" targetNodeId="1.1169569853122" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1216319039499">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216319039500">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216319039501">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1240312392553">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1240312400985">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1240312397980">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1240312397807" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1240312399218" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1240312401989">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1240312405694">
                  <link role="conceptDeclaration" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319261663">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216319256659">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216319241446" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216319257584">
                  <link role="link" targetNodeId="1.1169569853122" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNullOperation" id="1216319264275" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1216320260188">
    <property name="name" value="NewTemplateInRuleConsequence" />
    <property name="package" value="create template" />
    <link role="forConcept" targetNodeId="1.1168559098955" resolveInfo="RuleConsequence" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1216320260189">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320260190">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260191">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216320260192">
            <property name="value" value="New Template" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1216320260193">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320260194">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216320400221">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216320400222">
            <property name="name" value="ownerRule" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216320400223">
              <link role="concept" targetNodeId="1.1167169308231" resolveInfo="BaseMappingRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320400224">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216320400225" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216320400226">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1216320400227">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216320400228">
                    <link role="conceptDeclaration" targetNodeId="1.1167169308231" resolveInfo="BaseMappingRule" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216320260195">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216320260196">
            <property name="name" value="applicableConcept" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216320260197">
              <link role="concept" targetNodeId="19.1169125787135" resolveInfo="AbstractConceptDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260198">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320428901">
                <link role="variableDeclaration" targetNodeId="1216320400222" resolveInfo="ownerRule" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216320260203">
                <link role="link" targetNodeId="1.1167169349424" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216320260204">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216320260205">
            <property name="name" value="name" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191972536" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216320260207">
              <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
              <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.getText(jetbrains.mps.nodeEditor.EditorContext):java.lang.String" resolveInfo="getText" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216320260208" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216320260209">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320260210">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216320444856">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320444857">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260211">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216320260212">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216320260213">
                      <property name="value" value="reduce_" />
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260214">
                      <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320451845">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320450094">
                  <link role="variableDeclaration" targetNodeId="1216320400222" resolveInfo="ownerRule" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1216320455161">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216320711532">
                    <link role="conceptDeclaration" targetNodeId="1.1167327847730" resolveInfo="Reduction_MappingRule" />
                  </node>
                </node>
              </node>
              <node role="elsifClauses" type="jetbrains.mps.baseLanguage.structure.ElsifClause" id="1216320723721">
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320730022">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320728333">
                    <link role="variableDeclaration" targetNodeId="1216320400222" resolveInfo="ownerRule" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1216320732509">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216320737354">
                      <link role="conceptDeclaration" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                    </node>
                  </node>
                </node>
                <node role="statementList" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320723723">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320741355">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216320743966">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216320747485">
                        <property name="value" value="weave_" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320741356">
                        <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1216320818196">
                <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320818197">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216320863176">
                    <property name="value" value="strange" />
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320824385">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216320827590">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216320830031">
                        <property name="value" value="map_" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320824386">
                        <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216320260215">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320260216">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260217">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.PlusAssignmentExpression" id="1216320260218">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260219">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260220">
                        <link role="variableDeclaration" targetNodeId="1216320260196" resolveInfo="applicableConcept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216320260221">
                        <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260222">
                      <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216320260223">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216320260224" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260225">
                  <link role="variableDeclaration" targetNodeId="1216320260196" resolveInfo="applicableConcept" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1216320260226">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216320260227">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1216320260228">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260229">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260230">
                  <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216320260231">
                  <link role="baseMethodDeclaration" targetNodeId="17.~String.length():int" resolveInfo="length" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216320260232">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260233">
                <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216320260234" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216320260235">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216320260236">
            <property name="name" value="t" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216320260237">
              <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260238">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260239">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216320260240" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1216320260241" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewRootNodeOperation" id="1216320260242">
                <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260243">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216320260244">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260245">
              <link role="variableDeclaration" targetNodeId="1216320260205" resolveInfo="name" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260246">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260247">
                <link role="variableDeclaration" targetNodeId="1216320260236" resolveInfo="t" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216320260248">
                <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260249">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216320260250">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260251">
              <link role="variableDeclaration" targetNodeId="1216320260196" resolveInfo="applicableConcept" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260252">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260253">
                <link role="variableDeclaration" targetNodeId="1216320260236" resolveInfo="t" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216320260254">
                <link role="link" targetNodeId="1.1168285871518" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227225573085">
          <property name="value" value=" initialize 'content node' in template for a 'weaving rule'" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227225042059">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227225042060">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227225207608">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227225207609">
                <property name="name" value="contextNodeType" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227225207610" />
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227225207611">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227225207612">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1227225207613">
                      <link role="concept" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227225207614">
                        <link role="variableDeclaration" targetNodeId="1216320400222" resolveInfo="ownerRule" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227225207615">
                      <link role="link" targetNodeId="1.1184616230853" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.typesystem.structure.Node_TypeOperation" id="1227225207616" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227225238446">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227225238447">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227225310527">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227225310528">
                    <property name="name" value="contextNodeConcept" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227225310529">
                      <link role="concept" targetNodeId="19.1169125787135" resolveInfo="AbstractConceptDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227225310530">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1227225310531">
                        <link role="concept" targetNodeId="2v.1138055754698" resolveInfo="SNodeType" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227225310532">
                          <link role="variableDeclaration" targetNodeId="1227225207609" resolveInfo="contextNodeType" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227225310533">
                        <link role="link" targetNodeId="2v.1138405853777" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227226439894">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227226439895">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227226439896">
                      <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227226439897">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227226439898">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227226439899">
                            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226439900">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226439901">
                                <link role="variableDeclaration" targetNodeId="1216320260236" resolveInfo="t" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227226439902">
                                <link role="link" targetNodeId="1.1092060348987" />
                              </node>
                            </node>
                            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226439903">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226439904">
                                <link role="variableDeclaration" targetNodeId="1227225310528" resolveInfo="contextNodeConcept" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_NewInstance" id="1227226439905" />
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1227226439906">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227226439907">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226439908">
                            <link role="variableDeclaration" targetNodeId="1227225310528" resolveInfo="contextNodeConcept" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227226439909">
                            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227226439910">
                              <link role="conceptDeclaration" targetNodeId="19.1169125989551" resolveInfo="InterfaceConceptDeclaration" />
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227226439911">
                    <node role="rightExpression" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1227226439912">
                      <link role="conceptDeclaration" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
                    </node>
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227226439913">
                      <link role="variableDeclaration" targetNodeId="1227225310528" resolveInfo="contextNodeConcept" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227225244154">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227225242263">
                  <link role="variableDeclaration" targetNodeId="1227225207609" resolveInfo="contextNodeType" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227225248579">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227225257268">
                    <link role="conceptDeclaration" targetNodeId="2v.1138055754698" resolveInfo="SNodeType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227225051267">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227225048813">
              <link role="variableDeclaration" targetNodeId="1216320400222" resolveInfo="ownerRule" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227225055176">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227225065552">
                <link role="conceptDeclaration" targetNodeId="1.1167171569011" resolveInfo="Weaving_MappingRule" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216320260255">
          <property name="value" value="make reference" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216320260256">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216320260257">
            <property name="name" value="tr" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216320260258">
              <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260259">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216320260260" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithNewOperation" id="1216320260261">
                <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260262">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216320260263">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260264">
              <link role="variableDeclaration" targetNodeId="1216320260236" resolveInfo="t" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260265">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216320260266">
                <link role="variableDeclaration" targetNodeId="1216320260257" resolveInfo="tr" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216320260267">
                <link role="link" targetNodeId="1.1168559393589" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1216320260268">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216320260269">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216320260270">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260278">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216320260279">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216320260280" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetConceptOperation" id="1216320260281" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216320260282">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216320260283">
                <link role="conceptDeclaration" targetNodeId="1.1168559098955" resolveInfo="RuleConsequence" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1216323872536">
    <property name="name" value="NewTemplateInSwitchDefault" />
    <property name="package" value="create template" />
    <link role="forConcept" targetNodeId="1.1112730859144" resolveInfo="TemplateSwitch" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1216323872537">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216323872538">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216323872539">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216323872540">
            <property name="value" value="New Default Template" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1216323872541">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216323872542">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216323872557">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216323872558">
            <property name="name" value="name" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191969352" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216323872560">
              <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
              <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.getText(jetbrains.mps.nodeEditor.EditorContext):java.lang.String" resolveInfo="getText" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216323872561" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216323872562">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216323872563">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216324109557">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216324111684">
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1216324130969">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216324138208">
                    <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216324137019" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216324139929">
                      <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                    </node>
                  </node>
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216324114984">
                    <property name="value" value="default_" />
                  </node>
                </node>
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216324109558">
                  <link role="variableDeclaration" targetNodeId="1216323872558" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1216323872602">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216323872603">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1216323872604">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216323872605">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216323872606">
                  <link role="variableDeclaration" targetNodeId="1216323872558" resolveInfo="name" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216323872607">
                  <link role="baseMethodDeclaration" targetNodeId="17.~String.length():int" resolveInfo="length" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216323872608">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216323872609">
                <link role="variableDeclaration" targetNodeId="1216323872558" resolveInfo="name" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216323872610" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216323872611">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216323872612">
            <property name="name" value="t" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216323872613">
              <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216323872614">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216323872615">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216323872616" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1216323872617" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewRootNodeOperation" id="1216323872618">
                <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216323872619">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216323872620">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216323872621">
              <link role="variableDeclaration" targetNodeId="1216323872558" resolveInfo="name" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216323872622">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216323872623">
                <link role="variableDeclaration" targetNodeId="1216323872612" resolveInfo="t" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216323872624">
                <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216323872631">
          <property name="value" value="make reference" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216323872632">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216323872633">
            <property name="name" value="tr" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216323872634">
              <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1216324166993">
              <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1216324166994">
                <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216324166995">
                  <link role="concept" targetNodeId="1.1168559333462" resolveInfo="TemplateDeclarationReference" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216323872638">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216323872639">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216323872640">
              <link role="variableDeclaration" targetNodeId="1216323872612" resolveInfo="t" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216323872641">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216323872642">
                <link role="variableDeclaration" targetNodeId="1216323872633" resolveInfo="tr" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216323872643">
                <link role="link" targetNodeId="1.1168559393589" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216324200602">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216324207311">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216324212251">
              <link role="variableDeclaration" targetNodeId="1216323872633" resolveInfo="tr" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216324200666">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216324200603" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216324204935">
                <link role="link" targetNodeId="1.1168558750579" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1216323872644">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216323872645">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216323872646">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216324004818">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216324006571" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216323989032">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216323872649" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216324003176">
                <link role="link" targetNodeId="1.1168558750579" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1216334426557">
    <property name="name" value="NewTemplateInRootMappingRule" />
    <property name="package" value="create template" />
    <link role="forConcept" targetNodeId="1.1167514355419" resolveInfo="Root_MappingRule" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1216334426558">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216334426559">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216334426560">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216334426561">
            <property name="value" value="New Root Template" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1216334426562">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216334426563">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216334426564">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216334426565">
            <property name="name" value="name" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191976772" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216334426567">
              <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
              <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.getText(jetbrains.mps.nodeEditor.EditorContext):java.lang.String" resolveInfo="getText" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216334426568" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216334426569">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216334426570">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216334426571">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216334426572">
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1216334426573">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216334610078">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216334426574">
                      <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216334426575" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216334608843">
                        <link role="link" targetNodeId="1.1167169349424" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216334610644">
                      <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                    </node>
                  </node>
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216334426577">
                    <property name="value" value="map_" />
                  </node>
                </node>
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216334426578">
                  <link role="variableDeclaration" targetNodeId="1216334426565" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1216334426579">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216334426580">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1216334426581">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216334426582">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216334426583">
                  <link role="variableDeclaration" targetNodeId="1216334426565" resolveInfo="name" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216334426584">
                  <link role="baseMethodDeclaration" targetNodeId="17.~String.length():int" resolveInfo="length" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216334426585">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216334426586">
                <link role="variableDeclaration" targetNodeId="1216334426565" resolveInfo="name" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216334426587" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216335853053">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216335853054">
            <property name="name" value="rule" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216335853055">
              <link role="concept" targetNodeId="1.1167514355419" resolveInfo="Root_MappingRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216335864744" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216334648943">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216334657374">
            <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.showCreateNewRootMenu(jetbrains.mps.nodeEditor.EditorContext,jetbrains.mps.util.Condition,jetbrains.mps.util.Setter):void" resolveInfo="showCreateNewRootMenu" />
            <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
            <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216334756147" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1216334966291">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216334966292">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216335239559">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216335239560">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216335265959">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216335268181">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216335152270">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216335146565">
                      <link role="variableDeclaration" targetNodeId="1216334993653" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216335185337">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216335203589">
                        <link role="conceptDeclaration" targetNodeId="1.1112730859144" resolveInfo="TemplateSwitch" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216335278267">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216335278268">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216335305456">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216335308740">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216335289948">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216335289884">
                      <link role="variableDeclaration" targetNodeId="1216334993653" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216335293655">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216335298907">
                        <link role="conceptDeclaration" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216335315886">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216335315887">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216335336870">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216335339437">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216335323440">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216335323377">
                      <link role="variableDeclaration" targetNodeId="1216334993653" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216335324757">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216335332540">
                        <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216335351017">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216335351018">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216335351019">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216335351020">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216335351021">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216335351022">
                      <link role="variableDeclaration" targetNodeId="1216334993653" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216335351023">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216335362917">
                        <link role="conceptDeclaration" targetNodeId="1.1195499912406" resolveInfo="MappingScript" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216335372312">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216335383256">
                    <property name="value" value="true" />
                  </node>
                </node>
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216334993653">
                <property name="name" value="c" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SConceptType" id="1216334993654" />
              </node>
            </node>
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1216335413270">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216335413271">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216335666216">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216335666217">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216335726799" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216335723340">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216335723341">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216335918736">
                        <link role="variableDeclaration" targetNodeId="1216335435635" resolveInfo="root" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1216335723343">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216335723344">
                          <link role="conceptDeclaration" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216336402322">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216336440428">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216336442947">
                      <link role="variableDeclaration" targetNodeId="1216334426565" resolveInfo="name" />
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216336436626">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1216336430326">
                        <link role="concept" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216336402323">
                          <link role="variableDeclaration" targetNodeId="1216335435635" resolveInfo="root" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216336437677">
                        <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216335639997">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216335646130">
                    <node role="rValue" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1216335926285">
                      <link role="concept" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216335901234">
                        <link role="variableDeclaration" targetNodeId="1216335435635" resolveInfo="root" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216335641500">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216335890154">
                        <link role="variableDeclaration" targetNodeId="1216335853054" resolveInfo="rule" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216335643300">
                        <link role="link" targetNodeId="1.1167514355421" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216336725758">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216336754166">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216336780969">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216336779639">
                        <link role="variableDeclaration" targetNodeId="1216335853054" resolveInfo="rule" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216336784817">
                        <link role="link" targetNodeId="1.1167169349424" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216336745301">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216336732496">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216336725759">
                          <link role="variableDeclaration" targetNodeId="1216335435635" resolveInfo="root" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216336734672">
                          <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1216336741533">
                            <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                          </node>
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216336749523">
                        <link role="link" targetNodeId="1.1168619429071" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216335435635">
                <property name="name" value="root" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216335435636" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1216334426621">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216334426622">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216334426623">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216334426624">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216334426625" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216334426626">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216334426627" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216334564639">
                <link role="link" targetNodeId="1.1167514355421" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1216337594117">
    <property name="name" value="NewTemplateInCreateRootRule" />
    <property name="package" value="create template" />
    <link role="forConcept" targetNodeId="1.1167087469898" resolveInfo="CreateRootRule" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1216337594118">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594119">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216337594120">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216337594121">
            <property name="value" value="New Root Template" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1216337594122">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594123">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216337594124">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216337594125">
            <property name="name" value="name" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191972378" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216337594127">
              <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.getText(jetbrains.mps.nodeEditor.EditorContext):java.lang.String" resolveInfo="getText" />
              <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216337594128" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216337594129">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594130">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216337594131">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216337594132">
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1216337594139">
                  <property name="value" value="_name_" />
                </node>
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216337594140">
                  <link role="variableDeclaration" targetNodeId="1216337594125" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1216337594141">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216337594142">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1216337594143">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594144">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216337594145">
                  <link role="variableDeclaration" targetNodeId="1216337594125" resolveInfo="name" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216337594146">
                  <link role="baseMethodDeclaration" targetNodeId="17.~String.length():int" resolveInfo="length" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216337594147">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216337594148">
                <link role="variableDeclaration" targetNodeId="1216337594125" resolveInfo="name" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216337594149" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216337594150">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216337594151">
            <property name="name" value="rule" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216337594152">
              <link role="concept" targetNodeId="1.1167087469898" resolveInfo="CreateRootRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216337594153" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216337594154">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216337594155">
            <link role="baseMethodDeclaration" targetNodeId="5.~CreateFromUsageUtil.showCreateNewRootMenu(jetbrains.mps.nodeEditor.EditorContext,jetbrains.mps.util.Condition,jetbrains.mps.util.Setter):void" resolveInfo="showCreateNewRootMenu" />
            <link role="classConcept" targetNodeId="5.~CreateFromUsageUtil" resolveInfo="CreateFromUsageUtil" />
            <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1216337594156" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1216337594157">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594158">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216337594159">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594160">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216337594161">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216337594162">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594163">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594164">
                      <link role="variableDeclaration" targetNodeId="1216337594193" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216337594165">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216337594166">
                        <link role="conceptDeclaration" targetNodeId="1.1112730859144" resolveInfo="TemplateSwitch" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216337594167">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594168">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216337594169">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216337594170">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594171">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594172">
                      <link role="variableDeclaration" targetNodeId="1216337594193" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216337594173">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216337594174">
                        <link role="conceptDeclaration" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216337594175">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594176">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216337594177">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216337594178">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594179">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594180">
                      <link role="variableDeclaration" targetNodeId="1216337594193" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216337594181">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216337594182">
                        <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216337594183">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594184">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216337594185">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216337594186">
                        <property name="value" value="false" />
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594187">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594188">
                      <link role="variableDeclaration" targetNodeId="1216337594193" resolveInfo="c" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_IsExactlyOperation" id="1216337594189">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216337594190">
                        <link role="conceptDeclaration" targetNodeId="1.1195499912406" resolveInfo="MappingScript" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216337594191">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216337594192">
                    <property name="value" value="true" />
                  </node>
                </node>
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216337594193">
                <property name="name" value="c" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SConceptType" id="1216337594194" />
              </node>
            </node>
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1216337594195">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594196">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216337594197">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594198">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216337594199" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216337594200">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594201">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594202">
                        <link role="variableDeclaration" targetNodeId="1216337594230" resolveInfo="root" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1216337594203">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216337594204">
                          <link role="conceptDeclaration" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216337594205">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216337594206">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216337594207">
                      <link role="variableDeclaration" targetNodeId="1216337594125" resolveInfo="name" />
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594208">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1216337594209">
                        <link role="concept" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594210">
                          <link role="variableDeclaration" targetNodeId="1216337594230" resolveInfo="root" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1216337594211">
                        <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216337594212">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1216337594213">
                    <node role="rValue" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1216337594214">
                      <link role="concept" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216337594215">
                        <link role="variableDeclaration" targetNodeId="1216337594230" resolveInfo="root" />
                      </node>
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594216">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216337594217">
                        <link role="variableDeclaration" targetNodeId="1216337594151" resolveInfo="rule" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216337762932">
                        <link role="link" targetNodeId="1.1167087469901" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216337594230">
                <property name="name" value="root" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216337594231" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1216337594232">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216337594233">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216337594234">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216337594235">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216337594236" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216337594237">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1216337594238" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1216337652023">
                <link role="link" targetNodeId="1.1167087469901" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1227216572218">
    <property name="name" value="NewCreateRootRule" />
    <property name="package" value="create rule" />
    <link role="forConcept" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1227216572219">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227216572220">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227219985031">
          <property name="value" value=" Creates new 'conditional root rule' for a root tamplate" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227220042174">
          <property name="value" value=" (if such rule is not exist yet)" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227216919495">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227216919496">
            <property name="value" value="Create Conditional Root Rule" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1227216572221">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227216572222">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227218039958">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227218039959">
            <property name="name" value="configs" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227218039960">
              <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218039961">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218039962">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227218039963" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227218039964" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsOperation" id="1227218039965">
                <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227218099999">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227218100000">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227218614364">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227218614365">
                <property name="name" value="sameVPackConfigs" />
                <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1227218614366">
                  <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227218631322">
                    <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                  </node>
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218669091">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227218669092">
                    <link role="variableDeclaration" targetNodeId="1227218039959" resolveInfo="configs" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperation" id="1227218669093">
                    <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227218669094">
                      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227218669095">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227218669096">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1227224505140">
                            <link role="baseMethodDeclaration" targetNodeId="21.~Comparing.equal(java.lang.String,java.lang.String):boolean" resolveInfo="equal" />
                            <link role="classConcept" targetNodeId="21.~Comparing" resolveInfo="Comparing" />
                            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227224505141">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227224505142">
                                <link role="variableDeclaration" targetNodeId="1227218669104" resolveInfo="it" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227224505143">
                                <link role="property" targetNodeId="2.1193676396447" resolveInfo="virtualPackage" />
                              </node>
                            </node>
                            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227224505144">
                              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227224505145" />
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227224505146">
                                <link role="property" targetNodeId="2.1193676396447" resolveInfo="virtualPackage" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227218669104">
                        <property name="name" value="it" />
                        <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227218669105" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227218705729">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227218705730">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227218729082">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227218731896">
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227218729083">
                      <link role="variableDeclaration" targetNodeId="1227218039959" resolveInfo="configs" />
                    </node>
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218738119">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227218736680">
                        <link role="variableDeclaration" targetNodeId="1227218614365" resolveInfo="sameVPackConfigs" />
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ToListOperation" id="1227218739966" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218718968">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227218714858">
                  <link role="variableDeclaration" targetNodeId="1227218614365" resolveInfo="sameVPackConfigs" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1227218721549" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1227218113884">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227218114435">
              <property name="value" value="1" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218107347">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227218103550">
                <link role="variableDeclaration" targetNodeId="1227218039959" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1227218107819" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227218768329">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227218768330">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227218960034">
              <property name="value" value="TODO: let user to choose mapping config?" />
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1227218957857">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227218957985">
              <property name="value" value="1" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227218951571">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227218772334">
                <link role="variableDeclaration" targetNodeId="1227218039959" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1227218953746" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227219013193">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227219013194">
            <property name="name" value="config" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227219013195">
              <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219026666">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219024603">
                <link role="variableDeclaration" targetNodeId="1227218039959" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1227219033466" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227219060940">
          <property name="value" value=" add new rule" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227219164350">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227219164351">
            <property name="name" value="rule" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227219164352">
              <link role="concept" targetNodeId="1.1167087469898" resolveInfo="CreateRootRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219164353">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219164354">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219164355">
                  <link role="variableDeclaration" targetNodeId="1227219013194" resolveInfo="config" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227219164356">
                  <link role="link" targetNodeId="1.1167088157977" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddNewChildOperation" id="1227219164357" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227219073067">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227219112643">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219104201">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219164358">
                <link role="variableDeclaration" targetNodeId="1227219164351" resolveInfo="rule" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227219109860">
                <link role="link" targetNodeId="1.1167087469901" />
              </node>
            </node>
            <node role="rValue" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227219142161" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227220721178">
          <property name="value" value=" open in editor" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227220716120">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227220716121">
            <property name="name" value="opener" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227220716122">
              <link role="classifier" targetNodeId="22.~MPSEditorOpener" resolveInfo="MPSEditorOpener" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227220716123">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227220716124">
                <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1227220716125" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227220716126">
                  <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227220716127">
                <link role="baseMethodDeclaration" targetNodeId="6.~IOperationContext.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="1227220716128">
                  <link role="classifier" targetNodeId="22.~MPSEditorOpener" resolveInfo="MPSEditorOpener" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227220888948">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227220890957">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227220888949">
              <link role="variableDeclaration" targetNodeId="1227220716121" resolveInfo="opener" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227220895516">
              <link role="baseMethodDeclaration" targetNodeId="22.~MPSEditorOpener.openNode(jetbrains.mps.smodel.SNode):void" resolveInfo="openNode" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227220899939">
                <link role="variableDeclaration" targetNodeId="1227219164351" resolveInfo="rule" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1227216955654">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227216955655">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227217922381">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227217922382">
            <property name="name" value="annotation" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227217922383">
              <link role="concept" targetNodeId="1.1168619357332" resolveInfo="RootTemplateAnnotation" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227217922384">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227217922385" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227217922386">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227217922387">
                  <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227219529370">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227219529371">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227219537942">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227219540428">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227219534625">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227219535456" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219533031">
              <link role="variableDeclaration" targetNodeId="1227217922382" resolveInfo="annotation" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227219557522">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227219557523">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227219557524">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227219557525">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227219557526">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227219557527" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557528">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219557529">
                <link role="variableDeclaration" targetNodeId="1227217922382" resolveInfo="annotation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227219557530">
                <link role="link" targetNodeId="1.1168619429071" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227219557531">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227219557532">
            <property name="name" value="configs" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227219557533">
              <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557534">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557535">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227219557536" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227219557537" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsOperation" id="1227219557538">
                <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227219557539">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227219557540">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227219557541">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227219557542">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557543">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219557544">
              <link role="variableDeclaration" targetNodeId="1227219557532" resolveInfo="configs" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsEmptyOperation" id="1227219557545" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227219557546">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227219557547">
            <property name="name" value="usage" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227219557548">
              <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557549">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219557550">
                <link role="variableDeclaration" targetNodeId="1227219557532" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.FindFirstOperation" id="1227219557551">
                <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227219557552">
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227219557553">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227219557554">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227219557555">
                        <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227219557556" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557557">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557558">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227219557559">
                              <link role="variableDeclaration" targetNodeId="1227219557572" resolveInfo="it" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227219557560">
                              <link role="link" targetNodeId="1.1167088157977" />
                            </node>
                          </node>
                          <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.FindFirstOperation" id="1227219557561">
                            <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227219557562">
                              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227219557563">
                                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227219557564">
                                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227219557565">
                                    <node role="rightExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227219557566" />
                                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227219557567">
                                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227219557568">
                                        <link role="variableDeclaration" targetNodeId="1227219557570" resolveInfo="it" />
                                      </node>
                                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227219557569">
                                        <link role="link" targetNodeId="1.1167087469901" />
                                      </node>
                                    </node>
                                  </node>
                                </node>
                              </node>
                              <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227219557570">
                                <property name="name" value="it" />
                                <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227219557571" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227219557572">
                    <property name="name" value="it" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227219557573" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227219557574">
          <property name="value" value=" not used in rule yet?" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227219557575">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227219557576">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227219557577" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227219557578">
              <link role="variableDeclaration" targetNodeId="1227219557547" resolveInfo="usage" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1227221178632">
    <property name="name" value="NewRootMappingRule" />
    <property name="package" value="create rule" />
    <link role="forConcept" targetNodeId="2.1169194658468" resolveInfo="INamedConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1227221178633">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178634">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227221178635">
          <property name="value" value=" Creates new 'root mapping rule' for a root tamplate" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227221178636">
          <property name="value" value=" (if such rule is not exist yet)" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178637">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227221178638">
            <property name="value" value="Create Root Mapping Rule" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1227221178639">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178640">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178641">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178642">
            <property name="name" value="configs" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227221178643">
              <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178644">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178645">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221178646" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227221178647" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsOperation" id="1227221178648">
                <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227221178649">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178650">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178651">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178652">
                <property name="name" value="sameVPackConfigs" />
                <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1227221178653">
                  <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227221178654">
                    <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                  </node>
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178655">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178656">
                    <link role="variableDeclaration" targetNodeId="1227221178642" resolveInfo="configs" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperation" id="1227221178657">
                    <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227221178658">
                      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178659">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178660">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1227221178661">
                            <link role="baseMethodDeclaration" targetNodeId="21.~Comparing.equal(java.lang.String,java.lang.String):boolean" resolveInfo="equal" />
                            <link role="classConcept" targetNodeId="21.~Comparing" resolveInfo="Comparing" />
                            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178662">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227221178663">
                                <link role="variableDeclaration" targetNodeId="1227221178668" resolveInfo="it" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227221178664">
                                <link role="property" targetNodeId="2.1193676396447" resolveInfo="virtualPackage" />
                              </node>
                            </node>
                            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178665">
                              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221178666" />
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227221178667">
                                <link role="property" targetNodeId="2.1193676396447" resolveInfo="virtualPackage" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227221178668">
                        <property name="name" value="it" />
                        <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227221178669" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227221178670">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178671">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178672">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227221178673">
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178674">
                      <link role="variableDeclaration" targetNodeId="1227221178642" resolveInfo="configs" />
                    </node>
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178675">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178676">
                        <link role="variableDeclaration" targetNodeId="1227221178652" resolveInfo="sameVPackConfigs" />
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ToListOperation" id="1227221178677" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178678">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178679">
                  <link role="variableDeclaration" targetNodeId="1227221178652" resolveInfo="sameVPackConfigs" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1227221178680" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1227221178681">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227221178682">
              <property name="value" value="1" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178683">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178684">
                <link role="variableDeclaration" targetNodeId="1227221178642" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1227221178685" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227221178686">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178687">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227221178688">
              <property name="value" value="TODO: let user to choose mapping config?" />
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1227221178689">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227221178690">
              <property name="value" value="1" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178691">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178692">
                <link role="variableDeclaration" targetNodeId="1227221178642" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1227221178693" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178694">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178695">
            <property name="name" value="config" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227221178696">
              <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178697">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178698">
                <link role="variableDeclaration" targetNodeId="1227221178642" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1227221178699" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227221178700">
          <property name="value" value=" add new rule" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178701">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178702">
            <property name="name" value="rule" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227221178703">
              <link role="concept" targetNodeId="1.1167514355419" resolveInfo="Root_MappingRule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178704">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178705">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178706">
                  <link role="variableDeclaration" targetNodeId="1227221178695" resolveInfo="config" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227221365630">
                  <link role="link" targetNodeId="1.1167514678247" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddNewChildOperation" id="1227221178708" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221622390">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227221632927">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221655640">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221648400">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221648321" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227221650059">
                  <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227221653326">
                    <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227221656549">
                <link role="link" targetNodeId="1.1168619429071" />
              </node>
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221624455">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221622391">
                <link role="variableDeclaration" targetNodeId="1227221178702" resolveInfo="rule" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227221629833">
                <link role="link" targetNodeId="1.1167169349424" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178709">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227221178710">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178711">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178712">
                <link role="variableDeclaration" targetNodeId="1227221178702" resolveInfo="rule" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227221397468">
                <link role="link" targetNodeId="1.1167514355421" />
              </node>
            </node>
            <node role="rValue" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221178714" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227221178715">
          <property name="value" value=" open in editor" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178716">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178717">
            <property name="name" value="opener" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227221178718">
              <link role="classifier" targetNodeId="22.~MPSEditorOpener" resolveInfo="MPSEditorOpener" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178719">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178720">
                <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1227221178721" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227221178722">
                  <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227221178723">
                <link role="baseMethodDeclaration" targetNodeId="6.~IOperationContext.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="1227221178724">
                  <link role="classifier" targetNodeId="22.~MPSEditorOpener" resolveInfo="MPSEditorOpener" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178725">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178726">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178727">
              <link role="variableDeclaration" targetNodeId="1227221178717" resolveInfo="opener" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227221178728">
              <link role="baseMethodDeclaration" targetNodeId="22.~MPSEditorOpener.openNode(jetbrains.mps.smodel.SNode):void" resolveInfo="openNode" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178729">
                <link role="variableDeclaration" targetNodeId="1227221178702" resolveInfo="rule" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1227221178731">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178732">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178733">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178734">
            <property name="name" value="annotation" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227221178735">
              <link role="concept" targetNodeId="1.1168619357332" resolveInfo="RootTemplateAnnotation" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178736">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221178737" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227221178738">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227221178739">
                  <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227221178740">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178741">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227221178742">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227221178743">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227221178744">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227221178745" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178746">
              <link role="variableDeclaration" targetNodeId="1227221178734" resolveInfo="annotation" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227221178747">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178748">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227221178749">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227221178750">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227221249608">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221249609">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221249610">
                <link role="variableDeclaration" targetNodeId="1227221178734" resolveInfo="annotation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227221249611">
                <link role="link" targetNodeId="1.1168619429071" />
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227221249612" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178756">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178757">
            <property name="name" value="configs" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227221178758">
              <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178759">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178760">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221178761" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227221178762" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsOperation" id="1227221178763">
                <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227221178764">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178765">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227221178766">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227221178767">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178768">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178769">
              <link role="variableDeclaration" targetNodeId="1227221178757" resolveInfo="configs" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsEmptyOperation" id="1227221178770" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227221178771">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227221178772">
            <property name="name" value="usage" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227221178773">
              <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178774">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178775">
                <link role="variableDeclaration" targetNodeId="1227221178757" resolveInfo="configs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.FindFirstOperation" id="1227221178776">
                <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227221178777">
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178778">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178779">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227221178780">
                        <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227221178781" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178782">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178783">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227221178784">
                              <link role="variableDeclaration" targetNodeId="1227221178797" resolveInfo="it" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227221276035">
                              <link role="link" targetNodeId="1.1167514678247" />
                            </node>
                          </node>
                          <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.FindFirstOperation" id="1227221178786">
                            <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227221178787">
                              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227221178788">
                                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227221178789">
                                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227221178790">
                                    <node role="rightExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227221178791" />
                                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227221178792">
                                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227221178793">
                                        <link role="variableDeclaration" targetNodeId="1227221178795" resolveInfo="it" />
                                      </node>
                                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227221313462">
                                        <link role="link" targetNodeId="1.1167514355421" />
                                      </node>
                                    </node>
                                  </node>
                                </node>
                              </node>
                              <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227221178795">
                                <property name="name" value="it" />
                                <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227221178796" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227221178797">
                    <property name="name" value="it" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227221178798" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227221178799">
          <property name="value" value=" not used in rule yet?" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227221178800">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227221178801">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227221178802" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227221178803">
              <link role="variableDeclaration" targetNodeId="1227221178772" resolveInfo="usage" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="1227291795686">
    <property name="name" value="AttachMappingLabel" />
    <property name="package" value="attach mapping label" />
    <link role="forConcept" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="1227291795687">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227291795688">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227291900820">
          <property name="value" value=" attach new or exiting label to node in template." />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227291948151">
          <property name="value" value=" if node is annotated with macro or template fragment, then label is added to macro or TF," />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227292055746">
          <property name="value" value=" otherwise new labeled MAP_SRC macro is created." />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227292098608">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227292098609">
            <property name="value" value="Attach Mapping Label" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="1227291795689">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227291795690">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227315087490">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227315087491">
            <property name="name" value="operationContext" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227315087492">
              <link role="classifier" targetNodeId="6.~IOperationContext" resolveInfo="IOperationContext" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227315087493">
              <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1227315087494" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227315087495">
                <link role="baseMethodDeclaration" targetNodeId="5.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227315137582">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227315137583">
            <property name="name" value="module" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227315137584">
              <link role="classifier" targetNodeId="32.~IModule" resolveInfo="IModule" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227315137585">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227315137586">
                <link role="variableDeclaration" targetNodeId="1227315087491" resolveInfo="operationContext" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227315137587">
                <link role="baseMethodDeclaration" targetNodeId="6.~IOperationContext.getModule():jetbrains.mps.project.IModule" resolveInfo="getModule" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227315359342">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227315359343">
            <property name="name" value="mappings" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227315359344">
              <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227315142198">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227315142199">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227315376409">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227315383320">
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227315376410">
                  <link role="variableDeclaration" targetNodeId="1227315359343" resolveInfo="mappings" />
                </node>
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1227315411748">
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227315411749">
                    <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                  </node>
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1227315411750">
                    <link role="baseMethodDeclaration" targetNodeId="6.~BaseAdapter.toNodes(java.util.List):java.util.List" resolveInfo="toNodes" />
                    <link role="classConcept" targetNodeId="6.~BaseAdapter" resolveInfo="BaseAdapter" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1240074028397">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParenthesizedExpression" id="1240074028398">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1240074028399">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1240074028400">
                            <link role="variableDeclaration" targetNodeId="1227315137583" resolveInfo="module" />
                          </node>
                          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1240074028401">
                            <link role="classifier" targetNodeId="6.~Generator" resolveInfo="Generator" />
                          </node>
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1240074028402">
                        <link role="baseMethodDeclaration" targetNodeId="6.~Generator.getOwnMappings():java.util.List" resolveInfo="getOwnMappings" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1227315160031">
            <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227315164675">
              <link role="classifier" targetNodeId="6.~Generator" resolveInfo="Generator" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227315147733">
              <link role="variableDeclaration" targetNodeId="1227315137583" resolveInfo="module" />
            </node>
          </node>
          <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1227315436299">
            <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227315436300">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227315442426">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227315445490">
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227315442427">
                    <link role="variableDeclaration" targetNodeId="1227315359343" resolveInfo="mappings" />
                  </node>
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227315498342">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227315485854">
                      <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227315485712" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227315496654" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsOperation" id="1227315500829">
                      <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227316931918">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227316931919">
            <property name="name" value="existingLabels" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227317214101">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1227317216939" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227317222653">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227316931922">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227316931923">
                  <link role="variableDeclaration" targetNodeId="1227315359343" resolveInfo="mappings" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.TranslateOperation" id="1227316931924">
                  <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227316931925">
                    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227316931926">
                      <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1227316931927">
                        <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1227316931928">
                          <property name="name" value="label" />
                        </node>
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227316931929">
                          <node role="statement" type="jetbrains.mps.baseLanguage.closures.structure.YieldStatement" id="1227316931930">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227316931931">
                              <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1227316931932">
                                <link role="variable" targetNodeId="1227316931928" resolveInfo="label" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227316931933">
                                <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                              </node>
                            </node>
                          </node>
                        </node>
                        <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227316931934">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227316931935">
                            <link role="variableDeclaration" targetNodeId="1227316931937" resolveInfo="it" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227316931936">
                            <link role="link" targetNodeId="1.1200911492601" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227316931937">
                      <property name="name" value="it" />
                      <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227316931938" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ToListOperation" id="1227317224758" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227316931939">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1227316931940">
            <link role="classConcept" targetNodeId="15.~SwingUtilities" resolveInfo="SwingUtilities" />
            <link role="baseMethodDeclaration" targetNodeId="15.~SwingUtilities.invokeLater(java.lang.Runnable):void" resolveInfo="invokeLater" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227316931941">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227316931942">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227316931943">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227316931944">
                    <property name="name" value="dialog" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227316931945">
                      <link role="classifier" targetNodeId="1227305822695" resolveInfo="AttachMappingLabelDialog" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227316931946">
                      <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227316931947">
                        <link role="baseMethodDeclaration" targetNodeId="1227305822899" resolveInfo="AttachMappingLabelDialog" />
                        <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227320363121" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227316931949">
                          <link role="variableDeclaration" targetNodeId="1227316931919" resolveInfo="existingLabels" />
                        </node>
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227316931951">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227316931952">
                            <link role="variableDeclaration" targetNodeId="1227315087491" resolveInfo="operationContext" />
                          </node>
                          <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227316931953">
                            <link role="baseMethodDeclaration" targetNodeId="6.~IOperationContext.getMainFrame():java.awt.Frame" resolveInfo="getMainFrame" />
                          </node>
                        </node>
                        <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_editorContext" id="1227316931954" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227316931955">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227316931956">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227316931957">
                      <link role="variableDeclaration" targetNodeId="1227316931944" resolveInfo="dialog" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227316931958">
                      <link role="baseMethodDeclaration" targetNodeId="27.~BaseDialog.showDialog():void" resolveInfo="showDialog" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="1227292124203">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227292124204">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227301419289">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227301419290">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227301427470">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227301429409">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1227301424215">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227301425170">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227301425171" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227301425172">
                <link role="baseMethodDeclaration" targetNodeId="23.1213877396627" resolveInfo="isInTemplates" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227301698811">
          <property name="value" value=" not an element form generator language" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227301736172">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227301736173">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227302916595">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227302918581">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227302273337">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1241266265115">
              <link role="baseMethodDeclaration" targetNodeId="6.~BootstrapLanguages.generatorLanguage():jetbrains.mps.smodel.Language" resolveInfo="generatorLanguage" />
              <link role="classConcept" targetNodeId="6.~BootstrapLanguages" resolveInfo="BootstrapLanguages" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227302259708">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1227302258018">
                <node role="leftExpression" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227301922861" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227302268976">
                <link role="baseMethodDeclaration" targetNodeId="6.~SNode.getNodeLanguage():jetbrains.mps.smodel.Language" resolveInfo="getNodeLanguage" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227301492137">
          <property name="value" value=" not inside macro" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227301508764">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227301508765">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227303239951">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227303242235">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227303302398">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303302399">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227303302400" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1227303302401">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1227303302402">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227303302403">
                    <link role="conceptDeclaration" targetNodeId="1.1227303129915" resolveInfo="AbstractMacro" />
                  </node>
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227303302404" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227303258565">
          <property name="value" value=" in root template - ok" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227301441630">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227301441631">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227301461753">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227301464068">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227301457156">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227301459487" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227301446416">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227301446290" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227301449950">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227301451623">
                  <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227303319390">
          <property name="value" value=" in in-line template - ok" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227301472773">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227301472774">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227303353946">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227303356104">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227303384874">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227303385893" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303334658">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227303334563" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1227303338786">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1227303338787">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227303350726">
                    <link role="conceptDeclaration" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227303361200">
          <property name="value" value=" in template fragment - ok" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227303402737">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227303402738">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227303582013">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227303582014">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303582015">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303582016">
                    <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227303582017" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="1227303582018">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1227319837361" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.FindFirstOperation" id="1227303582020">
                    <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227303582021">
                      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227303582022">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227303582023">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227303582024">
                            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227303582025" />
                            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303582026">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227303582027">
                                <link role="variableDeclaration" targetNodeId="1227303582030" resolveInfo="it" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227303582028">
                                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227303582029">
                                  <link role="annotationLink" targetNodeId="1.1149858605876" resolveInfo="templateFragment" />
                                </node>
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227303582030">
                        <property name="name" value="it" />
                        <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227303582031" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227303582032" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303414965">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227303410774">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="1227303410679" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetContainingRootOperation" id="1227303413277" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227303418390">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227303425750">
                <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227303586905">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227303588917">
            <property name="value" value="false" />
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1227305822695">
    <property name="name" value="AttachMappingLabelDialog" />
    <property name="abstractClass" value="false" />
    <property name="package" value="attach mapping label" />
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822696">
      <property name="name" value="createNamePanel" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822697">
        <link role="classifier" targetNodeId="15.~JPanel" resolveInfo="JPanel" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PrivateVisibility" id="1227305822698" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822699">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227305822700">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227305822701">
            <property name="name" value="namePanel" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822702">
              <link role="classifier" targetNodeId="15.~JPanel" resolveInfo="JPanel" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822703">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822704">
                <link role="baseMethodDeclaration" targetNodeId="15.~JPanel.&lt;init&gt;(java.awt.LayoutManager)" resolveInfo="JPanel" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822705">
                  <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822706">
                    <link role="baseMethodDeclaration" targetNodeId="28.~GridBagLayout.&lt;init&gt;()" resolveInfo="GridBagLayout" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227305822707">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227305822708">
            <property name="name" value="c" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822709">
              <link role="classifier" targetNodeId="28.~GridBagConstraints" resolveInfo="GridBagConstraints" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822710">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822711">
                <link role="baseMethodDeclaration" targetNodeId="28.~GridBagConstraints.&lt;init&gt;()" resolveInfo="GridBagConstraints" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822712">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822713">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1227305822714">
              <link role="classifier" targetNodeId="28.~GridBagConstraints" resolveInfo="GridBagConstraints" />
              <link role="variableDeclaration" targetNodeId="28.~GridBagConstraints.HORIZONTAL" resolveInfo="HORIZONTAL" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822715">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822716">
                <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822717">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.fill" resolveInfo="fill" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822718">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822719">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822720">
              <link role="variableDeclaration" targetNodeId="1227305822701" resolveInfo="result" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822721">
              <link role="baseMethodDeclaration" targetNodeId="28.~Container.add(java.awt.Component,java.lang.Object):void" resolveInfo="add" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822722">
                <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822723">
                  <link role="baseMethodDeclaration" targetNodeId="15.~JLabel.&lt;init&gt;(java.lang.String)" resolveInfo="JLabel" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227305822724">
                    <property name="value" value="Mapping label: " />
                  </node>
                </node>
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822725">
                <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822726">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822727">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822728">
              <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
            </node>
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822729">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822730">
                <link role="baseMethodDeclaration" targetNodeId="28.~GridBagConstraints.&lt;init&gt;()" resolveInfo="GridBagConstraints" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822731">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822732">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822733">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822734">
                <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822735">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.fill" resolveInfo="fill" />
              </node>
            </node>
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1227305822736">
              <link role="classifier" targetNodeId="28.~GridBagConstraints" resolveInfo="GridBagConstraints" />
              <link role="variableDeclaration" targetNodeId="28.~GridBagConstraints.HORIZONTAL" resolveInfo="HORIZONTAL" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822737">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822738">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822739">
              <property name="value" value="1" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822740">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822741">
                <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822742">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.weightx" resolveInfo="weightx" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822743">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822744">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822745">
              <property name="value" value="1" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822746">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822747">
                <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822748">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.gridx" resolveInfo="gridx" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227305822758">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227305822759">
            <property name="name" value="nameCombo" />
            <property name="isFinal" value="true" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822760">
              <link role="classifier" targetNodeId="15.~JComboBox" resolveInfo="JComboBox" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822761">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822762">
                <link role="baseMethodDeclaration" targetNodeId="15.~JComboBox.&lt;init&gt;(java.lang.Object[])" resolveInfo="JComboBox" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822763">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227306411910">
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227306411911">
                      <link role="fieldDeclaration" targetNodeId="1227306302250" resolveInfo="myExistingLabels" />
                    </node>
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227306411912" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ToArrayOperation" id="1227305822765" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822766">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822767">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822768">
              <link role="variableDeclaration" targetNodeId="1227305822759" resolveInfo="name" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822769">
              <link role="baseMethodDeclaration" targetNodeId="15.~JComboBox.setEditable(boolean):void" resolveInfo="setEditable" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227305822770">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822771">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822772">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822773">
              <link role="variableDeclaration" targetNodeId="1227305822701" resolveInfo="result" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822774">
              <link role="baseMethodDeclaration" targetNodeId="28.~Container.add(java.awt.Component,java.lang.Object):void" resolveInfo="add" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822775">
                <link role="variableDeclaration" targetNodeId="1227305822759" resolveInfo="name" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822776">
                <link role="variableDeclaration" targetNodeId="1227305822708" resolveInfo="c" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822777">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822778">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822779">
              <link role="variableDeclaration" targetNodeId="1227305822759" resolveInfo="name" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822780">
              <link role="baseMethodDeclaration" targetNodeId="15.~JComboBox.addActionListener(java.awt.event.ActionListener):void" resolveInfo="addActionListener" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822781">
                <node role="creator" type="jetbrains.mps.baseLanguage.structure.AnonymousClassCreator" id="1227305822782">
                  <node role="cls" type="jetbrains.mps.baseLanguage.structure.AnonymousClass" id="1227305822783">
                    <link role="classifier" targetNodeId="29.~ActionListener" resolveInfo="ActionListener" />
                    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822784" />
                    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822785">
                      <property name="isAbstract" value="false" />
                      <property name="name" value="actionPerformed" />
                      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822786" />
                      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227305822787" />
                      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227305822788">
                        <property name="name" value="p0" />
                        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822789">
                          <link role="classifier" targetNodeId="29.~ActionEvent" resolveInfo="ActionEvent" />
                        </node>
                      </node>
                      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822790">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227306931575">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227306943221">
                            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227306934749">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227306931576">
                                <link role="classConcept" targetNodeId="1227305822695" resolveInfo="AttachMappingLabelDialog" />
                              </node>
                              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227306938549">
                                <link role="fieldDeclaration" targetNodeId="1227306880407" resolveInfo="myResultLabelName" />
                              </node>
                            </node>
                            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1227306953256">
                              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227306953257">
                                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227306953258">
                                  <link role="variableDeclaration" targetNodeId="1227305822759" resolveInfo="nameCombo" />
                                </node>
                                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227306953259">
                                  <link role="baseMethodDeclaration" targetNodeId="15.~JComboBox.getSelectedItem():java.lang.Object" resolveInfo="getSelectedItem" />
                                </node>
                              </node>
                              <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1227306953260" />
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227319192098">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319192099">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822803">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822804">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822805">
                  <link role="variableDeclaration" targetNodeId="1227305822759" resolveInfo="name" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822806">
                  <link role="baseMethodDeclaration" targetNodeId="15.~JComboBox.setSelectedItem(java.lang.Object):void" resolveInfo="setSelectedItem" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822807">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227306473731">
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227306473732">
                        <link role="fieldDeclaration" targetNodeId="1227306302250" resolveInfo="myExistingLabels" />
                      </node>
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227306473733" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1227305822809" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227305822810">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227305822811">
                <property name="name" value="textField" />
                <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822812">
                  <link role="classifier" targetNodeId="15.~JTextField" resolveInfo="JTextField" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.ParenthesizedExpression" id="1227305822813">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1227305822814">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822815">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822816">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822817">
                          <link role="variableDeclaration" targetNodeId="1227305822759" resolveInfo="name" />
                        </node>
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822818">
                          <link role="baseMethodDeclaration" targetNodeId="15.~JComboBox.getEditor():javax.swing.ComboBoxEditor" resolveInfo="getEditor" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822819">
                        <link role="baseMethodDeclaration" targetNodeId="15.~ComboBoxEditor.getEditorComponent():java.awt.Component" resolveInfo="getEditorComponent" />
                      </node>
                    </node>
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822820">
                      <link role="classifier" targetNodeId="15.~JTextField" resolveInfo="JTextField" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822821">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822822">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822823">
                  <link role="variableDeclaration" targetNodeId="1227305822811" resolveInfo="textField" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822824">
                  <link role="baseMethodDeclaration" targetNodeId="26.~JTextComponent.setSelectionStart(int):void" resolveInfo="setSelectionStart" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822825">
                    <property name="value" value="0" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822826">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822827">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822828">
                  <link role="variableDeclaration" targetNodeId="1227305822811" resolveInfo="textField" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822829">
                  <link role="baseMethodDeclaration" targetNodeId="26.~JTextComponent.setSelectionEnd(int):void" resolveInfo="setSelectionEnd" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822830">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822831">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227306508798">
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227306508799">
                          <link role="fieldDeclaration" targetNodeId="1227306302250" resolveInfo="myExistingLabels" />
                        </node>
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227306508800" />
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1227305822833" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822834">
                      <link role="baseMethodDeclaration" targetNodeId="17.~String.length():int" resolveInfo="length" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319202370">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319198352">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227319198353">
                <link role="fieldDeclaration" targetNodeId="1227306302250" resolveInfo="myExistingLabels" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227319198354" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1227319203748" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227305822835">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822836">
            <link role="variableDeclaration" targetNodeId="1227305822701" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822837">
      <property name="name" value="getMainComponent" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.ProtectedVisibility" id="1227305822838" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822839">
        <link role="classifier" targetNodeId="15.~JComponent" resolveInfo="JComponent" />
      </node>
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822840">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227305822841">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822842">
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822843">
              <link role="fieldDeclaration" targetNodeId="1227305822895" resolveInfo="myPanel" />
            </node>
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227305822844" />
          </node>
        </node>
      </node>
    </node>
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822845">
      <property name="name" value="onCancel" />
      <node role="annotation" type="jetbrains.mps.baseLanguage.structure.AnnotationInstance" id="1227305822846">
        <link role="annotation" targetNodeId="27.~BaseDialog$Button" resolveInfo="BaseDialog.Button" />
        <node role="value" type="jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue" id="1227305822847">
          <link role="key" targetNodeId="27.~BaseDialog$Button.name()" resolveInfo="name" />
          <node role="value" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227305822848">
            <property name="value" value="Cancel" />
          </node>
        </node>
        <node role="value" type="jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue" id="1227305822849">
          <link role="key" targetNodeId="27.~BaseDialog$Button.position()" resolveInfo="position" />
          <node role="value" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822850">
            <property name="value" value="1" />
          </node>
        </node>
        <node role="value" type="jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue" id="1227305822851">
          <link role="key" targetNodeId="27.~BaseDialog$Button.defaultButton()" resolveInfo="defaultButton" />
          <node role="value" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227305822852">
            <property name="value" value="false" />
          </node>
        </node>
      </node>
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227305822853" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822854" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822855">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822856">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822857">
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305822858">
              <link role="baseMethodDeclaration" targetNodeId="28.~Window.dispose():void" resolveInfo="dispose" />
            </node>
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227305822859" />
          </node>
        </node>
      </node>
    </node>
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822860">
      <property name="name" value="onOk" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227305822861" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822862" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822863">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319513345">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319513346">
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227319513347">
              <link role="baseMethodDeclaration" targetNodeId="28.~Window.dispose():void" resolveInfo="dispose" />
            </node>
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227319513348" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227320608425">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320608426">
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227320608427">
              <link role="baseMethodDeclaration" targetNodeId="1227305822919" resolveInfo="doAttachMappingLabel" />
            </node>
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227320608428" />
          </node>
        </node>
      </node>
      <node role="annotation" type="jetbrains.mps.baseLanguage.structure.AnnotationInstance" id="1227305822868">
        <link role="annotation" targetNodeId="27.~BaseDialog$Button" resolveInfo="BaseDialog.Button" />
        <node role="value" type="jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue" id="1227305822869">
          <link role="key" targetNodeId="27.~BaseDialog$Button.name()" resolveInfo="name" />
          <node role="value" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227305822870">
            <property name="value" value="Attach label" />
          </node>
        </node>
        <node role="value" type="jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue" id="1227305822871">
          <link role="key" targetNodeId="27.~BaseDialog$Button.position()" resolveInfo="position" />
          <node role="value" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822872">
            <property name="value" value="0" />
          </node>
        </node>
        <node role="value" type="jetbrains.mps.baseLanguage.structure.AnnotationInstanceValue" id="1227305822873">
          <link role="key" targetNodeId="27.~BaseDialog$Button.defaultButton()" resolveInfo="defaultButton" />
          <node role="value" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1227305822874">
            <property name="value" value="true" />
          </node>
        </node>
      </node>
    </node>
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822875">
      <property name="name" value="getDefaultDimensionSettings" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822876" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822877">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227305822878">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822879">
            <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822880">
              <link role="baseMethodDeclaration" targetNodeId="27.~DialogDimensionsSettings$DialogDimensions.&lt;init&gt;(int,int,int,int)" resolveInfo="DialogDimensionsSettings.DialogDimensions" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822881">
                <property name="value" value="100" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822882">
                <property name="value" value="200" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822883">
                <property name="value" value="400" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822884">
                <property name="value" value="200" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822885">
        <link role="classifier" targetNodeId="27.~DialogDimensionsSettings$DialogDimensions" resolveInfo="DialogDimensionsSettings.DialogDimensions" />
      </node>
    </node>
    <node role="field" type="jetbrains.mps.baseLanguage.structure.FieldDeclaration" id="1227305822892">
      <property name="name" value="myEditorContext" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.ProtectedVisibility" id="1227305822893" />
      <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822894">
        <link role="classifier" targetNodeId="5.~EditorContext" resolveInfo="EditorContext" />
      </node>
    </node>
    <node role="field" type="jetbrains.mps.baseLanguage.structure.FieldDeclaration" id="1227305822895">
      <property name="name" value="myPanel" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.ProtectedVisibility" id="1227305822896" />
      <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822897">
        <link role="classifier" targetNodeId="15.~JPanel" resolveInfo="JPanel" />
      </node>
    </node>
    <node role="field" type="jetbrains.mps.baseLanguage.structure.FieldDeclaration" id="1227319985460">
      <property name="name" value="myTemplateNode" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PrivateVisibility" id="1227319985461" />
      <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319988156" />
    </node>
    <node role="field" type="jetbrains.mps.baseLanguage.structure.FieldDeclaration" id="1227306302250">
      <property name="name" value="myExistingLabels" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PrivateVisibility" id="1227306302251" />
      <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227306306070">
        <node role="elementType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1227306308837" />
      </node>
    </node>
    <node role="field" type="jetbrains.mps.baseLanguage.structure.FieldDeclaration" id="1227306880407">
      <property name="name" value="myResultLabelName" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PrivateVisibility" id="1227306880408" />
      <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1227306883274" />
      <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227306907245">
        <property name="value" value="" />
      </node>
    </node>
    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822898" />
    <node role="constructor" type="jetbrains.mps.baseLanguage.structure.ConstructorDeclaration" id="1227305822899">
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227305822900" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227305822901" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822902">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.SuperConstructorInvocation" id="1227305822903">
          <link role="constructorDeclaration" targetNodeId="27.~BaseDialog.&lt;init&gt;(java.awt.Frame,java.lang.String)" resolveInfo="BaseDialog" />
          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227305822904">
            <link role="variableDeclaration" targetNodeId="1227305822914" resolveInfo="frame" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227306177932">
            <property name="value" value="Attach Mapping Label" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227306331683">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227306335312">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227306331684">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227306331685">
                <link role="fieldDeclaration" targetNodeId="1227306302250" resolveInfo="myExistingLabels" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227306331686" />
            </node>
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227306340128">
              <link role="variableDeclaration" targetNodeId="1227306253558" resolveInfo="existingLabels" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822906">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822907">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227305822908">
              <link role="variableDeclaration" targetNodeId="1227305822916" resolveInfo="editorContext" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822909">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822910">
                <link role="fieldDeclaration" targetNodeId="1227305822892" resolveInfo="myEditorContext" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227305822911" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319998986">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227320002990">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227320005805">
              <link role="variableDeclaration" targetNodeId="1227319957549" resolveInfo="templateNode" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319998987">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227319998988">
                <link role="fieldDeclaration" targetNodeId="1227319985460" resolveInfo="myTemplateNode" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227319998989" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227317693677">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227317693678">
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227317693679">
              <link role="baseMethodDeclaration" targetNodeId="1227305822948" resolveInfo="initPanel" />
            </node>
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227317693680" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227319957549">
        <property name="name" value="templateNode" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319961364" />
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227306253558">
        <property name="name" value="existingLabels" />
        <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227306259107">
          <node role="elementType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1227306267421" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227305822914">
        <property name="name" value="frame" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822915">
          <link role="classifier" targetNodeId="28.~Frame" resolveInfo="Frame" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227305822916">
        <property name="name" value="editorContext" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822917">
          <link role="classifier" targetNodeId="5.~EditorContext" resolveInfo="EditorContext" />
        </node>
      </node>
    </node>
    <node role="superclass" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822918">
      <link role="classifier" targetNodeId="27.~BaseDialog" resolveInfo="BaseDialog" />
    </node>
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822919">
      <property name="name" value="doAttachMappingLabel" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.ProtectedVisibility" id="1227305822920" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227305822921" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822922">
        <node role="statement" type="jetbrains.mps.lang.plugin.structure.ExecuteCommandStatement" id="1227305822930">
          <node role="commandClosureLiteral" type="jetbrains.mps.lang.plugin.structure.CommandClosureLiteral" id="1227305822931">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822932">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227320059738">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227320059739">
                  <property name="name" value="mappingLabel" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227320059740">
                    <link role="concept" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1227320059741">
                    <link role="baseMethodDeclaration" targetNodeId="1227319800072" resolveInfo="findOrCreateMappingLabelForName" />
                    <link role="classConcept" targetNodeId="1227319800070" resolveInfo="MappingLabelUtil" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320059742">
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227320059743">
                        <link role="fieldDeclaration" targetNodeId="1227319985460" resolveInfo="myTemplateNode" />
                      </node>
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227320059744" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320059745">
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227320059746">
                        <link role="fieldDeclaration" targetNodeId="1227306880407" resolveInfo="myResultLabelName" />
                      </node>
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227320059747" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227320147347">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227320147348">
                  <property name="name" value="existingMacro" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227320147349">
                    <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320147350">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320147351">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320147352">
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227320147353">
                          <link role="fieldDeclaration" targetNodeId="1227319985460" resolveInfo="myTemplateNode" />
                        </node>
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227320147354" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227320147355">
                        <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227320147356">
                          <link role="annotationLink" targetNodeId="1.1149694500506" resolveInfo="nodeMacro" />
                        </node>
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetLastOperation" id="1227320204638" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227320151298">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227320151299">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227320159526">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227320171766">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320172566">
                        <link role="variableDeclaration" targetNodeId="1227320059739" resolveInfo="mappingLabel" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320161356">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320159527">
                          <link role="variableDeclaration" targetNodeId="1227320147348" resolveInfo="existingMacro" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227320163640">
                          <link role="link" targetNodeId="1.1200912223215" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227320176365" />
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227320154959">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227320155681" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320153192">
                    <link role="variableDeclaration" targetNodeId="1227320147348" resolveInfo="existingMacro" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227320214554">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227320214555">
                  <property name="name" value="templateFragment" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227320214556">
                    <link role="concept" targetNodeId="1.1095672379244" resolveInfo="TemplateFragment" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320214557">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320214558">
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227320214559">
                        <link role="fieldDeclaration" targetNodeId="1227319985460" resolveInfo="myTemplateNode" />
                      </node>
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227320214560" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227320214561">
                      <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227320214562">
                        <link role="annotationLink" targetNodeId="1.1149858605876" resolveInfo="templateFragment" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227320217378">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227320217379">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227320226735">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227320241727">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320242544">
                        <link role="variableDeclaration" targetNodeId="1227320059739" resolveInfo="mappingLabel" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320228253">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320226736">
                          <link role="variableDeclaration" targetNodeId="1227320214555" resolveInfo="templateFragment" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227320237851">
                          <link role="link" targetNodeId="1.1200916687663" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227320249799" />
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227320223073">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227320224123" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320220430">
                    <link role="variableDeclaration" targetNodeId="1227320214555" resolveInfo="templateFragment" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227320253394">
                <property name="value" value="create new MAP_SRC macro" />
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227320315575">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227320315576">
                  <property name="name" value="newMacro" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227320315577">
                    <link role="concept" targetNodeId="1.1131073187192" resolveInfo="MapSrcNodeMacro" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320315578">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320315579">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320315580">
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227320315581">
                          <link role="fieldDeclaration" targetNodeId="1227319985460" resolveInfo="myTemplateNode" />
                        </node>
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227320315582" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227320315583">
                        <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227320315584">
                          <link role="annotationLink" targetNodeId="1.1149694500506" resolveInfo="nodeMacro" />
                        </node>
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddNewChildOperation" id="1227320315585">
                      <link role="concept" targetNodeId="1.1131073187192" resolveInfo="MapSrcNodeMacro" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227320332729">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227320340270">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320342461">
                    <link role="variableDeclaration" targetNodeId="1227320059739" resolveInfo="mappingLabel" />
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227320335029">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227320332730">
                      <link role="variableDeclaration" targetNodeId="1227320315576" resolveInfo="newMacro" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227320336377">
                      <link role="link" targetNodeId="1.1200912223215" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="method" type="jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration" id="1227305822948">
      <property name="name" value="initPanel" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.ProtectedVisibility" id="1227305822949" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227305822950" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227305822951">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822952">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822953">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822954">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822955">
                <link role="baseMethodDeclaration" targetNodeId="15.~JPanel.&lt;init&gt;(java.awt.LayoutManager)" resolveInfo="JPanel" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822956">
                  <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822957">
                    <link role="baseMethodDeclaration" targetNodeId="28.~GridBagLayout.&lt;init&gt;()" resolveInfo="GridBagLayout" />
                  </node>
                </node>
              </node>
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822958">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822959">
                <link role="fieldDeclaration" targetNodeId="1227305822895" resolveInfo="myPanel" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227305822960" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227305822976">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227305822977">
            <property name="name" value="c" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1227305822978">
              <link role="classifier" targetNodeId="28.~GridBagConstraints" resolveInfo="GridBagConstraints" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822979">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822980">
                <link role="baseMethodDeclaration" targetNodeId="28.~GridBagConstraints.&lt;init&gt;()" resolveInfo="GridBagConstraints" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822981">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822982">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1227305822983">
              <link role="classifier" targetNodeId="28.~GridBagConstraints" resolveInfo="GridBagConstraints" />
              <link role="variableDeclaration" targetNodeId="28.~GridBagConstraints.HORIZONTAL" resolveInfo="HORIZONTAL" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822984">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822985">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822986">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.fill" resolveInfo="fill" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822987">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822988">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1227305822989">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1227305822990">
                <link role="baseMethodDeclaration" targetNodeId="28.~Insets.&lt;init&gt;(int,int,int,int)" resolveInfo="Insets" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822991">
                  <property name="value" value="3" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822992">
                  <property name="value" value="3" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822993">
                  <property name="value" value="3" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305822994">
                  <property name="value" value="3" />
                </node>
              </node>
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305822995">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305822996">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305822997">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.insets" resolveInfo="insets" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305822998">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305822999">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305823000">
              <property name="value" value="0" />
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823001">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305823002">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305823003">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.gridx" resolveInfo="gridx" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305823004">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305823005">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823006">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305823007">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.gridy" resolveInfo="gridy" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305823008">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
            </node>
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305823009">
              <property name="value" value="0" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305823010">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305823011">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823012">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305823013">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305823014">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.weightx" resolveInfo="weightx" />
              </node>
            </node>
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305823015">
              <property name="value" value="1" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305823016">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227305823017">
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823018">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305823019">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305823020">
                <link role="fieldDeclaration" targetNodeId="28.~GridBagConstraints.weighty" resolveInfo="weighty" />
              </node>
            </node>
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1227305823021">
              <property name="value" value="0" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227305823022">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823023">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823024">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.FieldReferenceOperation" id="1227305823025">
                <link role="fieldDeclaration" targetNodeId="1227305822895" resolveInfo="myPanel" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227305823026" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305823027">
              <link role="baseMethodDeclaration" targetNodeId="28.~Container.add(java.awt.Component,java.lang.Object):void" resolveInfo="add" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227305823028">
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227305823029">
                  <link role="baseMethodDeclaration" targetNodeId="1227305822696" resolveInfo="createNamePanel" />
                </node>
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ThisExpression" id="1227305823030" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227305823031">
                <link role="variableDeclaration" targetNodeId="1227305822977" resolveInfo="c" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1227319800070">
    <property name="package" value="attach mapping label" />
    <property name="name" value="MappingLabelUtil" />
    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227319800071" />
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1227319800072">
      <property name="name" value="findOrCreateMappingLabelForName" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319800073">
        <link role="concept" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1227319800074" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800075">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227319800076">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227319800077">
            <property name="name" value="mappingLabel" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319800078">
              <link role="concept" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227319800079" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227319800080">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227319800081">
            <property name="name" value="mappingConfigurations" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227319800082">
              <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800083">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800084">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227319800085">
                  <link role="variableDeclaration" targetNodeId="1227319800200" resolveInfo="templateNode" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227319800086" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsIncludingImportedOperation" id="1227319800087">
                <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                <node role="scope" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1227319800088">
                  <link role="baseMethodDeclaration" targetNodeId="32.~GlobalScope.getInstance():jetbrains.mps.project.GlobalScope" resolveInfo="getInstance" />
                  <link role="classConcept" targetNodeId="32.~GlobalScope" resolveInfo="GlobalScope" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1227319800089">
          <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1227319800090">
            <property name="name" value="mc" />
          </node>
          <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800091">
            <link role="variableDeclaration" targetNodeId="1227319800081" resolveInfo="mappingConfigurations" />
          </node>
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800092">
            <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1227319800093">
              <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1227319800094">
                <property name="name" value="ml" />
              </node>
              <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800095">
                <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1227319800096">
                  <link role="variable" targetNodeId="1227319800090" resolveInfo="mc" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227319800097">
                  <link role="link" targetNodeId="1.1200911492601" />
                </node>
              </node>
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800098">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227319800099">
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800100">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227319800101">
                      <link role="variableDeclaration" targetNodeId="1227319800202" resolveInfo="labelName" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227319800102">
                      <link role="baseMethodDeclaration" targetNodeId="17.~String.equals(java.lang.Object):boolean" resolveInfo="equals" />
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800103">
                        <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1227319800104">
                          <link role="variable" targetNodeId="1227319800094" resolveInfo="ml" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227319800105">
                          <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800106">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800107">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800108">
                        <node role="rValue" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1227319800109">
                          <link role="variable" targetNodeId="1227319800094" resolveInfo="ml" />
                        </node>
                        <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800110">
                          <link role="variableDeclaration" targetNodeId="1227319800077" resolveInfo="mappingLabel" />
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.BreakStatement" id="1227319800111" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227319800112">
          <property name="value" value="----" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227319800113">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800114">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227319800115">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227319800116">
                <property name="name" value="mc" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319800117">
                  <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227319800118">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227319800119">
                <property name="name" value="localMCs" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1227319800120">
                  <link role="elementConcept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800121">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800122">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227319800123">
                      <link role="variableDeclaration" targetNodeId="1227319800200" resolveInfo="templateNode" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227319800124" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_RootsOperation" id="1227319800125">
                    <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227319800126">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800127">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800128">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800129">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800130">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800131">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800132">
                          <link role="variableDeclaration" targetNodeId="1227319800119" resolveInfo="localMCs" />
                        </node>
                        <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperation" id="1227319800133">
                          <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227319800134">
                            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800135">
                              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800136">
                                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800137">
                                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800138">
                                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227319800139">
                                      <link role="variableDeclaration" targetNodeId="1227319800142" resolveInfo="it" />
                                    </node>
                                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227319800140">
                                      <link role="link" targetNodeId="1.1200911492601" />
                                    </node>
                                  </node>
                                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1227319800141" />
                                </node>
                              </node>
                            </node>
                            <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227319800142">
                              <property name="name" value="it" />
                              <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227319800143" />
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1227319800144" />
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800145">
                      <link role="variableDeclaration" targetNodeId="1227319800116" resolveInfo="mc" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227319800146">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800147">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800148">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800149">
                        <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800150">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800151">
                            <link role="variableDeclaration" targetNodeId="1227319800119" resolveInfo="localMCs" />
                          </node>
                          <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1227319800152" />
                        </node>
                        <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800153">
                          <link role="variableDeclaration" targetNodeId="1227319800116" resolveInfo="mc" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227319800154">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227319800155" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800156">
                      <link role="variableDeclaration" targetNodeId="1227319800116" resolveInfo="mc" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800157">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800158">
                  <link role="variableDeclaration" targetNodeId="1227319800119" resolveInfo="localMCs" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1227319800159" />
              </node>
              <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1227319800160">
                <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227319800161">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800162">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800163">
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800164">
                        <link role="variableDeclaration" targetNodeId="1227319800116" resolveInfo="mc" />
                      </node>
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800165">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800166">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227319800167">
                            <link role="variableDeclaration" targetNodeId="1227319800200" resolveInfo="templateNode" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1227319800168" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewRootNodeOperation" id="1227319800169">
                          <link role="concept" targetNodeId="1.1095416546421" resolveInfo="MappingConfiguration" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800170">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800171">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1227319800172">
                        <property name="value" value="MappingLabels" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800173">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800174">
                          <link role="variableDeclaration" targetNodeId="1227319800116" resolveInfo="mc" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227319800175">
                          <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227319800176">
              <property name="value" value="new mapping label" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1227319800177">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1227319800178">
                <property name="name" value="newLabel" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319800179">
                  <link role="concept" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800180">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800181">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800182">
                      <link role="variableDeclaration" targetNodeId="1227319800116" resolveInfo="mc" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1227319800183">
                      <link role="link" targetNodeId="1.1200911492601" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddNewChildOperation" id="1227319800184">
                    <link role="concept" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800185">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800186">
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227319800187">
                  <link role="variableDeclaration" targetNodeId="1227319800202" resolveInfo="labelName" />
                </node>
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227319800188">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800189">
                    <link role="variableDeclaration" targetNodeId="1227319800178" resolveInfo="newLabel" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1227319800190">
                    <link role="property" targetNodeId="2.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227319800191">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1227319800192">
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800193">
                  <link role="variableDeclaration" targetNodeId="1227319800178" resolveInfo="newLabel" />
                </node>
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800194">
                  <link role="variableDeclaration" targetNodeId="1227319800077" resolveInfo="mappingLabel" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1227319800195">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227319800196" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800197">
              <link role="variableDeclaration" targetNodeId="1227319800077" resolveInfo="mappingLabel" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1227319800198">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1227319800199">
            <link role="variableDeclaration" targetNodeId="1227319800077" resolveInfo="mappingLabel" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227319800200">
        <property name="name" value="templateNode" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1227319800201" />
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1227319800202">
        <property name="name" value="labelName" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1227319800203" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.intentions.structure.IntentionDeclaration" id="9092065972411421046">
    <property name="package" value="create template" />
    <property name="name" value="NewTemplateFragment" />
    <link role="forConcept" targetNodeId="2.1133920641626" resolveInfo="BaseConcept" />
    <node role="descriptionFunction" type="jetbrains.mps.lang.intentions.structure.DescriptionBlock" id="9092065972411421047">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411421048">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="9092065972411475720">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="9092065972411475722">
            <property name="value" value="Create Template Fragment" />
          </node>
        </node>
      </node>
    </node>
    <node role="executeFunction" type="jetbrains.mps.lang.intentions.structure.ExecuteBlock" id="9092065972411421049">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411421050">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="9092065972411475725">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="9092065972411475726">
            <property name="name" value="applyToNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="9092065972411475727" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475728">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475729">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475730">
                  <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="9092065972411475756" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="9092065972411475732">
                    <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="9092065972411475733" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperation" id="9092065972411475734">
                  <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="9092065972411475735">
                    <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="9092065972411475736">
                      <property name="name" value="it" />
                      <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="9092065972411475737" />
                    </node>
                    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411475738">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="9092065972411475739">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="9092065972411475740">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475741">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="9092065972411475742">
                              <link role="variableDeclaration" targetNodeId="9092065972411475736" resolveInfo="it" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsAttributeOperation" id="9092065972411475743" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="9092065972411475744" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="9092065972411475745">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="9092065972411475746">
            <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
            <link role="baseMethodDeclaration" targetNodeId="16.1205869137520" resolveInfo="createTemplateFragment" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="9092065972411475747">
              <link role="variableDeclaration" targetNodeId="9092065972411475726" resolveInfo="applyToNode" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="isApplicableFunction" type="jetbrains.mps.lang.intentions.structure.IsApplicableBlock" id="9092065972411475165">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411475166">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="9092065972411475176">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411475177">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="9092065972411475178">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="9092065972411475179">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="9092065972411475180">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="9092065972411475181" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475182">
              <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="9092065972411475712" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="9092065972411475184">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="9092065972411475185">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="9092065972411475186">
                    <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="9092065972411475187">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411475188">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="9092065972411475189">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="9092065972411475190">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475191">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475192">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475193">
                <node role="operand" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="9092065972411475713" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="9092065972411475195" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperation" id="9092065972411475196">
                <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="9092065972411475197">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="9092065972411475198">
                    <property name="name" value="it" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="9092065972411475199" />
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411475200">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="9092065972411475201">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="9092065972411475202">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="9092065972411475203">
                          <link role="variableDeclaration" targetNodeId="9092065972411475198" resolveInfo="it" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsAttributeOperation" id="9092065972411475204" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="9092065972411475205" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="9092065972411475206">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="9092065972411475207">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="9092065972411475208">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="9092065972411475209">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="9092065972411475210">
            <link role="baseMethodDeclaration" targetNodeId="16.1205859565509" resolveInfo="isInsideTemplateFragment" />
            <link role="classConcept" targetNodeId="16.1205859480204" resolveInfo="QueriesUtil" />
            <node role="actualArgument" type="jetbrains.mps.lang.intentions.structure.ConceptFunctionParameter_node" id="9092065972411475719" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="9092065972411475212">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="9092065972411475213">
            <property name="value" value="true" />
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

