package jetbrains.mps.make.resources.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.pluginparts.custom.BaseCustomApplicationPlugin;
import jetbrains.mps.logging.Logger;
import java.lang.reflect.Method;
import jetbrains.mps.make.facet.FacetRegistry;

public class Facets_CustomApplicationPlugin extends BaseCustomApplicationPlugin {
  private static Logger LOG = Logger.getLogger(Facets_CustomApplicationPlugin.class);

  private Object manifest;

  public Facets_CustomApplicationPlugin() {
  }

  public void doInit() {
    try {
      Object inst = new FacetManifest();
      Class<?> mf = inst.getClass();
      Facets_CustomApplicationPlugin.this.manifest = inst;
      Method mth = mf.getMethod("registerFacets", FacetRegistry.class);
      mth.invoke(inst, FacetRegistry.getInstance());
    } catch (Exception e) {
      e.printStackTrace();
    }
  }

  public void doDispose() {
    try {
      Class<?> mf = Facets_CustomApplicationPlugin.this.manifest.getClass();
      Method mth = mf.getMethod("unRegisterFacets", FacetRegistry.class);
      mth.invoke(Facets_CustomApplicationPlugin.this.manifest, FacetRegistry.getInstance());
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
}
