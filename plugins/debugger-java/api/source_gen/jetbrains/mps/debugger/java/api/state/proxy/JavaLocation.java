package jetbrains.mps.debugger.java.api.state.proxy;

/*Generated by MPS */

import jetbrains.mps.debug.api.programState.ILocation;
import org.jetbrains.annotations.NotNull;
import com.sun.jdi.Location;
import com.sun.jdi.AbsentInformationException;
import jetbrains.mps.smodel.ModelAccess;

public class JavaLocation implements ILocation {
  private final String myFileName;
  private final String myUnitName;
  private final String myRoutineName;
  private final int myLineNumber;

  public JavaLocation(@NotNull Location location) throws AbsentInformationException {
    assert !(ModelAccess.instance().isInEDT());
    myFileName = location.sourceName();
    myUnitName = location.declaringType().name();
    myRoutineName = location.method().name();
    myLineNumber = location.lineNumber();
  }

  public String getFileName() {
    return myFileName;
  }

  public String getUnitName() {
    return myUnitName;
  }

  public String getRoutineName() {
    return myRoutineName;
  }

  public int getLineNumber() {
    return myLineNumber;
  }

  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || this.getClass() != o.getClass()) {
      return false;
    }

    JavaLocation that = (JavaLocation) o;
    if ((myFileName != null ?
      !(((Object) myFileName).equals(that.myFileName)) :
      that.myFileName != null
    )) {
      return false;
    }
    if ((myUnitName != null ?
      !(((Object) myUnitName).equals(that.myUnitName)) :
      that.myUnitName != null
    )) {
      return false;
    }
    if ((myRoutineName != null ?
      !(((Object) myRoutineName).equals(that.myRoutineName)) :
      that.myRoutineName != null
    )) {
      return false;
    }
    if (myLineNumber != that.myLineNumber) {
      return false;
    }

    return true;
  }

  @Override
  public int hashCode() {
    int result = 0;
    result = 31 * result + ((myFileName != null ?
      String.valueOf(myFileName).hashCode() :
      0
    ));
    result = 31 * result + ((myUnitName != null ?
      String.valueOf(myUnitName).hashCode() :
      0
    ));
    result = 31 * result + ((myRoutineName != null ?
      String.valueOf(myRoutineName).hashCode() :
      0
    ));
    result = 31 * result + myLineNumber;
    return result;
  }
}
