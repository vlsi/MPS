package jetbrains.mps.core.smodel.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.core.query.behavior.MqlSelector_Behavior;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.smodel.behaviour.BehaviorReflection;

public class OfConceptSelector_Behavior {
  public static void init(SNode thisNode) {
  }

  public static SNode virtual_getType_228266671027867010(SNode thisNode) {
    SNode colType = SNodeOperations.as(MqlSelector_Behavior.call_getContainerType_228266671027861723(thisNode), "jetbrains.mps.core.query.structure.MqlCollectionType");
    if ((colType == null)) {
      return null;
    }
    if (!(SNodeOperations.isInstanceOf(SLinkOperations.getTarget(colType, "inner", true), "jetbrains.mps.core.smodel.structure.MqlNodeType"))) {
      return null;
    }

    SNode concept = BehaviorReflection.invokeVirtual((Class<SNode>) ((Class) Object.class), SLinkOperations.getTarget(thisNode, "argument", true), "virtual_getConcept_3868630583617739768", new Object[]{});
    if ((concept == null)) {
      return colType;
    } else {
      SNode newColType = SNodeOperations.copyNode(colType);
      SLinkOperations.setTarget(SNodeOperations.cast(SLinkOperations.getTarget(newColType, "inner", true), "jetbrains.mps.core.smodel.structure.MqlNodeType"), "concept", concept, false);
      return newColType;
    }
  }
}
