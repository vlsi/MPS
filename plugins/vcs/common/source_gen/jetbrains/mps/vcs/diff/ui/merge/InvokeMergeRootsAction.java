package jetbrains.mps.vcs.diff.ui.merge;

/*Generated by MPS */

import jetbrains.mps.vcs.diff.ui.common.BaseDiffModelTreeAction;
import com.intellij.openapi.actionSystem.AnActionEvent;
import java.util.Map;

public class InvokeMergeRootsAction extends BaseDiffModelTreeAction {
  private MergeModelsDialog myModelsDialog;

  public InvokeMergeRootsAction(MergeModelsDialog modelsDialog) {
    super("", null);
    myModelsDialog = modelsDialog;
  }

  @Override
  protected void doExecute(AnActionEvent event, Map<String, Object> map) {
    myModelsDialog.invokeMergeRoots(getRootId(event));
  }

  @Override
  protected void doUpdate(AnActionEvent event, Map<String, Object> map) {
    super.doUpdate(event, map);
    event.getPresentation().setText((getRootId(event) == null ?
      "Merge Property Changes" :
      "Merge Root"
    ));
  }
}
