package jetbrains.mps.lang.test.util;

/*Generated by MPS */

import org.jetbrains.mps.annotations.Singleton;
import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;

@Singleton
public final class RunEventsDispatcher {
  private final List<MpsTestRunListener> myListeners = new CopyOnWriteArrayList<MpsTestRunListener>();
  private static final RunEventsDispatcher ourInstance = new RunEventsDispatcher();

  private RunEventsDispatcher() {
  }

  public static RunEventsDispatcher getInstance() {
    return ourInstance;
  }

  public void onTestRunFinished() {
    for (MpsTestRunListener listener : myListeners) {
      listener.testRunFinished();
    }
  }

  public void onTestRunStarted() {
    for (MpsTestRunListener listener : myListeners) {
      listener.testRunStarted();
    }
  }

  public void addListener(MpsTestRunListener listener) {
    myListeners.add(listener);
  }

  public void removeListener(MpsTestRunListener listener) {
    myListeners.remove(listener);
  }
}
