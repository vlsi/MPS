package jetbrains.mps.build.startup.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.internal.collections.runtime.IWhereFilter;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.internal.collections.runtime.ISelector;
import jetbrains.mps.internal.collections.runtime.IRightCombinator;
import java.util.List;

public class MpsStartupScript_Behavior {
  public static void init(SNode thisNode) {
  }

  public static String call_getDefaultVmoptions_5842819808956701267(SNode thisNode) {
    return trim_p7akvg_a0a0b(ListSequence.fromList(SLinkOperations.getTargets(thisNode, "vmOptions", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.startup.structure.SimpleVmOptions") && !(SPropertyOperations.getBoolean(SNodeOperations.cast(it, "jetbrains.mps.build.startup.structure.SimpleVmOptions"), "commented"));
      }
    }).select(new ISelector<SNode, String>() {
      public String select(SNode it) {
        return SPropertyOperations.getString(SNodeOperations.cast(it, "jetbrains.mps.build.startup.structure.SimpleVmOptions"), "options");
      }
    }).foldRight("", new IRightCombinator<String, String>() {
      public String combine(String it, String s) {
        return s + " " + it;
      }
    }));
  }

  public static List<SNode> call_getCommentedOptions_5842819808956911345(SNode thisNode) {
    return ListSequence.fromList(SLinkOperations.getTargets(thisNode, "vmOptions", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.startup.structure.SimpleVmOptions") && SPropertyOperations.getBoolean(SNodeOperations.cast(it, "jetbrains.mps.build.startup.structure.SimpleVmOptions"), "commented");
      }
    }).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SNodeOperations.cast(it, "jetbrains.mps.build.startup.structure.SimpleVmOptions");
      }
    }).toListSequence();
  }

  public static String call_getPathToVmOptionsFile_5842819808956911442(SNode thisNode) {
    return SPropertyOperations.getString(thisNode, "startupFolder") + "/" + SPropertyOperations.getString(thisNode, "name") + "." + MpsStartupScript_Behavior.call_getVmOptionsExtension_5842819808956911479(thisNode);
  }

  public static String call_getVmOptionsExtension_5842819808956911479(SNode thisNode) {
    return "vmoptions";
  }

  public static String trim_p7akvg_a0a0b(String str) {
    return (str == null ?
      null :
      str.trim()
    );
  }
}
