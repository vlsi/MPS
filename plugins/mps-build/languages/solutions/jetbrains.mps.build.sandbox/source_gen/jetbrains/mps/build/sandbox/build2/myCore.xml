<project name="myCore" default="build" basedir=".">
  <!-- Generated by MPS -->
  <property file="${ant.file.myCore}/../myCore.properties" />
  <property name="build.dir" location="build" />
  <property name="aaa" location="${aaa.relative}" />
  <property name="bbb" value="./bbbb" />
  <property name="ccc" location="./cccc" />
  
  <path id="path.path1">
    <!--start path1-->
    <fileset file="source/file.txt" />
    <path refid="path.path2" />
    <!--end-->
  </path>
  
  <path id="path.path2">
    <fileset dir="source_gen">
      <include name="**/*.java" />
    </fileset>
  </path>
  
  <target name="compileJava" depends="java.compile.java.modules.cycle.1, java.compile.module1, java.compile.module2, java.compile.java.modules.cycle.2, java.compile.module3, java.compile.module4, java.compile.module5" />
  
  <target name="processResources" />
  
  <target name="classes" depends="compileJava, processResources" />
  
  <target name="test" depends="classes" />
  
  <target name="check" depends="test" />
  
  <target name="assemble" depends="classes" />
  
  <target name="buildDependents" />
  
  <target name="fetchDependencies" />
  
  <target name="build" depends="assemble, check">
    <mkdir asd="aaaa" />
    <javac asd="asd" ssdf="asd">
      asdassda
      asdasdasdas
      asdasd
      <aa>asdas</aa>
    </javac>
    <copy asda="asda" />
  </target>
  
  <target name="clean" />
  
  <target name="java.compile.java.modules.cycle.1">
    <mkdir dir="build/temp/temp/java.modules.cycle.1" />
    <javac destdir="build/temp/temp/java.modules.cycle.1" fork="true" memorymaximumsize="512m" nowarn="true" includeantruntime="false">
      <compilerarg value="-Xlint:none" />
      <src>
        <pathelement path="module1/source" />
        <pathelement path="module2/source" />
      </src>
      <classpath>
        <pathelement path="mo1.deps" />
        <pathelement path="junit" />
        <path refid="path.path2" />
        <pathelement path="mo2.deps" />
      </classpath>
    </javac>
  </target>
  
  <target name="java.compile.module1" depends="java.compile.java.modules.cycle.1">
    <mkdir dir="build/temp/module1" />
    <javac destdir="build/temp/module1" fork="true" memorymaximumsize="512m" nowarn="true" includeantruntime="false" debug="true">
      <compilerarg value="-Xlint:none" />
      <src path="module1/source" />
      <classpath>
        <pathelement path="mo1.deps" />
        <pathelement path="junit" />
        <path refid="path.path2" />
        <pathelement path="build/temp/temp/java.modules.cycle.1" />
      </classpath>
    </javac>
    <copy todir="build/temp/module1">
      <fileset path="module1/source" excludes="**/*.java" />
    </copy>
  </target>
  
  <target name="java.compile.module2" depends="java.compile.java.modules.cycle.1">
    <mkdir dir="build/temp/module2" />
    <javac destdir="build/temp/module2" fork="true" includeantruntime="false">
      <compilerarg value="-Xlint:none" />
      <src path="module2/source" />
      <classpath>
        <pathelement path="mo2.deps" />
        <pathelement path="junit" />
        <pathelement path="build/temp/temp/java.modules.cycle.1" />
      </classpath>
    </javac>
  </target>
  
  <target name="java.compile.java.modules.cycle.2" depends="java.compile.module1, java.compile.module2">
    <mkdir dir="build/temp/temp/java.modules.cycle.2" />
    <javac destdir="build/temp/temp/java.modules.cycle.2" fork="true" nowarn="true" includeantruntime="false">
      <compilerarg value="-Xlint:none" />
      <src>
        <pathelement path="module3/source" />
        <pathelement path="module4/source" />
      </src>
      <classpath>
        <pathelement path="mo3.deps" />
        <pathelement path="junit" />
        <pathelement path="mo4.deps" />
        <pathelement path="log4j" />
        <pathelement path="build/temp/module1" />
        <pathelement path="build/temp/module2" />
      </classpath>
    </javac>
  </target>
  
  <target name="java.compile.module3" depends="java.compile.module1, java.compile.module2, java.compile.java.modules.cycle.2">
    <mkdir dir="build/temp/module3" />
    <javac destdir="build/temp/module3" fork="true" includeantruntime="false">
      <compilerarg value="-Xlint:none" />
      <src path="module3/source" />
      <classpath>
        <pathelement path="mo3.deps" />
        <pathelement path="junit" />
        <pathelement path="build/temp/module1" />
        <pathelement path="build/temp/module2" />
        <pathelement path="build/temp/temp/java.modules.cycle.2" />
      </classpath>
    </javac>
  </target>
  
  <target name="java.compile.module4" depends="java.compile.java.modules.cycle.2">
    <mkdir dir="build/temp/module4" />
    <javac destdir="build/temp/module4" fork="true" includeantruntime="false">
      <compilerarg value="-Xlint:none" />
      <src path="module4/source" />
      <classpath>
        <pathelement path="mo4.deps" />
        <pathelement path="log4j" />
        <pathelement path="build/temp/temp/java.modules.cycle.2" />
      </classpath>
    </javac>
  </target>
  
  <target name="java.compile.module5" depends="java.compile.module4">
    <mkdir dir="build/temp/module5" />
    <javac destdir="build/temp/module5" fork="true" includeantruntime="false">
      <compilerarg value="-Xlint:none" />
      <src path="module5/source" />
      <classpath path="build/temp/module4" />
    </javac>
  </target>
</project>