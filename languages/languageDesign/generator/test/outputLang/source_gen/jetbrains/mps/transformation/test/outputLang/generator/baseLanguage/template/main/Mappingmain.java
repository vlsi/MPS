package jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main;

/*Generated by MPS */

import jetbrains.mps.generator.runtime.TemplateMappingConfiguration;
import java.util.Collection;
import jetbrains.mps.generator.runtime.TemplateReductionRule;
import jetbrains.mps.generator.runtime.TemplateRootMappingRule;
import jetbrains.mps.generator.runtime.TemplateWeavingRule;
import jetbrains.mps.generator.runtime.TemplateModel;
import jetbrains.mps.generator.runtime.TemplateUtil;
import jetbrains.mps.smodel.SNodePointer;
import jetbrains.mps.generator.template.ITemplateGenerator;
import jetbrains.mps.generator.runtime.TemplateCreateRootRule;
import java.util.Collections;
import jetbrains.mps.generator.runtime.TemplateDropRootRule;
import jetbrains.mps.generator.runtime.TemplateMappingScript;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.generator.runtime.TemplateExecutionEnvironment;
import jetbrains.mps.generator.runtime.TemplateContext;
import jetbrains.mps.generator.runtime.GenerationException;
import jetbrains.mps.generator.impl.AbandonRuleInputException;
import org.jetbrains.mps.openapi.model.SNodeAccessUtil;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodeContext;
import jetbrains.mps.generator.GenerationTracerUtil;
import jetbrains.mps.generator.template.BaseMappingRuleContext;
import jetbrains.mps.generator.runtime.ReferenceResolver;
import jetbrains.mps.generator.template.ReferenceMacroContext;
import jetbrains.mps.generator.template.PropertyMacroContext;
import jetbrains.mps.lang.pattern.GeneratedMatchingPattern;
import jetbrains.mps.generator.template.PatternRuleContext;
import jetbrains.mps.generator.template.TemplateArgumentContext;
import jetbrains.mps.smodel.SReference;
import jetbrains.mps.smodel.SModelReference;
import jetbrains.mps.smodel.SNodeId;
import jetbrains.mps.generator.template.WeavingMappingRuleContext;
import java.util.List;
import java.util.ArrayList;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodesContext;

public class Mappingmain implements TemplateMappingConfiguration {
  private final Collection<TemplateReductionRule> rules;
  private final Collection<TemplateRootMappingRule> rootRules;
  private final Collection<TemplateWeavingRule> weavings;
  private final TemplateModel myModel;

  public Mappingmain(TemplateModel model) {
    this.myModel = model;
    rules = TemplateUtil.<TemplateReductionRule>asCollection(new Mappingmain.PatternRule0(), new Mappingmain.PatternRule1(), new Mappingmain.PatternRule2(), new Mappingmain.PatternRule3(), new Mappingmain.PatternRule4(), new Mappingmain.PatternRule5(), new Mappingmain.PatternRule6(), new Mappingmain.PatternRule7(), new Mappingmain.ReductionRule0(), new Mappingmain.ReductionRule1(), new Mappingmain.ReductionRule2(), new Mappingmain.ReductionRule3(), new Mappingmain.ReductionRule4());
    rootRules = TemplateUtil.<TemplateRootMappingRule>asCollection(new Mappingmain.RootMappingRule0());
    weavings = TemplateUtil.<TemplateWeavingRule>asCollection(new Mappingmain.WeavingRule0());
  }

  public String getName() {
    return "main";
  }

  public TemplateModel getModel() {
    return this.myModel;
  }

  public SNodePointer getMappingNode() {
    return new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209603916390");
  }

  public boolean isApplicable(ITemplateGenerator generator) {
    return true;
  }

  public Collection<TemplateReductionRule> getReductionRules() {
    return rules;
  }

  public Collection<TemplateCreateRootRule> getCreateRules() {
    return Collections.emptySet();
  }

  public Collection<TemplateRootMappingRule> getRootRules() {
    return rootRules;
  }

  public Collection<TemplateWeavingRule> getWeavingRules() {
    return weavings;
  }

  public Collection<TemplateDropRootRule> getDropRules() {
    return Collections.emptySet();
  }

  public Collection<TemplateMappingScript> getPostScripts() {
    return Collections.emptySet();
  }

  public Collection<TemplateMappingScript> getPreScripts() {
    return Collections.emptySet();
  }

  public boolean isTopPriority() {
    return false;
  }

  public class ReductionRule0 implements TemplateReductionRule {
    public ReductionRule0() {
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.OutputNode_forDontApplyReductionTwice_test";
    }

    public SNodePointer getRuleNode() {
      return reductionRule_417xrn_a0a3r;
    }

    public Collection<SNode> tryToApply(final TemplateExecutionEnvironment environment, final TemplateContext context) throws GenerationException {

      environment.getTracer().pushRule(reductionRule_417xrn_a0a3r);
      try {
        return apply(context, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(reductionRule_417xrn_a0a3r);
      }

    }

    private Collection<SNode> apply(final TemplateContext context, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5r);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.transformation.test.outputLang.structure.OutputNode");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5r);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/1209604217076");
        SNodeAccessUtil.setProperty(tnode1, "text", "wrapper created by reduction 1");

        {
          Collection<SNode> tlist2 = null;
          try {
            environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a1a4a2a5r);
            final SNode copySrcInput2 = QueriesGenerated.sourceNodeQuery_1209604320455(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a1a4a2a5r, context, environment.getGenerator()));
            tlist2 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput2), copySrcMacro_417xrn_a0a0a1a4a2a5r, "tpl/r:00000000-0000-4000-0000-011c89590606/1209604251671", null, context);
          } finally {
            environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a1a4a2a5r);
          }
          for (SNode child3 : TemplateUtil.asNotNull(tlist2)) {
            tnode1.addChild("outputChild", child3);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5r);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class ReductionRule1 implements TemplateReductionRule {
    public ReductionRule1() {
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.OutputNode";
    }

    public SNodePointer getRuleNode() {
      return reductionRule_417xrn_a0a3s;
    }

    public Collection<SNode> tryToApply(final TemplateExecutionEnvironment environment, final TemplateContext context) throws GenerationException {
      if (!(QueriesGenerated.baseMappingRule_Condition_8900764248744322639(environment.getOperationContext(), new BaseMappingRuleContext(context.getInput(), reductionRule_417xrn_a0a3s, environment.getGenerator())))) {
        return null;
      }

      environment.getTracer().pushRule(reductionRule_417xrn_a0a3s);
      try {
        return apply(context, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(reductionRule_417xrn_a0a3s);
      }

    }

    private Collection<SNode> apply(final TemplateContext context, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5s);
      Collection<SNode> tlist1 = null;
      try {
        environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a2a5s);
        final SNode copySrcInput1 = QueriesGenerated.sourceNodeQuery_1473665232107485240(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a2a5s, context, environment.getGenerator()));
        tlist1 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput1), copySrcMacro_417xrn_a0a0a2a5s, "tpl/r:00000000-0000-4000-0000-011c89590606/8900764248744322651", "sd", context);
      } finally {
        environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a2a5s);
      }
      TemplateContext context2 = context.subContext("sd");
      final jetbrains.mps.smodel.SNode tnode3 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalVariableReference");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a5a5s);
        environment.nodeCopied(context2, tnode3, "tpl/r:00000000-0000-4000-0000-011c89590606/1473665232107455261");
        environment.resolve(new ReferenceResolver() {
          public Object resolve(SNode outputNode, TemplateContext context) {
            return QueriesGenerated.referenceMacro_GetReferent_1473665232107455264(environment.getOperationContext(), new ReferenceMacroContext(context.getInput(), tnode3, referenceMacro_417xrn_c0b0a0a0a0a0c0f0f81, "variableDeclaration", context, environment.getGenerator()));
          }

          public String getDefaultResolveInfo() {
            return "i";
          }

          public SNodePointer getTemplateNode() {
            return new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1473665232107455263");
          }
        }, tnode3, "variableDeclaration", context2);

      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode3));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a5a5s);
      }
      environment.registerLabel(context.getInput(), tnode3, "sd");
      Collection<SNode> tlist4 = TemplateUtil.asList(tlist1, tnode3);
      return tlist4;
    }
  }

  public class ReductionRule2 implements TemplateReductionRule {
    public ReductionRule2() {
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.OutputNode_forDontApplyReductionTwice_test";
    }

    public SNodePointer getRuleNode() {
      return reductionRule_417xrn_a0a3t;
    }

    public Collection<SNode> tryToApply(final TemplateExecutionEnvironment environment, final TemplateContext context) throws GenerationException {

      environment.getTracer().pushRule(reductionRule_417xrn_a0a3t);
      try {
        return apply(context, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(reductionRule_417xrn_a0a3t);
      }

    }

    private Collection<SNode> apply(final TemplateContext context, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5t);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.transformation.test.outputLang.structure.OutputNode");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5t);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/1209662301917");
        SNodeAccessUtil.setProperty(tnode1, "text", "wrapper created by reduction 2");

        {
          Collection<SNode> tlist2 = null;
          try {
            environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a1a4a2a5t);
            final SNode copySrcInput2 = QueriesGenerated.sourceNodeQuery_1209662301920(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a1a4a2a5t, context, environment.getGenerator()));
            tlist2 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput2), copySrcMacro_417xrn_a0a0a1a4a2a5t, "tpl/r:00000000-0000-4000-0000-011c89590606/1209662301918", null, context);
          } finally {
            environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a1a4a2a5t);
          }
          for (SNode child3 : TemplateUtil.asNotNull(tlist2)) {
            tnode1.addChild("outputChild", child3);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5t);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class ReductionRule3 implements TemplateReductionRule {
    public ReductionRule3() {
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomStatementRef";
    }

    public SNodePointer getRuleNode() {
      return reductionRule_417xrn_a0a3u;
    }

    public Collection<SNode> tryToApply(final TemplateExecutionEnvironment environment, final TemplateContext context) throws GenerationException {

      environment.getTracer().pushRule(reductionRule_417xrn_a0a3u);
      try {
        return apply(context, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(reductionRule_417xrn_a0a3u);
      }

    }

    private Collection<SNode> apply(final TemplateContext context, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5u);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5u);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695913379840");
        SNodeAccessUtil.setProperty(tnode1, "value", "42");

      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5u);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class ReductionRule4 implements TemplateReductionRule {
    public ReductionRule4() {
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.TwoVarStatement";
    }

    public SNodePointer getRuleNode() {
      return reductionRule_417xrn_a0a3v;
    }

    public Collection<SNode> tryToApply(final TemplateExecutionEnvironment environment, final TemplateContext context) throws GenerationException {

      environment.getTracer().pushRule(reductionRule_417xrn_a0a3v);
      try {
        return apply(context, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(reductionRule_417xrn_a0a3v);
      }

    }

    private Collection<SNode> apply(final TemplateContext context, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5v);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5v);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681233");

        {
          final jetbrains.mps.smodel.SNode tnode2 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration");
          try {
            environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a2a5v);
            environment.nodeCopied(context, tnode2, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681234");
            SNodeAccessUtil.setProperty(tnode2, "name", TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_6010543442198681251(environment.getOperationContext(), new PropertyMacroContext(context.getInput(), "i", propertyMacro_417xrn_c0b0c0c0b0d0c0f12, context, environment.getGenerator()))));

            {
              final jetbrains.mps.smodel.SNode tnode3 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerType");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a2a5v);
                environment.nodeCopied(context, tnode3, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681235");

              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode3));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a2a5v);
              }
              if (tnode3 != null) {
                tnode2.addChild("type", tnode3);
              }
              // TODO validate child 
            }
            {
              final jetbrains.mps.smodel.SNode tnode4 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a5a1a3a2a5v);
                environment.nodeCopied(context, tnode4, "tpl/r:00000000-0000-4000-0000-011c89590606/6054909491974232093");
                SNodeAccessUtil.setProperty(tnode4, "value", "0");

              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode4));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a5a1a3a2a5v);
              }
              if (tnode4 != null) {
                tnode2.addChild("initializer", tnode4);
              }
              // TODO validate child 
            }
          } finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode2));
            environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a2a5v);
          }
          if (tnode2 != null) {
            tnode1.addChild("localVariableDeclaration", tnode2);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5v);
      }
      final jetbrains.mps.smodel.SNode tnode5 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a4a5v);
        environment.nodeCopied(context, tnode5, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681237");

        {
          final jetbrains.mps.smodel.SNode tnode6 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration");
          try {
            environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a4a5v);
            environment.nodeCopied(context, tnode6, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681238");
            SNodeAccessUtil.setProperty(tnode6, "name", TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_6010543442198681260(environment.getOperationContext(), new PropertyMacroContext(context.getInput(), "e", propertyMacro_417xrn_c0b0c0c0b0d0e0f12, context, environment.getGenerator()))));

            {
              final jetbrains.mps.smodel.SNode tnode7 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerType");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a4a5v);
                environment.nodeCopied(context, tnode7, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681239");

              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode7));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a4a5v);
              }
              if (tnode7 != null) {
                tnode6.addChild("type", tnode7);
              }
              // TODO validate child 
            }
            {
              final jetbrains.mps.smodel.SNode tnode8 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.MulExpression");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a5a1a3a4a5v);
                environment.nodeCopied(context, tnode8, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681242");

                {
                  final jetbrains.mps.smodel.SNode tnode9 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.LocalVariableReference");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a1a5a1a3a4a5v);
                    environment.nodeCopied(context, tnode9, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681241");
                    environment.resolveInTemplateLater(tnode9, "variableDeclaration", new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681241"), "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681234", "i", context);

                  } finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode9));
                    environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a1a5a1a3a4a5v);
                  }
                  if (tnode9 != null) {
                    tnode8.addChild("leftExpression", tnode9);
                  }
                  // TODO validate child 
                }
                {
                  final jetbrains.mps.smodel.SNode tnode10 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a4a1a5a1a3a4a5v);
                    environment.nodeCopied(context, tnode10, "tpl/r:00000000-0000-4000-0000-011c89590606/6010543442198681245");
                    SNodeAccessUtil.setProperty(tnode10, "value", "2");

                  } finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode10));
                    environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a4a1a5a1a3a4a5v);
                  }
                  if (tnode10 != null) {
                    tnode8.addChild("rightExpression", tnode10);
                  }
                  // TODO validate child 
                }
              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode8));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a5a1a3a4a5v);
              }
              if (tnode8 != null) {
                tnode6.addChild("initializer", tnode8);
              }
              // TODO validate child 
            }
          } finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode6));
            environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a4a5v);
          }
          if (tnode6 != null) {
            tnode5.addChild("localVariableDeclaration", tnode6);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode5));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a4a5v);
      }
      Collection<SNode> tlist11 = TemplateUtil.asList(tnode1, tnode5);
      return tlist11;
    }
  }

  public class PatternRule0 implements TemplateReductionRule {
    public PatternRule0() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1w;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.baseLanguage.structure.ExpressionStatement";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_4146564171992608883(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1w, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1w);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1w);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5w);
      Collection<SNode> tlist1 = new TemplateconvertMult(((SNode) pattern.getFieldValue("patternVar_yy")), ((SNode) pattern.getFieldValue("patternVar_right"))).apply(environment, context);
      return tlist1;
    }
  }

  public class PatternRule1 implements TemplateReductionRule {
    public PatternRule1() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1x;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.baseLanguage.structure.AndExpression";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_2681305894288275225(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1x, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1x);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1x);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5x);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.NotExpression");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5x);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288283462");

        {
          final jetbrains.mps.smodel.SNode tnode2 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.OrExpression");
          try {
            environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a2a5x);
            environment.nodeCopied(context, tnode2, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288283464");

            {
              final jetbrains.mps.smodel.SNode tnode3 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.NotExpression");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a1a3a2a5x);
                environment.nodeCopied(context, tnode3, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288283469");

                {
                  Collection<SNode> tlist4 = null;
                  try {
                    environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a1a3a1a3a1a3a2a5x);
                    final SNode copySrcInput4 = QueriesGenerated.sourceNodeQuery_2681305894288283515(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a1a3a1a3a1a3a2a5x, context, environment.getGenerator()));
                    tlist4 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput4), copySrcMacro_417xrn_a0a0a1a3a1a3a1a3a2a5x, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288283512", null, context);
                  } finally {
                    environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a1a3a1a3a1a3a2a5x);
                  }
                  for (SNode child5 : TemplateUtil.asNotNull(tlist4)) {
                    tnode3.addChild("expression", child5);
                  }
                  // TODO validate child 
                }
              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode3));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a1a3a2a5x);
              }
              if (tnode3 != null) {
                tnode2.addChild("rightExpression", tnode3);
              }
              // TODO validate child 
            }
            {
              final jetbrains.mps.smodel.SNode tnode6 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.NotExpression");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a2a5x);
                environment.nodeCopied(context, tnode6, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288283467");

                {
                  Collection<SNode> tlist7 = null;
                  try {
                    environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a1a3a1a4a1a3a2a5x);
                    final SNode copySrcInput7 = QueriesGenerated.sourceNodeQuery_2681305894288283498(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a1a3a1a4a1a3a2a5x, context, environment.getGenerator()));
                    tlist7 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput7), copySrcMacro_417xrn_a0a0a1a3a1a4a1a3a2a5x, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288283495", null, context);
                  } finally {
                    environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a1a3a1a4a1a3a2a5x);
                  }
                  for (SNode child8 : TemplateUtil.asNotNull(tlist7)) {
                    tnode6.addChild("expression", child8);
                  }
                  // TODO validate child 
                }
              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode6));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a2a5x);
              }
              if (tnode6 != null) {
                tnode2.addChild("leftExpression", tnode6);
              }
              // TODO validate child 
            }
          } finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode2));
            environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a2a5x);
          }
          if (tnode2 != null) {
            tnode1.addChild("expression", tnode2);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5x);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class PatternRule2 implements TemplateReductionRule {
    public PatternRule2() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1y;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.baseLanguage.structure.NotExpression";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_2681305894288382558(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1y, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1y);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1y);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5y);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.NotEqualsExpression");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5y);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288387813");

        {
          Collection<SNode> tlist2 = null;
          try {
            environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a1a3a2a5y);
            final SNode copySrcInput2 = QueriesGenerated.sourceNodeQuery_2681305894288387824(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a1a3a2a5y, context, environment.getGenerator()));
            tlist2 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput2), copySrcMacro_417xrn_a0a0a1a3a2a5y, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288387817", null, context);
          } finally {
            environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a1a3a2a5y);
          }
          for (SNode child3 : TemplateUtil.asNotNull(tlist2)) {
            tnode1.addChild("rightExpression", child3);
          }
          // TODO validate child 
        }
        {
          Collection<SNode> tlist4 = null;
          try {
            environment.getTracer().pushMacro(copySrcMacro_417xrn_a0a0a1a4a2a5y);
            final SNode copySrcInput4 = QueriesGenerated.sourceNodeQuery_2681305894288387821(environment.getOperationContext(), new SourceSubstituteMacroNodeContext(context.getInput(), copySrcMacro_417xrn_a0a0a1a4a2a5y, context, environment.getGenerator()));
            tlist4 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput4), copySrcMacro_417xrn_a0a0a1a4a2a5y, "tpl/r:00000000-0000-4000-0000-011c89590606/2681305894288387816", null, context);
          } finally {
            environment.getTracer().closeMacro(copySrcMacro_417xrn_a0a0a1a4a2a5y);
          }
          for (SNode child5 : TemplateUtil.asNotNull(tlist4)) {
            tnode1.addChild("leftExpression", child5);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5y);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class PatternRule3 implements TemplateReductionRule {
    public PatternRule3() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1z;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomStatement";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_2681305894288486365(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1z, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1z);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1z);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5z);
      Collection<SNode> tlist1 = new TemplateprocessStatement(((String) QueriesGenerated.templateArgumentQuery_4816349095291000368(environment.getOperationContext(), new TemplateArgumentContext(context.getInput(), templArgCall_417xrn_b0b0a0a0a0b0f52, context, environment.getGenerator()))), ((String) pattern.getFieldValue("patternVar_jobName")), ((SNode) pattern.getFieldValue("patternVar_myExpr")), 12, true).apply(environment, context);
      return tlist1;
    }
  }

  public class PatternRule4 implements TemplateReductionRule {
    public PatternRule4() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1ab;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomStatementRef";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_2163819695913701566(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1ab, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1ab);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1ab);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5ab);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ParenthesizedExpression");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5ab);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695913791125");

        {
          final jetbrains.mps.smodel.SNode tnode2 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.PlusExpression");
          try {
            environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a2a5ab);
            environment.nodeCopied(context, tnode2, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695913924512");

            {
              final jetbrains.mps.smodel.SNode tnode3 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a1a3a2a5ab);
                environment.nodeCopied(context, tnode3, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695913792886");
                SNodeAccessUtil.setProperty(tnode3, "value", "22");

              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode3));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a1a3a2a5ab);
              }
              if (tnode3 != null) {
                tnode2.addChild("leftExpression", tnode3);
              }
              // TODO validate child 
            }
            {
              final jetbrains.mps.smodel.SNode tnode4 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.DotExpression");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a2a5ab);
                environment.nodeCopied(context, tnode4, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695914046243");

                {
                  final jetbrains.mps.smodel.SNode tnode5 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.StringLiteral");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a1a4a1a3a2a5ab);
                    environment.nodeCopied(context, tnode5, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695913945865");
                    SNodeAccessUtil.setProperty(tnode5, "value", TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_2163819695913945867(environment.getOperationContext(), new PropertyMacroContext(context.getInput(), "", propertyMacro_417xrn_c0b0c0c0b0d0b0e0b0d0c0f62, context, environment.getGenerator()))));

                  } finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode5));
                    environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a1a4a1a3a2a5ab);
                  }
                  if (tnode5 != null) {
                    tnode4.addChild("operand", tnode5);
                  }
                  // TODO validate child 
                }
                {
                  final jetbrains.mps.smodel.SNode tnode6 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                  try {
                    environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a4a1a4a1a3a2a5ab);
                    environment.nodeCopied(context, tnode6, "tpl/r:00000000-0000-4000-0000-011c89590606/2163819695914046247");
                    tnode6.setReference("baseMethodDeclaration", SReference.create("baseMethodDeclaration", tnode6, SModelReference.fromString("f:java_stub#6354ebe7-c22a-4a0f-ac54-50b52ab9b065#java.lang(JDK/java.lang@java_stub)"), SNodeId.fromString("~String.length():int")));

                  } finally {
                    environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode6));
                    environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a4a1a4a1a3a2a5ab);
                  }
                  if (tnode6 != null) {
                    tnode4.addChild("operation", tnode6);
                  }
                  // TODO validate child 
                }
              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode4));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a4a1a3a2a5ab);
              }
              if (tnode4 != null) {
                tnode2.addChild("rightExpression", tnode4);
              }
              // TODO validate child 
            }
          } finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode2));
            environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a2a5ab);
          }
          if (tnode2 != null) {
            tnode1.addChild("expression", tnode2);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5ab);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class PatternRule5 implements TemplateReductionRule {
    public PatternRule5() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1bb;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomStatementRef";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_5857536350883030949(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1bb, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1bb);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1bb);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5bb);
      Collection<SNode> tlist1 = new Templateprocess42(((SNode) pattern.getFieldValue("patternVar_ref"))).apply(environment, context);
      return tlist1;
    }
  }

  public class PatternRule6 implements TemplateReductionRule {
    public PatternRule6() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1cb;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomStatementRef";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_933643154465852759(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1cb, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1cb);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1cb);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5cb);
      final jetbrains.mps.smodel.SNode tnode1 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.ParenthesizedExpression");
      try {
        environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a2a5cb);
        environment.nodeCopied(context, tnode1, "tpl/r:00000000-0000-4000-0000-011c89590606/6509983489805125463");

        {
          final jetbrains.mps.smodel.SNode tnode2 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.PlusExpression");
          try {
            environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a2a5cb);
            environment.nodeCopied(context, tnode2, "tpl/r:00000000-0000-4000-0000-011c89590606/6509983489805125466");

            {
              final jetbrains.mps.smodel.SNode tnode3 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.IntegerConstant");
              try {
                environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a3a1a3a2a5cb);
                environment.nodeCopied(context, tnode3, "tpl/r:00000000-0000-4000-0000-011c89590606/6509983489805125465");
                SNodeAccessUtil.setProperty(tnode3, "value", "12");

              } finally {
                environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode3));
                environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a1a3a2a5cb);
              }
              if (tnode3 != null) {
                tnode2.addChild("leftExpression", tnode3);
              }
              // TODO validate child 
            }
            {
              Collection<SNode> tlist4 = null;
              try {
                environment.getTracer().pushMacro(callMacro_417xrn_a0a0a1a4a1a3a2a5cb);
                final SNodePointer templateNode4 = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "5857536350883030947");
                try {
                  environment.getTracer().pushTemplateNode(templateNode4);
                  tlist4 = new Templateprocess42(((SNode) pattern.getFieldValue("patternVar_ref"))).apply(environment, context);
                } finally {
                  environment.getTracer().pushTemplateNode(templateNode4);
                }

              } finally {
                environment.getTracer().closeMacro(callMacro_417xrn_a0a0a1a4a1a3a2a5cb);
              }
              for (SNode child5 : TemplateUtil.asNotNull(tlist4)) {
                tnode2.addChild("rightExpression", child5);
              }
              // TODO validate child 
            }
          } finally {
            environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode2));
            environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a3a2a5cb);
          }
          if (tnode2 != null) {
            tnode1.addChild("expression", tnode2);
          }
          // TODO validate child 
        }
      } finally {
        environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode1));
        environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a2a5cb);
      }
      return TemplateUtil.singletonList(tnode1);
    }
  }

  public class PatternRule7 implements TemplateReductionRule {
    public PatternRule7() {
    }

    public SNodePointer getRuleNode() {
      return patternRule_417xrn_a0a1db;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomStatementRef";
    }

    public Collection<SNode> tryToApply(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      final GeneratedMatchingPattern pattern = QueriesGenerated.patternRule_Condition_8371596541809088644(environment.getOperationContext(), new PatternRuleContext(context.getInput(), patternRule_417xrn_a0a1db, environment.getGenerator()));
      if (pattern == null) {
        return null;
      }

      environment.getTracer().pushRule(patternRule_417xrn_a0a1db);
      try {
        return apply(context.subContext(pattern), pattern, environment.getEnvironment(context.getInput(), this));
      } catch (AbandonRuleInputException e) {
        return Collections.emptyList();
      } finally {
        environment.getTracer().closeRule(patternRule_417xrn_a0a1db);
      }
    }

    private Collection<SNode> apply(final TemplateContext context, final GeneratedMatchingPattern pattern, final TemplateExecutionEnvironment environment) throws GenerationException {
      environment.getTracer().pushRuleConsequence(conseq_417xrn_a0a0a5db);
      Collection<SNode> tlist1 = null;
      try {
        environment.getTracer().pushMacro(switchMacroRef_417xrn_a0a0a2a5db);
        try {
          environment.getTracer().pushSwitch(templateSwitchNodeNoInput_417xrn_a0a0a1a2a5db);
          tlist1 = environment.trySwitch(templateSwitchNodeNoInput_417xrn_a0a0a1a2a5db, null, context);
          if (tlist1 == null) {
            final jetbrains.mps.smodel.SNode tnode2 = new jetbrains.mps.smodel.SNode("jetbrains.mps.baseLanguage.structure.NullLiteral");
            try {
              environment.getTracer().pushTemplateNode(templateNode_417xrn_a0a0a1a2a1a2a5db);
              environment.nodeCopied(context, tnode2, "tpl/r:00000000-0000-4000-0000-011c89590606/8371596541809088649");

            } finally {
              environment.getTracer().pushOutputNode(GenerationTracerUtil.getSNodePointer(environment.getOutputModel(), tnode2));
              environment.getTracer().closeTemplateNode(templateNode_417xrn_a0a0a1a2a1a2a5db);
            }
            if (tnode2 != null) {
              tlist1 = TemplateUtil.singletonList(tnode2);
            }
          }
        } finally {
          // TODO close switch node 
        }
      } finally {
        environment.getTracer().closeMacro(switchMacroRef_417xrn_a0a0a2a5db);
      }
      return tlist1;
    }
  }

  public class RootMappingRule0 implements TemplateRootMappingRule {
    public RootMappingRule0() {
    }

    public SNodePointer getRuleNode() {
      return rootMappingRule_417xrn_a0a1eb;
    }

    public boolean applyToInheritors() {
      return false;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.transformation.test.outputLang.structure.CustomRoot";
    }

    public boolean keepSourceRoot() {
      return false;
    }

    public boolean isApplicable(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      return true;
    }

    public Collection<SNode> apply(final TemplateExecutionEnvironment environment, final TemplateContext context) throws GenerationException {
      Collection<SNode> result = new TemplateRootCustom().apply(environment, context);
      environment.registerLabel(context.getInput(), result, "rootcustom");
      return result;
    }
  }

  public class WeavingRule0 implements TemplateWeavingRule {
    public WeavingRule0() {
    }

    public SNodePointer getRuleNode() {
      return weavingRule_417xrn_a0a1fb;
    }

    public String getApplicableConcept() {
      return "jetbrains.mps.baseLanguage.structure.BlockStatement";
    }

    public boolean applyToInheritors() {
      return false;
    }

    public boolean isApplicable(TemplateExecutionEnvironment environment, TemplateContext context) throws GenerationException {
      if (!(QueriesGenerated.baseMappingRule_Condition_3571912445009978241(environment.getOperationContext(), new BaseMappingRuleContext(context.getInput(), weavingRule_417xrn_a0a1fb, environment.getGenerator())))) {
        return false;
      }
      return true;
    }

    public SNode getContextNode(TemplateExecutionEnvironment environment, TemplateContext context) {
      return QueriesGenerated.weaving_MappingRule_ContextNodeQuery_3571912445009918066(environment.getOperationContext(), new WeavingMappingRuleContext(context.getInput(), weavingRule_417xrn_a0a1fb, environment.getGenerator()));
    }

    public boolean apply(final TemplateExecutionEnvironment environment, final TemplateContext context, final SNode outputContextNode) throws GenerationException {
      final List<SNode> tlist1 = new ArrayList();
      environment.getTracer().pushRuleConsequence(weavingConseq_417xrn_a0a1a6fb);
      Iterable<SNode> weaveEachList1 = QueriesGenerated.sourceNodesQuery_3571912445009918069(environment.getOperationContext(), new SourceSubstituteMacroNodesContext(context.getInput(), weavingConseq_417xrn_a0a1a6fb, null, context, environment.getGenerator()));
      for (SNode itnode1 : weaveEachList1) {
        if (itnode1 == null) {
          continue;
        }
        boolean inputChanged1 = context.getInput() != itnode1;
        try {
          if (inputChanged1) {
            environment.getTracer().pushInputNode(GenerationTracerUtil.getSNodePointer(itnode1));
          }
          TemplateContext context1 = context.subContext(null, itnode1);
          Collection<SNode> innerResult1 = new Templateweave__Statement().weave(environment, context1, outputContextNode);

          if (innerResult1 != null) {
            tlist1.addAll(innerResult1);
          }
        } finally {
          if (inputChanged1) {
            environment.getTracer().closeInputNode(GenerationTracerUtil.getSNodePointer(itnode1));
          }
        }
      }
      return tlist1 != null && !(tlist1.isEmpty());
    }
  }

  private static SNodePointer reductionRule_417xrn_a0a3r = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209604172327");
  private static SNodePointer conseq_417xrn_a0a0a5r = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209604206699");
  private static SNodePointer templateNode_417xrn_a0a0a2a5r = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209604217076");
  private static SNodePointer copySrcMacro_417xrn_a0a0a1a4a2a5r = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209604320454");
  private static SNodePointer reductionRule_417xrn_a0a3s = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8900764248744322637");
  private static SNodePointer conseq_417xrn_a0a0a5s = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8900764248744322643");
  private static SNodePointer copySrcMacro_417xrn_a0a0a2a5s = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1473665232107485239");
  private static SNodePointer templateNode_417xrn_a0a0a5a5s = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1473665232107455261");
  private static SNodePointer referenceMacro_417xrn_c0b0a0a0a0a0c0f0f81 = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1473665232107455263");
  private static SNodePointer reductionRule_417xrn_a0a3t = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209662301915");
  private static SNodePointer conseq_417xrn_a0a0a5t = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209662301916");
  private static SNodePointer templateNode_417xrn_a0a0a2a5t = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209662301917");
  private static SNodePointer copySrcMacro_417xrn_a0a0a1a4a2a5t = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "1209662301919");
  private static SNodePointer reductionRule_417xrn_a0a3u = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913378077");
  private static SNodePointer conseq_417xrn_a0a0a5u = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913379838");
  private static SNodePointer templateNode_417xrn_a0a0a2a5u = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913379840");
  private static SNodePointer reductionRule_417xrn_a0a3v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198679070");
  private static SNodePointer conseq_417xrn_a0a0a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681229");
  private static SNodePointer templateNode_417xrn_a0a0a2a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681233");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a2a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681234");
  private static SNodePointer propertyMacro_417xrn_c0b0c0c0b0d0c0f12 = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681248");
  private static SNodePointer templateNode_417xrn_a0a0a1a4a1a3a2a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681235");
  private static SNodePointer templateNode_417xrn_a0a0a1a5a1a3a2a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6054909491974232093");
  private static SNodePointer templateNode_417xrn_a0a0a4a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681237");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a4a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681238");
  private static SNodePointer propertyMacro_417xrn_c0b0c0c0b0d0e0f12 = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681257");
  private static SNodePointer templateNode_417xrn_a0a0a1a4a1a3a4a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681239");
  private static SNodePointer templateNode_417xrn_a0a0a1a5a1a3a4a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681242");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a1a5a1a3a4a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681241");
  private static SNodePointer templateNode_417xrn_a0a0a1a4a1a5a1a3a4a5v = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6010543442198681245");
  private static SNodePointer patternRule_417xrn_a0a1w = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "4146564171992608883");
  private static SNodePointer conseq_417xrn_a0a0a5w = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "4146564171992617111");
  private static SNodePointer patternRule_417xrn_a0a1x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288275225");
  private static SNodePointer conseq_417xrn_a0a0a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283438");
  private static SNodePointer templateNode_417xrn_a0a0a2a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283462");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a2a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283464");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a1a3a2a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283469");
  private static SNodePointer copySrcMacro_417xrn_a0a0a1a3a1a3a1a3a2a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283514");
  private static SNodePointer templateNode_417xrn_a0a0a1a4a1a3a2a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283467");
  private static SNodePointer copySrcMacro_417xrn_a0a0a1a3a1a4a1a3a2a5x = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288283497");
  private static SNodePointer patternRule_417xrn_a0a1y = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288382558");
  private static SNodePointer conseq_417xrn_a0a0a5y = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288387811");
  private static SNodePointer templateNode_417xrn_a0a0a2a5y = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288387813");
  private static SNodePointer copySrcMacro_417xrn_a0a0a1a3a2a5y = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288387823");
  private static SNodePointer copySrcMacro_417xrn_a0a0a1a4a2a5y = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288387820");
  private static SNodePointer patternRule_417xrn_a0a1z = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288486365");
  private static SNodePointer conseq_417xrn_a0a0a5z = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2681305894288695079");
  private static SNodePointer templArgCall_417xrn_b0b0a0a0a0b0f52 = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "4816349095291000367");
  private static SNodePointer patternRule_417xrn_a0a1ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913701566");
  private static SNodePointer conseq_417xrn_a0a0a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913701573");
  private static SNodePointer templateNode_417xrn_a0a0a2a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913791125");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a2a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913924512");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a1a3a2a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913792886");
  private static SNodePointer templateNode_417xrn_a0a0a1a4a1a3a2a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695914046243");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a1a4a1a3a2a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913945865");
  private static SNodePointer propertyMacro_417xrn_c0b0c0c0b0d0b0e0b0d0c0f62 = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695913945866");
  private static SNodePointer templateNode_417xrn_a0a0a1a4a1a4a1a3a2a5ab = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "2163819695914046247");
  private static SNodePointer patternRule_417xrn_a0a1bb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "5857536350883030949");
  private static SNodePointer conseq_417xrn_a0a0a5bb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "5857536350883032714");
  private static SNodePointer patternRule_417xrn_a0a1cb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "933643154465852759");
  private static SNodePointer conseq_417xrn_a0a0a5cb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "933643154465854521");
  private static SNodePointer templateNode_417xrn_a0a0a2a5cb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6509983489805125463");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a2a5cb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6509983489805125466");
  private static SNodePointer templateNode_417xrn_a0a0a1a3a1a3a2a5cb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6509983489805125465");
  private static SNodePointer callMacro_417xrn_a0a0a1a4a1a3a2a5cb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "6509983489805214623");
  private static SNodePointer patternRule_417xrn_a0a1db = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8371596541809088644");
  private static SNodePointer conseq_417xrn_a0a0a5db = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8371596541809088647");
  private static SNodePointer switchMacroRef_417xrn_a0a0a2a5db = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8371596541809088651");
  private static SNodePointer templateSwitchNodeNoInput_417xrn_a0a0a1a2a5db = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8371596541809088655");
  private static SNodePointer templateNode_417xrn_a0a0a1a2a1a2a5db = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "8371596541809088649");
  private static SNodePointer rootMappingRule_417xrn_a0a1eb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "4146564171992412767");
  private static SNodePointer weavingRule_417xrn_a0a1fb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "3571912445009918064");
  private static SNodePointer weavingConseq_417xrn_a0a1a6fb = new SNodePointer("r:00000000-0000-4000-0000-011c89590606(jetbrains.mps.transformation.test.outputLang.generator.baseLanguage.template.main@generator)", "3571912445009918068");
}
