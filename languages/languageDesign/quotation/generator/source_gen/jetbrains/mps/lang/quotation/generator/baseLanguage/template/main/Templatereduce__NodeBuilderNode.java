package jetbrains.mps.lang.quotation.generator.baseLanguage.template.main;

/*Generated by MPS */

import jetbrains.mps.generator.runtime.Generated;
import jetbrains.mps.generator.runtime.TemplateDeclarationWeavingAware;
import org.jetbrains.mps.openapi.model.SNodeReference;
import jetbrains.mps.smodel.SNodePointer;
import java.util.Collection;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.generator.runtime.TemplateExecutionEnvironment;
import jetbrains.mps.generator.runtime.TemplateContext;
import jetbrains.mps.generator.runtime.GenerationException;
import jetbrains.mps.generator.template.TemplateVarContext;
import java.util.Collections;
import org.jetbrains.mps.openapi.model.SNodeAccessUtil;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.generator.runtime.TemplateUtil;
import jetbrains.mps.generator.template.PropertyMacroContext;
import jetbrains.mps.smodel.SReference;
import org.jetbrains.mps.openapi.persistence.PersistenceFacade;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodeContext;
import jetbrains.mps.generator.template.IfMacroContext;
import jetbrains.mps.generator.runtime.ReferenceResolver;
import jetbrains.mps.generator.template.ReferenceMacroContext;
import java.util.List;
import java.util.ArrayList;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodesContext;

@Generated
public class Templatereduce__NodeBuilderNode implements TemplateDeclarationWeavingAware {
  public Templatereduce__NodeBuilderNode() {
  }
  public SNodeReference getTemplateNode() {
    return new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676709776");
  }
  protected Collection<SNode> applyPart0(@NotNull final TemplateExecutionEnvironment environment, @NotNull final TemplateContext context) throws GenerationException {
    Collection<SNode> tlist1 = null;
    final Object varValue1 = QueriesGenerated.insertMacro_varValue_429601079676845415(new TemplateVarContext(context, varMacroRef_g27wod_b0a0a1a2));
    TemplateContext context1 = context.subContext(Collections.<String,Object>singletonMap("var:root", varValue1));
    final SNode tnode2 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement");
    try {
      environment.nodeCopied(context1, tnode2, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709783");
      {
        Collection<SNode> tlist3 = null;
        TemplateContext context3 = context1.subContext("nodeVariable");
        final SNode tnode4 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration");
        try {
          environment.nodeCopied(context3, tnode4, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784");
          SNodeAccessUtil.setProperty(tnode4, MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name"), TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_429601079676781980(new PropertyMacroContext(context3, "_node_", propertyMacro_g27wod_c0a0c0b0d0b0e0c))));
          {
            final SNode tnode5 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SNodeType");
            try {
              environment.nodeCopied(context3, tnode5, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709785");
            } finally {
            }
            if (tnode5 != null) {
              tnode4.addChild("type", tnode5);
            }
            // TODO validate child 
          }
          {
            final SNode tnode6 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StaticMethodCall");
            try {
              environment.nodeCopied(context3, tnode6, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349069");
              tnode6.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode6, PersistenceFacade.getInstance().createModelReference("6ed54515-acc8-4d1e-a16c-9fd6cfe951ea/f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SModelUtil_new.instantiateConceptDeclaration(org.jetbrains.mps.openapi.language.SAbstractConcept,org.jetbrains.mps.openapi.model.SModel,org.jetbrains.mps.openapi.model.SNodeId,boolean):jetbrains.mps.smodel.SNode")));
              tnode6.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf09L, 0x10a7588b546L, "classConcept"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf09L, 0x10a7588b546L, "classConcept"), tnode6, PersistenceFacade.getInstance().createModelReference("6ed54515-acc8-4d1e-a16c-9fd6cfe951ea/f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SModelUtil_new")));
              {
                Collection<SNode> tlist7 = null;
                try {
                  SNode callInputNode7 = QueriesGenerated.sourceNodeQuery_5494233285271349710(new SourceSubstituteMacroNodeContext(context3, includeMacro_g27wod_b0a0a0a1a3a1a3a3a1a4a2));
                  TemplateContext context7 = context3.subContext(null, callInputNode7);
                  if (callInputNode7 != null) {
                    try {
                      tlist7 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319308637"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5494233285271349709"), context7);
                    } finally {
                    }

                  }

                } finally {
                }
                for (SNode child8 : TemplateUtil.asNotNull(tlist7)) {
                  tnode6.addChild("actualArgument", child8);
                }
                // TODO validate child 
              }
              {
                Collection<SNode> tlist9 = null;
                if (QueriesGenerated.ifMacro_Condition_5494233285271349734(new IfMacroContext(context3, ifMacroRef_g27wod_b0a0b0e0b0d0d0b0e0c))) {
                  final SNode tnode10 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.CastExpression");
                  try {
                    environment.nodeCopied(context3, tnode10, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349716");
                    {
                      final SNode tnode11 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ClassifierType");
                      try {
                        environment.nodeCopied(context3, tnode11, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349717");
                        tnode11.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x101de48bf9eL, 0x101de490babL, "classifier"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x101de48bf9eL, 0x101de490babL, "classifier"), tnode11, PersistenceFacade.getInstance().createModelReference("8865b7a8-5271-43d3-884c-6fd1d9cfdd34/f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SModel")));
                      } finally {
                      }
                      if (tnode11 != null) {
                        tnode10.addChild("type", tnode11);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode12 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                      try {
                        environment.nodeCopied(context3, tnode12, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349718");
                        environment.resolve(new ReferenceResolver() {
                          public Object resolve(SNode outputNode, TemplateContext context) {
                            return QueriesGenerated.referenceMacro_GetReferent_5494233285271349720(new ReferenceMacroContext(context, tnode12, referenceMacro_g27wod_c0a0a0a0a0a0b0b0c0b0b0e0b0d0d0b0e0c, "variableDeclaration"));
                          }
                          public String getDefaultResolveInfo() {
                            return "param1";
                          }
                          public SNodeReference getTemplateNode() {
                            return referenceMacro_g27wod_c0a0a0a0a0a0b0b0c0b0b0e0b0d0d0b0e0c;
                          }
                        }, tnode12, "variableDeclaration", context3);
                      } finally {
                      }
                      if (tnode12 != null) {
                        tnode10.addChild("expression", tnode12);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  tlist9 = TemplateUtil.singletonList(tnode10);
                } else {
                  final SNode tnode13 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.NullLiteral");
                  try {
                    environment.nodeCopied(context3, tnode13, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349747");
                  } finally {
                  }
                  tlist9 = TemplateUtil.singletonList(tnode13);
                }
                for (SNode child14 : TemplateUtil.asNotNull(tlist9)) {
                  tnode6.addChild("actualArgument", child14);
                }
                // TODO validate child 
              }
              {
                final SNode tnode15 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.NullLiteral");
                try {
                  environment.nodeCopied(context3, tnode15, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349748");
                } finally {
                }
                if (tnode15 != null) {
                  tnode6.addChild("actualArgument", tnode15);
                }
                // TODO validate child 
              }
              {
                final SNode tnode16 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.BooleanConstant");
                try {
                  environment.nodeCopied(context3, tnode16, "tpl/r:00000000-0000-4000-0000-011c8959034c/5494233285271349749");
                } finally {
                }
                if (tnode16 != null) {
                  tnode6.addChild("actualArgument", tnode16);
                }
                // TODO validate child 
              }
            } finally {
            }
            if (tnode6 != null) {
              tnode4.addChild("initializer", tnode6);
            }
            // TODO validate child 
          }
        } finally {
        }
        tlist3 = TemplateUtil.singletonList(tnode4);
        environment.registerLabel(context1.getInput(), tnode4, "nodeVariable");
        for (SNode child17 : TemplateUtil.asNotNull(tlist3)) {
          tnode2.addChild("localVariableDeclaration", child17);
        }
        // TODO validate child 
      }
    } finally {
    }
    tlist1 = TemplateUtil.singletonList(tnode2);
    return tlist1;
  }
  protected SNode applyPart1(@NotNull final TemplateExecutionEnvironment environment, @NotNull final TemplateContext context) throws GenerationException {
    final SNode tnode18 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.BlockStatement");
    try {
      environment.nodeCopied(context, tnode18, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676845385");
      {
        final SNode tnode19 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StatementList");
        try {
          environment.nodeCopied(context, tnode19, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676845386");
          {
            final List<SNode> tlist20 = new ArrayList<SNode>();
            final Iterable<SNode> loopList20 = QueriesGenerated.sourceNodesQuery_429601079676785722(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a1a1a1a1a3));
            for (SNode itnode20 : loopList20) {
              if (itnode20 == null) {
                continue;
              }
              TemplateContext context20 = context.subContext(null, itnode20);
              final SNode tnode21 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context20, tnode21, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785693");
                {
                  final SNode tnode22 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context20, tnode22, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785694");
                    {
                      final SNode tnode23 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context20, tnode23, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786218");
                        {
                          final SNode tnode24 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context20, tnode24, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363114829");
                            environment.resolveInTemplateLater(tnode24, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a1a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context20);
                          } finally {
                          }
                          if (tnode24 != null) {
                            tnode23.addChild("leftExpression", tnode24);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode23 != null) {
                        tnode22.addChild("operand", tnode23);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode25 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context20, tnode25, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785696");
                        tnode25.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode25, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.setProperty(org.jetbrains.mps.openapi.language.SProperty,java.lang.String):void")));
                        {
                          Collection<SNode> tlist26 = null;
                          try {
                            SNode callInputNode26 = QueriesGenerated.sourceNodeQuery_5645466361084543389(new SourceSubstituteMacroNodeContext(context20, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a1a1a1a1a3));
                            TemplateContext context26 = context20.subContext(null, callInputNode26);
                            if (callInputNode26 != null) {
                              try {
                                tlist26 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319117922"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084543039"), context26);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child27 : TemplateUtil.asNotNull(tlist26)) {
                            tnode25.addChild("actualArgument", child27);
                          }
                          // TODO validate child 
                        }
                        {
                          Collection<SNode> tlist28 = null;
                          final SNode copySrcInput28 = QueriesGenerated.sourceNodeQuery_429601079676786028(new SourceSubstituteMacroNodeContext(context20, copySrcMacro_g27wod_b0a0c0d0b0c0b0b0d0c0b0b0b0b0d));
                          tlist28 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput28), copySrcMacro_g27wod_b0a0c0d0b0c0b0b0d0c0b0b0b0b0d, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676785706", context20);
                          for (SNode child29 : TemplateUtil.asNotNull(tlist28)) {
                            tnode25.addChild("actualArgument", child29);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode25 != null) {
                        tnode22.addChild("operation", tnode25);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode22 != null) {
                    tnode21.addChild("expression", tnode22);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode21 != null) {
                tlist20.add(tnode21);
              }
            }
            for (SNode child30 : TemplateUtil.asNotNull(tlist20)) {
              tnode19.addChild("statement", child30);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist31 = new ArrayList<SNode>();
            final Iterable<SNode> loopList31 = QueriesGenerated.sourceNodesQuery_429601079676786596(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a2a1a1a1a3));
            for (SNode itnode31 : loopList31) {
              if (itnode31 == null) {
                continue;
              }
              TemplateContext context31 = context.subContext(null, itnode31);
              final SNode tnode32 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context31, tnode32, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786572");
                {
                  final SNode tnode33 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context31, tnode33, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786573");
                    {
                      final SNode tnode34 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context31, tnode34, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786574");
                        {
                          final SNode tnode35 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context31, tnode35, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363100545");
                            environment.resolveInTemplateLater(tnode35, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a2a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context31);
                          } finally {
                          }
                          if (tnode35 != null) {
                            tnode34.addChild("leftExpression", tnode35);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode34 != null) {
                        tnode33.addChild("operand", tnode34);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode36 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context31, tnode36, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786576");
                        tnode36.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode36, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.setProperty(org.jetbrains.mps.openapi.language.SProperty,java.lang.String):void")));
                        {
                          Collection<SNode> tlist37 = null;
                          try {
                            SNode callInputNode37 = QueriesGenerated.sourceNodeQuery_5645466361084547489(new SourceSubstituteMacroNodeContext(context31, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a2a1a1a1a3));
                            TemplateContext context37 = context31.subContext(null, callInputNode37);
                            if (callInputNode37 != null) {
                              try {
                                tlist37 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319117922"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084547488"), context37);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child38 : TemplateUtil.asNotNull(tlist37)) {
                            tnode36.addChild("actualArgument", child38);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode39 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StaticMethodCall");
                          try {
                            environment.nodeCopied(context31, tnode39, "tpl/r:00000000-0000-4000-0000-011c8959034c/3143347504358674742");
                            tnode39.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode39, PersistenceFacade.getInstance().createModelReference("f:java_stub#6354ebe7-c22a-4a0f-ac54-50b52ab9b065#java.lang(JDK/java.lang@java_stub)"), PersistenceFacade.getInstance().createNodeId("~String.valueOf(java.lang.Object):java.lang.String")));
                            tnode39.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf09L, 0x10a7588b546L, "classConcept"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf09L, 0x10a7588b546L, "classConcept"), tnode39, PersistenceFacade.getInstance().createModelReference("f:java_stub#6354ebe7-c22a-4a0f-ac54-50b52ab9b065#java.lang(JDK/java.lang@java_stub)"), PersistenceFacade.getInstance().createNodeId("~String")));
                            {
                              final SNode tnode40 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                              try {
                                environment.nodeCopied(context31, tnode40, "tpl/r:00000000-0000-4000-0000-011c8959034c/3143347504358680258");
                                environment.resolve(new ReferenceResolver() {
                                  public Object resolve(SNode outputNode, TemplateContext context) {
                                    return QueriesGenerated.referenceMacro_GetReferent_3143347504358680260(new ReferenceMacroContext(context, tnode40, referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0d0b0c0b0b0d0c0c0b0b0b0d, "variableDeclaration"));
                                  }
                                  public String getDefaultResolveInfo() {
                                    return "param1";
                                  }
                                  public SNodeReference getTemplateNode() {
                                    return referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0d0b0c0b0b0d0c0c0b0b0b0d;
                                  }
                                }, tnode40, "variableDeclaration", context31);
                              } finally {
                              }
                              if (tnode40 != null) {
                                tnode39.addChild("actualArgument", tnode40);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode39 != null) {
                            tnode36.addChild("actualArgument", tnode39);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode36 != null) {
                        tnode33.addChild("operation", tnode36);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode33 != null) {
                    tnode32.addChild("expression", tnode33);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode32 != null) {
                tlist31.add(tnode32);
              }
            }
            for (SNode child41 : TemplateUtil.asNotNull(tlist31)) {
              tnode19.addChild("statement", child41);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist42 = new ArrayList<SNode>();
            final Iterable<SNode> loopList42 = QueriesGenerated.sourceNodesQuery_429601079676786279(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a3a1a1a1a3));
            for (SNode itnode42 : loopList42) {
              if (itnode42 == null) {
                continue;
              }
              TemplateContext context42 = context.subContext(null, itnode42);
              final SNode tnode43 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context42, tnode43, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786255");
                {
                  final SNode tnode44 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context42, tnode44, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786256");
                    {
                      final SNode tnode45 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context42, tnode45, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786257");
                        {
                          final SNode tnode46 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context42, tnode46, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363073863");
                            environment.resolveInTemplateLater(tnode46, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a3a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context42);
                          } finally {
                          }
                          if (tnode46 != null) {
                            tnode45.addChild("leftExpression", tnode46);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode45 != null) {
                        tnode44.addChild("operand", tnode45);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode47 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context42, tnode47, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786259");
                        tnode47.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode47, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.setProperty(org.jetbrains.mps.openapi.language.SProperty,java.lang.String):void")));
                        {
                          Collection<SNode> tlist48 = null;
                          try {
                            SNode callInputNode48 = QueriesGenerated.sourceNodeQuery_5645466361084549194(new SourceSubstituteMacroNodeContext(context42, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a3a1a1a1a3));
                            TemplateContext context48 = context42.subContext(null, callInputNode48);
                            if (callInputNode48 != null) {
                              try {
                                tlist48 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319117922"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084549193"), context48);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child49 : TemplateUtil.asNotNull(tlist48)) {
                            tnode47.addChild("actualArgument", child49);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode50 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.PlusExpression");
                          try {
                            environment.nodeCopied(context42, tnode50, "tpl/r:00000000-0000-4000-0000-011c8959034c/6508799415739494441");
                            {
                              final SNode tnode51 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StringLiteral");
                              try {
                                environment.nodeCopied(context42, tnode51, "tpl/r:00000000-0000-4000-0000-011c8959034c/6508799415739496463");
                                SNodeAccessUtil.setProperty(tnode51, MetaAdapterFactory.getProperty(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf93d565d10L, 0xf93d565d11L, "value"), "");
                              } finally {
                              }
                              if (tnode51 != null) {
                                tnode50.addChild("leftExpression", tnode51);
                              }
                              // TODO validate child 
                            }
                            {
                              Collection<SNode> tlist52 = null;
                              final SNode copySrcInput52 = QueriesGenerated.sourceNodeQuery_429601079676786354(new SourceSubstituteMacroNodeContext(context42, copySrcMacro_g27wod_b0a0c0c0b0d0b0c0b0b0d0c0d0b0b0b0d));
                              tlist52 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput52), copySrcMacro_g27wod_b0a0c0c0b0d0b0c0b0b0d0c0d0b0b0b0d, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786342", context42);
                              for (SNode child53 : TemplateUtil.asNotNull(tlist52)) {
                                tnode50.addChild("rightExpression", child53);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode50 != null) {
                            tnode47.addChild("actualArgument", tnode50);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode47 != null) {
                        tnode44.addChild("operation", tnode47);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode44 != null) {
                    tnode43.addChild("expression", tnode44);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode43 != null) {
                tlist42.add(tnode43);
              }
            }
            for (SNode child54 : TemplateUtil.asNotNull(tlist42)) {
              tnode19.addChild("statement", child54);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist55 = new ArrayList<SNode>();
            final Iterable<SNode> loopList55 = QueriesGenerated.sourceNodesQuery_429601079676786433(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a4a1a1a1a3));
            for (SNode itnode55 : loopList55) {
              if (itnode55 == null) {
                continue;
              }
              TemplateContext context55 = context.subContext(null, itnode55);
              final SNode tnode56 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context55, tnode56, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786409");
                {
                  final SNode tnode57 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context55, tnode57, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786410");
                    {
                      final SNode tnode58 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context55, tnode58, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786411");
                        {
                          final SNode tnode59 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context55, tnode59, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363069236");
                            environment.resolveInTemplateLater(tnode59, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a4a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context55);
                          } finally {
                          }
                          if (tnode59 != null) {
                            tnode58.addChild("leftExpression", tnode59);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode58 != null) {
                        tnode57.addChild("operand", tnode58);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode60 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context55, tnode60, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786413");
                        tnode60.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode60, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.setProperty(org.jetbrains.mps.openapi.language.SProperty,java.lang.String):void")));
                        {
                          Collection<SNode> tlist61 = null;
                          try {
                            SNode callInputNode61 = QueriesGenerated.sourceNodeQuery_5645466361084551488(new SourceSubstituteMacroNodeContext(context55, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a4a1a1a1a3));
                            TemplateContext context61 = context55.subContext(null, callInputNode61);
                            if (callInputNode61 != null) {
                              try {
                                tlist61 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319117922"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084551487"), context61);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child62 : TemplateUtil.asNotNull(tlist61)) {
                            tnode60.addChild("actualArgument", child62);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode63 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.PlusExpression");
                          try {
                            environment.nodeCopied(context55, tnode63, "tpl/r:00000000-0000-4000-0000-011c8959034c/6508799415739521533");
                            {
                              final SNode tnode64 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StringLiteral");
                              try {
                                environment.nodeCopied(context55, tnode64, "tpl/r:00000000-0000-4000-0000-011c8959034c/6508799415739522128");
                                SNodeAccessUtil.setProperty(tnode64, MetaAdapterFactory.getProperty(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf93d565d10L, 0xf93d565d11L, "value"), "");
                              } finally {
                              }
                              if (tnode64 != null) {
                                tnode63.addChild("leftExpression", tnode64);
                              }
                              // TODO validate child 
                            }
                            {
                              Collection<SNode> tlist65 = null;
                              final SNode copySrcInput65 = QueriesGenerated.sourceNodeQuery_429601079676786508(new SourceSubstituteMacroNodeContext(context55, copySrcMacro_g27wod_b0a0c0c0b0d0b0c0b0b0d0c0e0b0b0b0d));
                              tlist65 = environment.copyNodes(TemplateUtil.singletonList(copySrcInput65), copySrcMacro_g27wod_b0a0c0c0b0d0b0c0b0b0d0c0e0b0b0b0d, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786498", context55);
                              for (SNode child66 : TemplateUtil.asNotNull(tlist65)) {
                                tnode63.addChild("rightExpression", child66);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode63 != null) {
                            tnode60.addChild("actualArgument", tnode63);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode60 != null) {
                        tnode57.addChild("operation", tnode60);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode57 != null) {
                    tnode56.addChild("expression", tnode57);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode56 != null) {
                tlist55.add(tnode56);
              }
            }
            for (SNode child67 : TemplateUtil.asNotNull(tlist55)) {
              tnode19.addChild("statement", child67);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist68 = new ArrayList<SNode>();
            final Iterable<SNode> loopList68 = QueriesGenerated.sourceNodesQuery_429601079676782514(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a5a1a1a1a3));
            for (SNode itnode68 : loopList68) {
              if (itnode68 == null) {
                continue;
              }
              TemplateContext context68 = context.subContext(null, itnode68);
              final SNode tnode69 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context68, tnode69, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782478");
                {
                  final SNode tnode70 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context68, tnode70, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782479");
                    {
                      final SNode tnode71 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context68, tnode71, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676783910");
                        {
                          final SNode tnode72 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context68, tnode72, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363083120");
                            environment.resolveInTemplateLater(tnode72, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a5a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context68);
                          } finally {
                          }
                          if (tnode72 != null) {
                            tnode71.addChild("leftExpression", tnode72);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode71 != null) {
                        tnode70.addChild("operand", tnode71);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode73 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context68, tnode73, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676782481");
                        tnode73.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode73, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.setReference(org.jetbrains.mps.openapi.language.SReferenceLink,org.jetbrains.mps.openapi.model.SReference):void")));
                        {
                          Collection<SNode> tlist74 = null;
                          try {
                            SNode callInputNode74 = QueriesGenerated.sourceNodeQuery_5645466361084567276(new SourceSubstituteMacroNodeContext(context68, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a5a1a1a1a3));
                            TemplateContext context74 = context68.subContext(null, callInputNode74);
                            if (callInputNode74 != null) {
                              try {
                                tlist74 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084565650"), context74);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child75 : TemplateUtil.asNotNull(tlist74)) {
                            tnode73.addChild("actualArgument", child75);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode76 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StaticMethodCall");
                          try {
                            environment.nodeCopied(context68, tnode76, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643291");
                            tnode76.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode76, PersistenceFacade.getInstance().createModelReference("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SReference.create(org.jetbrains.mps.openapi.language.SReferenceLink,org.jetbrains.mps.openapi.model.SNode,org.jetbrains.mps.openapi.model.SModelReference,org.jetbrains.mps.openapi.model.SNodeId):jetbrains.mps.smodel.SReference")));
                            tnode76.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf09L, 0x10a7588b546L, "classConcept"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf09L, 0x10a7588b546L, "classConcept"), tnode76, PersistenceFacade.getInstance().createModelReference("f:java_stub#6ed54515-acc8-4d1e-a16c-9fd6cfe951ea#jetbrains.mps.smodel(MPS.Core/jetbrains.mps.smodel@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SReference")));
                            {
                              Collection<SNode> tlist77 = null;
                              try {
                                SNode callInputNode77 = QueriesGenerated.sourceNodeQuery_5645466361084643294(new SourceSubstituteMacroNodeContext(context68, includeMacro_g27wod_b0a0a0a1a3a1a3a1a2a1a1a3a2a5a1a1a1a3));
                                TemplateContext context77 = context68.subContext(null, callInputNode77);
                                if (callInputNode77 != null) {
                                  try {
                                    tlist77 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643293"), context77);
                                  } finally {
                                  }

                                }

                              } finally {
                              }
                              for (SNode child78 : TemplateUtil.asNotNull(tlist77)) {
                                tnode76.addChild("actualArgument", child78);
                              }
                              // TODO validate child 
                            }
                            {
                              final SNode tnode79 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                              try {
                                environment.nodeCopied(context68, tnode79, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643301");
                                environment.resolveInTemplateLater(tnode79, "variableDeclaration", templateNode_g27wod_c0a1a1a4a1a3a1a2a1a1a3a2a5a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context68);
                              } finally {
                              }
                              if (tnode79 != null) {
                                tnode76.addChild("actualArgument", tnode79);
                              }
                              // TODO validate child 
                            }
                            {
                              final SNode tnode80 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                              try {
                                environment.nodeCopied(context68, tnode80, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643302");
                                {
                                  final SNode tnode81 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                                  try {
                                    environment.nodeCopied(context68, tnode81, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643303");
                                    tnode81.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode81, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.persistence(MPS.OpenAPI/org.jetbrains.mps.openapi.persistence@java_stub)"), PersistenceFacade.getInstance().createNodeId("~PersistenceFacade.createModelReference(java.lang.String):org.jetbrains.mps.openapi.model.SModelReference")));
                                    {
                                      final SNode tnode82 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StringLiteral");
                                      try {
                                        environment.nodeCopied(context68, tnode82, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643304");
                                        SNodeAccessUtil.setProperty(tnode82, MetaAdapterFactory.getProperty(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf93d565d10L, 0xf93d565d11L, "value"), TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_5645466361084643306(new PropertyMacroContext(context68, "targetModel", propertyMacro_g27wod_c0a0c0b0b0c0b0b0b0f0b0d0b0c0b0b0d0c0f0b0b0b0d))));
                                      } finally {
                                      }
                                      if (tnode82 != null) {
                                        tnode81.addChild("actualArgument", tnode82);
                                      }
                                      // TODO validate child 
                                    }
                                  } finally {
                                  }
                                  if (tnode81 != null) {
                                    tnode80.addChild("operation", tnode81);
                                  }
                                  // TODO validate child 
                                }
                                {
                                  final SNode tnode83 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                                  try {
                                    environment.nodeCopied(context68, tnode83, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643322");
                                    environment.resolveInTemplateLater(tnode83, "variableDeclaration", templateNode_g27wod_c0a1a1a2a1a5a1a3a1a2a1a1a3a2a5a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/8814250188784768973", "facade", context68);
                                  } finally {
                                  }
                                  if (tnode83 != null) {
                                    tnode80.addChild("operand", tnode83);
                                  }
                                  // TODO validate child 
                                }
                              } finally {
                              }
                              if (tnode80 != null) {
                                tnode76.addChild("actualArgument", tnode80);
                              }
                              // TODO validate child 
                            }
                            {
                              final SNode tnode84 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                              try {
                                environment.nodeCopied(context68, tnode84, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643323");
                                {
                                  final SNode tnode85 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                                  try {
                                    environment.nodeCopied(context68, tnode85, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643324");
                                    tnode85.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode85, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.persistence(MPS.OpenAPI/org.jetbrains.mps.openapi.persistence@java_stub)"), PersistenceFacade.getInstance().createNodeId("~PersistenceFacade.createNodeId(java.lang.String):org.jetbrains.mps.openapi.model.SNodeId")));
                                    {
                                      final SNode tnode86 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StringLiteral");
                                      try {
                                        environment.nodeCopied(context68, tnode86, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643325");
                                        SNodeAccessUtil.setProperty(tnode86, MetaAdapterFactory.getProperty(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf93d565d10L, 0xf93d565d11L, "value"), TemplateUtil.asString(QueriesGenerated.propertyMacro_GetPropertyValue_5645466361084643327(new PropertyMacroContext(context68, "targetNodeId", propertyMacro_g27wod_c0a0c0b0b0c0b0b0b0g0b0d0b0c0b0b0d0c0f0b0b0b0d))));
                                      } finally {
                                      }
                                      if (tnode86 != null) {
                                        tnode85.addChild("actualArgument", tnode86);
                                      }
                                      // TODO validate child 
                                    }
                                  } finally {
                                  }
                                  if (tnode85 != null) {
                                    tnode84.addChild("operation", tnode85);
                                  }
                                  // TODO validate child 
                                }
                                {
                                  final SNode tnode87 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                                  try {
                                    environment.nodeCopied(context68, tnode87, "tpl/r:00000000-0000-4000-0000-011c8959034c/5645466361084643341");
                                    environment.resolveInTemplateLater(tnode87, "variableDeclaration", templateNode_g27wod_c0a1a1a2a1a6a1a3a1a2a1a1a3a2a5a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/8814250188784768973", "facade", context68);
                                  } finally {
                                  }
                                  if (tnode87 != null) {
                                    tnode84.addChild("operand", tnode87);
                                  }
                                  // TODO validate child 
                                }
                              } finally {
                              }
                              if (tnode84 != null) {
                                tnode76.addChild("actualArgument", tnode84);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode76 != null) {
                            tnode73.addChild("actualArgument", tnode76);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode73 != null) {
                        tnode70.addChild("operation", tnode73);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode70 != null) {
                    tnode69.addChild("expression", tnode70);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode69 != null) {
                tlist68.add(tnode69);
              }
            }
            for (SNode child88 : TemplateUtil.asNotNull(tlist68)) {
              tnode19.addChild("statement", child88);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist89 = new ArrayList<SNode>();
            final Iterable<SNode> loopList89 = QueriesGenerated.sourceNodesQuery_429601079676786923(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a6a1a1a1a3));
            for (SNode itnode89 : loopList89) {
              if (itnode89 == null) {
                continue;
              }
              TemplateContext context89 = context.subContext(null, itnode89);
              final SNode tnode90 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context89, tnode90, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786869");
                {
                  final SNode tnode91 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context89, tnode91, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786870");
                    {
                      final SNode tnode92 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context89, tnode92, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786871");
                        {
                          final SNode tnode93 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context89, tnode93, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363107285");
                            environment.resolveInTemplateLater(tnode93, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a6a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context89);
                          } finally {
                          }
                          if (tnode93 != null) {
                            tnode92.addChild("leftExpression", tnode93);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode92 != null) {
                        tnode91.addChild("operand", tnode92);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode94 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context89, tnode94, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676786873");
                        tnode94.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode94, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.setReferenceTarget(org.jetbrains.mps.openapi.language.SReferenceLink,org.jetbrains.mps.openapi.model.SNode):void")));
                        {
                          Collection<SNode> tlist95 = null;
                          try {
                            SNode callInputNode95 = QueriesGenerated.sourceNodeQuery_5645466361084571125(new SourceSubstituteMacroNodeContext(context89, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a6a1a1a1a3));
                            TemplateContext context95 = context89.subContext(null, callInputNode95);
                            if (callInputNode95 != null) {
                              try {
                                tlist95 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084571124"), context95);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child96 : TemplateUtil.asNotNull(tlist95)) {
                            tnode94.addChild("actualArgument", child96);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode97 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.CastExpression");
                          try {
                            environment.nodeCopied(context89, tnode97, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787199");
                            {
                              final SNode tnode98 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                              try {
                                environment.nodeCopied(context89, tnode98, "tpl/r:00000000-0000-4000-0000-011c8959034c/3021153905151356958");
                                environment.resolve(new ReferenceResolver() {
                                  public Object resolve(SNode outputNode, TemplateContext context) {
                                    return QueriesGenerated.referenceMacro_GetReferent_429601079676787208(new ReferenceMacroContext(context, tnode98, referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0b0c0b0b0d0c0g0b0b0b0d, "variableDeclaration"));
                                  }
                                  public String getDefaultResolveInfo() {
                                    return "param1";
                                  }
                                  public SNodeReference getTemplateNode() {
                                    return referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0b0c0b0b0d0c0g0b0b0b0d;
                                  }
                                }, tnode98, "variableDeclaration", context89);
                              } finally {
                              }
                              if (tnode98 != null) {
                                tnode97.addChild("expression", tnode98);
                              }
                              // TODO validate child 
                            }
                            {
                              final SNode tnode99 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SNodeType");
                              try {
                                environment.nodeCopied(context89, tnode99, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787203");
                              } finally {
                              }
                              if (tnode99 != null) {
                                tnode97.addChild("type", tnode99);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode97 != null) {
                            tnode94.addChild("actualArgument", tnode97);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode94 != null) {
                        tnode91.addChild("operation", tnode94);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode91 != null) {
                    tnode90.addChild("expression", tnode91);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode90 != null) {
                tlist89.add(tnode90);
              }
            }
            for (SNode child100 : TemplateUtil.asNotNull(tlist89)) {
              tnode19.addChild("statement", child100);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist101 = new ArrayList<SNode>();
            final Iterable<SNode> loopList101 = QueriesGenerated.sourceNodesQuery_429601079676787549(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a7a1a1a1a3));
            for (SNode itnode101 : loopList101) {
              if (itnode101 == null) {
                continue;
              }
              TemplateContext context101 = context.subContext(null, itnode101);
              final SNode tnode102 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context101, tnode102, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787520");
                {
                  final SNode tnode103 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context101, tnode103, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787521");
                    {
                      final SNode tnode104 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context101, tnode104, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787522");
                        {
                          final SNode tnode105 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context101, tnode105, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363093017");
                            environment.resolveInTemplateLater(tnode105, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a7a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context101);
                          } finally {
                          }
                          if (tnode105 != null) {
                            tnode104.addChild("leftExpression", tnode105);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode104 != null) {
                        tnode103.addChild("operand", tnode104);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode106 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context101, tnode106, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787524");
                        tnode106.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode106, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.addChild(org.jetbrains.mps.openapi.language.SContainmentLink,org.jetbrains.mps.openapi.model.SNode):void")));
                        {
                          Collection<SNode> tlist107 = null;
                          try {
                            SNode callInputNode107 = QueriesGenerated.sourceNodeQuery_5645466361084572771(new SourceSubstituteMacroNodeContext(context101, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a7a1a1a1a3));
                            TemplateContext context107 = context101.subContext(null, callInputNode107);
                            if (callInputNode107 != null) {
                              try {
                                tlist107 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084572770"), context107);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child108 : TemplateUtil.asNotNull(tlist107)) {
                            tnode106.addChild("actualArgument", child108);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode109 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.CastExpression");
                          try {
                            environment.nodeCopied(context101, tnode109, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787535");
                            {
                              final SNode tnode110 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                              try {
                                environment.nodeCopied(context101, tnode110, "tpl/r:00000000-0000-4000-0000-011c8959034c/3021153905150310987");
                                environment.resolve(new ReferenceResolver() {
                                  public Object resolve(SNode outputNode, TemplateContext context) {
                                    return QueriesGenerated.referenceMacro_GetReferent_429601079676787538(new ReferenceMacroContext(context, tnode110, referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0b0c0b0b0d0c0h0b0b0b0d, "variableDeclaration"));
                                  }
                                  public String getDefaultResolveInfo() {
                                    return "param1";
                                  }
                                  public SNodeReference getTemplateNode() {
                                    return referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0b0c0b0b0d0c0h0b0b0b0d;
                                  }
                                }, tnode110, "variableDeclaration", context101);
                              } finally {
                              }
                              if (tnode110 != null) {
                                tnode109.addChild("expression", tnode110);
                              }
                              // TODO validate child 
                            }
                            {
                              final SNode tnode111 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SNodeType");
                              try {
                                environment.nodeCopied(context101, tnode111, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787547");
                              } finally {
                              }
                              if (tnode111 != null) {
                                tnode109.addChild("type", tnode111);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode109 != null) {
                            tnode106.addChild("actualArgument", tnode109);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode106 != null) {
                        tnode103.addChild("operation", tnode106);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode103 != null) {
                    tnode102.addChild("expression", tnode103);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode102 != null) {
                tlist101.add(tnode102);
              }
            }
            for (SNode child112 : TemplateUtil.asNotNull(tlist101)) {
              tnode19.addChild("statement", child112);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist113 = new ArrayList<SNode>();
            final Iterable<SNode> loopList113 = QueriesGenerated.sourceNodesQuery_429601079676787985(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a8a1a1a1a3));
            for (SNode itnode113 : loopList113) {
              if (itnode113 == null) {
                continue;
              }
              TemplateContext context113 = context.subContext(null, itnode113);
              final SNode tnode114 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ForeachStatement");
              try {
                environment.nodeCopied(context113, tnode114, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787866");
                {
                  final SNode tnode115 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.StatementList");
                  try {
                    environment.nodeCopied(context113, tnode115, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787867");
                    {
                      final SNode tnode116 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
                      try {
                        environment.nodeCopied(context113, tnode116, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788775");
                        {
                          final SNode tnode117 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                          try {
                            environment.nodeCopied(context113, tnode117, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788776");
                            {
                              final SNode tnode118 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                              try {
                                environment.nodeCopied(context113, tnode118, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788777");
                                {
                                  final SNode tnode119 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                                  try {
                                    environment.nodeCopied(context113, tnode119, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363081388");
                                    environment.resolveInTemplateLater(tnode119, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a1a1a1a1a3a2a8a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context113);
                                  } finally {
                                  }
                                  if (tnode119 != null) {
                                    tnode118.addChild("leftExpression", tnode119);
                                  }
                                  // TODO validate child 
                                }
                              } finally {
                              }
                              if (tnode118 != null) {
                                tnode117.addChild("operand", tnode118);
                              }
                              // TODO validate child 
                            }
                            {
                              final SNode tnode120 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                              try {
                                environment.nodeCopied(context113, tnode120, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788779");
                                tnode120.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode120, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.addChild(org.jetbrains.mps.openapi.language.SContainmentLink,org.jetbrains.mps.openapi.model.SNode):void")));
                                {
                                  Collection<SNode> tlist121 = null;
                                  try {
                                    SNode callInputNode121 = QueriesGenerated.sourceNodeQuery_5645466361084574408(new SourceSubstituteMacroNodeContext(context113, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a1a1a1a1a3a2a8a1a1a1a3));
                                    TemplateContext context121 = context113.subContext(null, callInputNode121);
                                    if (callInputNode121 != null) {
                                      try {
                                        tlist121 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084574407"), context121);
                                      } finally {
                                      }

                                    }

                                  } finally {
                                  }
                                  for (SNode child122 : TemplateUtil.asNotNull(tlist121)) {
                                    tnode120.addChild("actualArgument", child122);
                                  }
                                  // TODO validate child 
                                }
                                {
                                  final SNode tnode123 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                                  try {
                                    environment.nodeCopied(context113, tnode123, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363085829");
                                    environment.resolveInTemplateLater(tnode123, "variableDeclaration", templateNode_g27wod_c0a1a1a3a1a2a1a1a1a1a1a1a3a2a8a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787869", "n", context113);
                                  } finally {
                                  }
                                  if (tnode123 != null) {
                                    tnode120.addChild("actualArgument", tnode123);
                                  }
                                  // TODO validate child 
                                }
                              } finally {
                              }
                              if (tnode120 != null) {
                                tnode117.addChild("operation", tnode120);
                              }
                              // TODO validate child 
                            }
                          } finally {
                          }
                          if (tnode117 != null) {
                            tnode116.addChild("expression", tnode117);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode116 != null) {
                        tnode115.addChild("statement", tnode116);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode115 != null) {
                    tnode114.addChild("body", tnode115);
                  }
                  // TODO validate child 
                }
                {
                  final SNode tnode124 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration");
                  try {
                    environment.nodeCopied(context113, tnode124, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787869");
                    SNodeAccessUtil.setProperty(tnode124, MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name"), "n");
                    {
                      final SNode tnode125 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SNodeType");
                      try {
                        environment.nodeCopied(context113, tnode125, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788773");
                      } finally {
                      }
                      if (tnode125 != null) {
                        tnode124.addChild("type", tnode125);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode124 != null) {
                    tnode114.addChild("variable", tnode124);
                  }
                  // TODO validate child 
                }
                {
                  final SNode tnode126 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.CastExpression");
                  try {
                    environment.nodeCopied(context113, tnode126, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787970");
                    {
                      final SNode tnode127 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                      try {
                        environment.nodeCopied(context113, tnode127, "tpl/r:00000000-0000-4000-0000-011c8959034c/3021153905151608284");
                        environment.resolve(new ReferenceResolver() {
                          public Object resolve(SNode outputNode, TemplateContext context) {
                            return QueriesGenerated.referenceMacro_GetReferent_429601079676787973(new ReferenceMacroContext(context, tnode127, referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0d0c0i0b0b0b0d, "variableDeclaration"));
                          }
                          public String getDefaultResolveInfo() {
                            return "param1";
                          }
                          public SNodeReference getTemplateNode() {
                            return referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0d0c0i0b0b0b0d;
                          }
                        }, tnode127, "variableDeclaration", context113);
                      } finally {
                      }
                      if (tnode127 != null) {
                        tnode126.addChild("expression", tnode127);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode128 = environment.createOutputNode("jetbrains.mps.baseLanguage.collections.structure.SequenceType");
                      try {
                        environment.nodeCopied(context113, tnode128, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676788769");
                        {
                          final SNode tnode129 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SNodeType");
                          try {
                            environment.nodeCopied(context113, tnode129, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676787982");
                          } finally {
                          }
                          if (tnode129 != null) {
                            tnode128.addChild("elementType", tnode129);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode128 != null) {
                        tnode126.addChild("type", tnode128);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode126 != null) {
                    tnode114.addChild("iterable", tnode126);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode114 != null) {
                tlist113.add(tnode114);
              }
            }
            for (SNode child130 : TemplateUtil.asNotNull(tlist113)) {
              tnode19.addChild("statement", child130);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist131 = new ArrayList<SNode>();
            final Iterable<SNode> loopList131 = QueriesGenerated.sourceNodesQuery_429601079676789822(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a9a1a1a1a3));
            for (SNode itnode131 : loopList131) {
              if (itnode131 == null) {
                continue;
              }
              TemplateContext context131 = context.subContext(null, itnode131);
              Collection<SNode> tlist132 = null;
              final Object varValue132 = QueriesGenerated.insertMacro_varValue_429601079676789872(new TemplateVarContext(context131, varMacroRef_g27wod_b0a0a3a2a9a1a1a1a3));
              TemplateContext context132 = context131.subContext(Collections.<String,Object>singletonMap("var:outer", varValue132));
              final List<SNode> tlist133 = new ArrayList<SNode>();
              final Iterable<SNode> loopList133 = QueriesGenerated.sourceNodesQuery_429601079676789878(new SourceSubstituteMacroNodesContext(context132, loopMacroRef_g27wod_b0a0a6a2a9a1a1a1a3));
              for (SNode itnode133 : loopList133) {
                if (itnode133 == null) {
                  continue;
                }
                TemplateContext context133 = context132.subContext(null, itnode133);
                final SNode tnode134 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
                try {
                  environment.nodeCopied(context133, tnode134, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789796");
                  {
                    final SNode tnode135 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                    try {
                      environment.nodeCopied(context133, tnode135, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789797");
                      {
                        final SNode tnode136 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                        try {
                          environment.nodeCopied(context133, tnode136, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789798");
                          {
                            final SNode tnode137 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                            try {
                              environment.nodeCopied(context133, tnode137, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363111130");
                              environment.resolve(new ReferenceResolver() {
                                public Object resolve(SNode outputNode, TemplateContext context) {
                                  return QueriesGenerated.referenceMacro_GetReferent_429601079677083064(new ReferenceMacroContext(context, tnode137, referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0b0b0b0d0h0c0j0b0b0b0d, "variableDeclaration"));
                                }
                                public String getDefaultResolveInfo() {
                                  return "_node_";
                                }
                                public SNodeReference getTemplateNode() {
                                  return referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0b0b0b0d0h0c0j0b0b0b0d;
                                }
                              }, tnode137, "variableDeclaration", context133);
                            } finally {
                            }
                            if (tnode137 != null) {
                              tnode136.addChild("leftExpression", tnode137);
                            }
                            // TODO validate child 
                          }
                        } finally {
                        }
                        if (tnode136 != null) {
                          tnode135.addChild("operand", tnode136);
                        }
                        // TODO validate child 
                      }
                      {
                        final SNode tnode138 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                        try {
                          environment.nodeCopied(context133, tnode138, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789800");
                          tnode138.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode138, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.addChild(org.jetbrains.mps.openapi.language.SContainmentLink,org.jetbrains.mps.openapi.model.SNode):void")));
                          {
                            Collection<SNode> tlist139 = null;
                            try {
                              SNode callInputNode139 = QueriesGenerated.sourceNodeQuery_5645466361084575760(new SourceSubstituteMacroNodeContext(context133, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a7a2a9a1a1a1a3));
                              TemplateContext context139 = context133.subContext(null, callInputNode139);
                              if (callInputNode139 != null) {
                                try {
                                  tlist139 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084575759"), context139);
                                } finally {
                                }

                              }

                            } finally {
                            }
                            for (SNode child140 : TemplateUtil.asNotNull(tlist139)) {
                              tnode138.addChild("actualArgument", child140);
                            }
                            // TODO validate child 
                          }
                          {
                            final SNode tnode141 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.CastExpression");
                            try {
                              environment.nodeCopied(context133, tnode141, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789926");
                              {
                                final SNode tnode142 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SNodeType");
                                try {
                                  environment.nodeCopied(context133, tnode142, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789929");
                                } finally {
                                }
                                if (tnode142 != null) {
                                  tnode141.addChild("type", tnode142);
                                }
                                // TODO validate child 
                              }
                              {
                                final SNode tnode143 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                                try {
                                  environment.nodeCopied(context133, tnode143, "tpl/r:00000000-0000-4000-0000-011c8959034c/3021153905151612451");
                                  environment.resolve(new ReferenceResolver() {
                                    public Object resolve(SNode outputNode, TemplateContext context) {
                                      return QueriesGenerated.referenceMacro_GetReferent_429601079676789933(new ReferenceMacroContext(context, tnode143, referenceMacro_g27wod_c0a0a0a0a0a0b0b0c0b0d0b0c0b0b0d0h0c0j0b0b0b0d, "variableDeclaration"));
                                    }
                                    public String getDefaultResolveInfo() {
                                      return "param1";
                                    }
                                    public SNodeReference getTemplateNode() {
                                      return referenceMacro_g27wod_c0a0a0a0a0a0b0b0c0b0d0b0c0b0b0d0h0c0j0b0b0b0d;
                                    }
                                  }, tnode143, "variableDeclaration", context133);
                                } finally {
                                }
                                if (tnode143 != null) {
                                  tnode141.addChild("expression", tnode143);
                                }
                                // TODO validate child 
                              }
                            } finally {
                            }
                            if (tnode141 != null) {
                              tnode138.addChild("actualArgument", tnode141);
                            }
                            // TODO validate child 
                          }
                        } finally {
                        }
                        if (tnode138 != null) {
                          tnode135.addChild("operation", tnode138);
                        }
                        // TODO validate child 
                      }
                    } finally {
                    }
                    if (tnode135 != null) {
                      tnode134.addChild("expression", tnode135);
                    }
                    // TODO validate child 
                  }
                } finally {
                }
                if (tnode134 != null) {
                  tlist133.add(tnode134);
                }
              }
              tlist132 = tlist133;
              if (tlist132 != null) {
                tlist131.addAll(tlist132);
              }
            }
            for (SNode child144 : TemplateUtil.asNotNull(tlist131)) {
              tnode19.addChild("statement", child144);
            }
            // TODO validate child 
          }
          {
            Collection<SNode> tlist145 = null;
            final Iterable<SNode> copyListInput145 = QueriesGenerated.sourceNodesQuery_429601079676845658(new SourceSubstituteMacroNodesContext(context, copySrcListMacro_g27wod_b0a0a1a01a1a1a1a3));
            tlist145 = environment.copyNodes(copyListInput145, copySrcListMacro_g27wod_b0a0a1a01a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676845575", context);
            for (SNode child146 : TemplateUtil.asNotNull(tlist145)) {
              tnode19.addChild("statement", child146);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist147 = new ArrayList<SNode>();
            final Iterable<SNode> loopList147 = QueriesGenerated.sourceNodesQuery_429601079676789067(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a11a1a1a1a3));
            for (SNode itnode147 : loopList147) {
              if (itnode147 == null) {
                continue;
              }
              TemplateContext context147 = context.subContext(null, itnode147);
              final SNode tnode148 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
              try {
                environment.nodeCopied(context147, tnode148, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789038");
                {
                  final SNode tnode149 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                  try {
                    environment.nodeCopied(context147, tnode149, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789039");
                    {
                      final SNode tnode150 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                      try {
                        environment.nodeCopied(context147, tnode150, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789040");
                        {
                          final SNode tnode151 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context147, tnode151, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363090003");
                            environment.resolveInTemplateLater(tnode151, "variableDeclaration", templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a11a1a1a1a3, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676709784", "_node_", context147);
                          } finally {
                          }
                          if (tnode151 != null) {
                            tnode150.addChild("leftExpression", tnode151);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode150 != null) {
                        tnode149.addChild("operand", tnode150);
                      }
                      // TODO validate child 
                    }
                    {
                      final SNode tnode152 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                      try {
                        environment.nodeCopied(context147, tnode152, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789042");
                        tnode152.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode152, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.addChild(org.jetbrains.mps.openapi.language.SContainmentLink,org.jetbrains.mps.openapi.model.SNode):void")));
                        {
                          Collection<SNode> tlist153 = null;
                          try {
                            SNode callInputNode153 = QueriesGenerated.sourceNodeQuery_5645466361084623398(new SourceSubstituteMacroNodeContext(context147, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a11a1a1a1a3));
                            TemplateContext context153 = context147.subContext(null, callInputNode153);
                            if (callInputNode153 != null) {
                              try {
                                tlist153 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084623397"), context153);
                              } finally {
                              }

                            }

                          } finally {
                          }
                          for (SNode child154 : TemplateUtil.asNotNull(tlist153)) {
                            tnode152.addChild("actualArgument", child154);
                          }
                          // TODO validate child 
                        }
                        {
                          final SNode tnode155 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                          try {
                            environment.nodeCopied(context147, tnode155, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363090073");
                            environment.resolve(new ReferenceResolver() {
                              public Object resolve(SNode outputNode, TemplateContext context) {
                                return QueriesGenerated.referenceMacro_GetReferent_429601079676846587(new ReferenceMacroContext(context, tnode155, referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0c0b0b0d0c0l0b0b0b0d, "variableDeclaration"));
                              }
                              public String getDefaultResolveInfo() {
                                return "_node_";
                              }
                              public SNodeReference getTemplateNode() {
                                return referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0c0b0b0d0c0l0b0b0b0d;
                              }
                            }, tnode155, "variableDeclaration", context147);
                          } finally {
                          }
                          if (tnode155 != null) {
                            tnode152.addChild("actualArgument", tnode155);
                          }
                          // TODO validate child 
                        }
                      } finally {
                      }
                      if (tnode152 != null) {
                        tnode149.addChild("operation", tnode152);
                      }
                      // TODO validate child 
                    }
                  } finally {
                  }
                  if (tnode149 != null) {
                    tnode148.addChild("expression", tnode149);
                  }
                  // TODO validate child 
                }
              } finally {
              }
              if (tnode148 != null) {
                tlist147.add(tnode148);
              }
            }
            for (SNode child156 : TemplateUtil.asNotNull(tlist147)) {
              tnode19.addChild("statement", child156);
            }
            // TODO validate child 
          }
          {
            final List<SNode> tlist157 = new ArrayList<SNode>();
            final Iterable<SNode> loopList157 = QueriesGenerated.sourceNodesQuery_429601079676789416(new SourceSubstituteMacroNodesContext(context, loopMacroRef_g27wod_b0a0a1a21a1a1a1a3));
            for (SNode itnode157 : loopList157) {
              if (itnode157 == null) {
                continue;
              }
              TemplateContext context157 = context.subContext(null, itnode157);
              Collection<SNode> tlist158 = null;
              final Object varValue158 = QueriesGenerated.insertMacro_varValue_429601079676789499(new TemplateVarContext(context157, varMacroRef_g27wod_b0a0a3a2a21a1a1a1a3));
              TemplateContext context158 = context157.subContext(Collections.<String,Object>singletonMap("var:outer", varValue158));
              final List<SNode> tlist159 = new ArrayList<SNode>();
              final Iterable<SNode> loopList159 = QueriesGenerated.sourceNodesQuery_429601079676789520(new SourceSubstituteMacroNodesContext(context158, loopMacroRef_g27wod_b0a0a6a2a21a1a1a1a3));
              for (SNode itnode159 : loopList159) {
                if (itnode159 == null) {
                  continue;
                }
                TemplateContext context159 = context158.subContext(null, itnode159);
                final SNode tnode160 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.ExpressionStatement");
                try {
                  environment.nodeCopied(context159, tnode160, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789390");
                  {
                    final SNode tnode161 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.DotExpression");
                    try {
                      environment.nodeCopied(context159, tnode161, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789391");
                      {
                        final SNode tnode162 = environment.createOutputNode("jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression");
                        try {
                          environment.nodeCopied(context159, tnode162, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789392");
                          {
                            final SNode tnode163 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                            try {
                              environment.nodeCopied(context159, tnode163, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363113553");
                              environment.resolve(new ReferenceResolver() {
                                public Object resolve(SNode outputNode, TemplateContext context) {
                                  return QueriesGenerated.referenceMacro_GetReferent_429601079677082939(new ReferenceMacroContext(context, tnode163, referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0b0b0b0d0h0c0m0b0b0b0d, "variableDeclaration"));
                                }
                                public String getDefaultResolveInfo() {
                                  return "_node_";
                                }
                                public SNodeReference getTemplateNode() {
                                  return referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0b0b0b0d0h0c0m0b0b0b0d;
                                }
                              }, tnode163, "variableDeclaration", context159);
                            } finally {
                            }
                            if (tnode163 != null) {
                              tnode162.addChild("leftExpression", tnode163);
                            }
                            // TODO validate child 
                          }
                        } finally {
                        }
                        if (tnode162 != null) {
                          tnode161.addChild("operand", tnode162);
                        }
                        // TODO validate child 
                      }
                      {
                        final SNode tnode164 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation");
                        try {
                          environment.nodeCopied(context159, tnode164, "tpl/r:00000000-0000-4000-0000-011c8959034c/429601079676789394");
                          tnode164.setReference(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), SReference.create(MetaAdapterFactory.getReferenceLink(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x11857355952L, 0xf8c78301adL, "baseMethodDeclaration"), tnode164, PersistenceFacade.getInstance().createModelReference("f:java_stub#8865b7a8-5271-43d3-884c-6fd1d9cfdd34#org.jetbrains.mps.openapi.model(MPS.OpenAPI/org.jetbrains.mps.openapi.model@java_stub)"), PersistenceFacade.getInstance().createNodeId("~SNode.addChild(org.jetbrains.mps.openapi.language.SContainmentLink,org.jetbrains.mps.openapi.model.SNode):void")));
                          {
                            Collection<SNode> tlist165 = null;
                            try {
                              SNode callInputNode165 = QueriesGenerated.sourceNodeQuery_5645466361084625204(new SourceSubstituteMacroNodeContext(context159, includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a7a2a21a1a1a1a3));
                              TemplateContext context165 = context159.subContext(null, callInputNode165);
                              if (callInputNode165 != null) {
                                try {
                                  tlist165 = environment.applyTemplate(new SNodePointer("r:00000000-0000-4000-0000-011c89590303(jetbrains.mps.lang.smodel.generator.baseLanguage.template.main@generator)", "6506750610319222074"), new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084625203"), context165);
                                } finally {
                                }

                              }

                            } finally {
                            }
                            for (SNode child166 : TemplateUtil.asNotNull(tlist165)) {
                              tnode164.addChild("actualArgument", child166);
                            }
                            // TODO validate child 
                          }
                          {
                            final SNode tnode167 = environment.createOutputNode("jetbrains.mps.baseLanguage.structure.VariableReference");
                            try {
                              environment.nodeCopied(context159, tnode167, "tpl/r:00000000-0000-4000-0000-011c8959034c/4265636116363113475");
                              environment.resolve(new ReferenceResolver() {
                                public Object resolve(SNode outputNode, TemplateContext context) {
                                  return QueriesGenerated.referenceMacro_GetReferent_429601079676846089(new ReferenceMacroContext(context, tnode167, referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0c0b0b0d0h0c0m0b0b0b0d, "variableDeclaration"));
                                }
                                public String getDefaultResolveInfo() {
                                  return "_node_";
                                }
                                public SNodeReference getTemplateNode() {
                                  return referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0c0b0b0d0h0c0m0b0b0b0d;
                                }
                              }, tnode167, "variableDeclaration", context159);
                            } finally {
                            }
                            if (tnode167 != null) {
                              tnode164.addChild("actualArgument", tnode167);
                            }
                            // TODO validate child 
                          }
                        } finally {
                        }
                        if (tnode164 != null) {
                          tnode161.addChild("operation", tnode164);
                        }
                        // TODO validate child 
                      }
                    } finally {
                    }
                    if (tnode161 != null) {
                      tnode160.addChild("expression", tnode161);
                    }
                    // TODO validate child 
                  }
                } finally {
                }
                if (tnode160 != null) {
                  tlist159.add(tnode160);
                }
              }
              tlist158 = tlist159;
              if (tlist158 != null) {
                tlist157.addAll(tlist158);
              }
            }
            for (SNode child168 : TemplateUtil.asNotNull(tlist157)) {
              tnode19.addChild("statement", child168);
            }
            // TODO validate child 
          }
        } finally {
        }
        if (tnode19 != null) {
          tnode18.addChild("statements", tnode19);
        }
        // TODO validate child 
      }
    } finally {
    }
    return tnode18;
  }
  public Collection<SNode> apply(@NotNull TemplateExecutionEnvironment environment, @NotNull TemplateContext context) throws GenerationException {
    return TemplateUtil.asList(applyPart0(environment, context), applyPart1(environment, context));
  }
  public Collection<SNode> weave(@NotNull TemplateExecutionEnvironment environment, @NotNull TemplateContext context, @NotNull SNode outputContextNode) throws GenerationException {
    Collection<SNode> tlistpart0 = applyPart0(environment, context);
    SNodeReference weaveTf0 = weaveTfConst_g27wod_a0b0f;
    for (SNode nodeToWeave : TemplateUtil.asNotNull(tlistpart0)) {
      environment.weaveNode(outputContextNode, "statement", nodeToWeave, weaveTf0, context.getInput());
    }
    SNode tnodepart1 = applyPart1(environment, context);
    SNodeReference weaveTf1 = weaveTfConst_g27wod_a0e0f;
    environment.weaveNode(outputContextNode, "statement", tnodepart1, weaveTf1, context.getInput());
    return TemplateUtil.asList(tlistpart0, tnodepart1);
  }
  private static SNodePointer varMacroRef_g27wod_b0a0a1a2 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676845414");
  private static SNodePointer propertyMacro_g27wod_c0a0c0b0d0b0e0c = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676781979");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a3a1a3a3a1a4a2 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5494233285271349709");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0c0b0b0e0b0d0d0b0e0c = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5494233285271349719");
  private static SNodePointer ifMacroRef_g27wod_b0a0b0e0b0d0d0b0e0c = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5494233285271349733");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a1a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676785721");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a1a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363114829");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a1a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084543039");
  private static SNodePointer copySrcMacro_g27wod_b0a0c0d0b0c0b0b0d0c0b0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786027");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a2a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786595");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a2a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363100545");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a2a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084547488");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0d0b0c0b0b0d0c0c0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "3143347504358680259");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a3a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786278");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a3a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363073863");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a3a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084549193");
  private static SNodePointer copySrcMacro_g27wod_b0a0c0c0b0d0b0c0b0b0d0c0d0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786353");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a4a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786432");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a4a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363069236");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a4a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084551487");
  private static SNodePointer copySrcMacro_g27wod_b0a0c0c0b0d0b0c0b0b0d0c0e0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786507");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676782513");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363083120");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084565650");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a3a1a3a1a2a1a1a3a2a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643293");
  private static SNodePointer templateNode_g27wod_c0a1a1a4a1a3a1a2a1a1a3a2a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643301");
  private static SNodePointer propertyMacro_g27wod_c0a0c0b0b0c0b0b0b0f0b0d0b0c0b0b0d0c0f0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643305");
  private static SNodePointer templateNode_g27wod_c0a1a1a2a1a5a1a3a1a2a1a1a3a2a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643322");
  private static SNodePointer propertyMacro_g27wod_c0a0c0b0b0c0b0b0b0g0b0d0b0c0b0b0d0c0f0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643326");
  private static SNodePointer templateNode_g27wod_c0a1a1a2a1a6a1a3a1a2a1a1a3a2a5a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084643341");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a6a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676786922");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a6a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363107285");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a6a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084571124");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0b0c0b0b0d0c0g0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676787207");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a7a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676787548");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a7a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363093017");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a7a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084572770");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0b0c0b0b0d0c0h0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676787537");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a8a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676787984");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a1a1a1a1a3a2a8a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363081388");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a1a1a1a1a3a2a8a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084574407");
  private static SNodePointer templateNode_g27wod_c0a1a1a3a1a2a1a1a1a1a1a1a3a2a8a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363085829");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0d0d0c0i0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676787972");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a9a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789821");
  private static SNodePointer varMacroRef_g27wod_b0a0a3a2a9a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789871");
  private static SNodePointer loopMacroRef_g27wod_b0a0a6a2a9a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789877");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0b0b0b0d0h0c0j0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079677083063");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a7a2a9a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084575759");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0c0b0d0b0c0b0b0d0h0c0j0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789932");
  private static SNodePointer copySrcListMacro_g27wod_b0a0a1a01a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676845657");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a11a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789066");
  private static SNodePointer templateNode_g27wod_c0a1a1a1a1a1a1a1a3a2a11a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "4265636116363090003");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a2a11a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084623397");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0c0b0b0d0c0l0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676846586");
  private static SNodePointer loopMacroRef_g27wod_b0a0a1a21a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789415");
  private static SNodePointer varMacroRef_g27wod_b0a0a3a2a21a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789498");
  private static SNodePointer loopMacroRef_g27wod_b0a0a6a2a21a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676789519");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0b0b0b0b0b0d0h0c0m0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079677082938");
  private static SNodePointer includeMacro_g27wod_b0a0a0a1a2a1a2a1a1a3a7a2a21a1a1a1a3 = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "5645466361084625203");
  private static SNodePointer referenceMacro_g27wod_c0a0a0a0a0a0b0b0d0b0c0b0b0d0h0c0m0b0b0b0d = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676846088");
  private static SNodePointer weaveTfConst_g27wod_a0b0f = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079677119986");
  private static SNodePointer weaveTfConst_g27wod_a0e0f = new SNodePointer("r:00000000-0000-4000-0000-011c8959034c(jetbrains.mps.lang.quotation.generator.baseLanguage.template.main@generator)", "429601079676845473");
}
